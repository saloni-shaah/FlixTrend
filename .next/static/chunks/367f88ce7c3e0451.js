(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88143,(e,t,i)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:i,blurHeight:a,blurDataURL:n,objectFit:r}){let s=i?40*i:e,o=a?40*a:t,l=s&&o?`viewBox='0 0 ${s} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===r?"xMidYMid":"cover"===r?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${n}'/%3E%3C/svg%3E`}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},87690,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return r},imageConfigDefault:function(){return s}};for(var n in a)Object.defineProperty(i,n,{enumerable:!0,get:a[n]});let r=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"getImgProps",{enumerable:!0,get:function(){return l}}),e.r(33525);let a=e.r(88143),n=e.r(87690),r=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:i=!1,priority:l=!1,preload:c=!1,loading:d,className:u,quality:f,width:m,height:p,fill:h=!1,style:g,overrideSrc:x,onLoad:b,onLoadingComplete:y,placeholder:v="empty",blurDataURL:j,fetchPriority:w,decoding:S="async",layout:C,objectFit:_,objectPosition:k,lazyBoundary:N,lazyRoot:P,...E},O){var I;let R,z,T,{imgConf:M,showAltText:F,blurComplete:A,defaultLoader:$}=O,D=M||n.imageConfigDefault;if("allSizes"in D)R=D;else{let e=[...D.deviceSizes,...D.imageSizes].sort((e,t)=>e-t),t=D.deviceSizes.sort((e,t)=>e-t),i=D.qualities?.sort((e,t)=>e-t);R={...D,allSizes:e,deviceSizes:t,qualities:i}}if(void 0===$)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let L=E.loader||$;delete E.loader,delete E.srcSet;let B="__next_img_default"in L;if(B){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=L;L=t=>{let{config:i,...a}=t;return e(a)}}if(C){"fill"===C&&(h=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(g={...g,...e});let i={responsive:"100vw",fill:"100vw"}[C];i&&!t&&(t=i)}let U="",q=o(m),G=o(p);if((I=e)&&"object"==typeof I&&(s(I)||void 0!==I.src)){let t=s(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(z=t.blurWidth,T=t.blurHeight,j=j||t.blurDataURL,U=t.src,!h)if(q||G){if(q&&!G){let e=q/t.width;G=Math.round(t.height*e)}else if(!q&&G){let e=G/t.height;q=Math.round(t.width*e)}}else q=t.width,G=t.height}let H=!l&&!c&&("lazy"===d||void 0===d);(!(e="string"==typeof e?e:U)||e.startsWith("data:")||e.startsWith("blob:"))&&(i=!0,H=!1),R.unoptimized&&(i=!0),B&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(i=!0);let V=o(f),W=Object.assign(h?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:_,objectPosition:k}:{},F?{}:{color:"transparent"},g),X=A||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:q,heightInt:G,blurWidth:z,blurHeight:T,blurDataURL:j||"",objectFit:W.objectFit})}")`:`url("${v}")`,Y=r.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,J=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},K=function({config:e,src:t,unoptimized:i,width:a,quality:n,sizes:r,loader:s}){if(i)return{src:t,srcSet:void 0,sizes:void 0};let{widths:o,kind:l}=function({deviceSizes:e,allSizes:t},i,a){if(a){let i=/(^|\s)(1?\d?\d)vw/g,n=[];for(let e;e=i.exec(a);)n.push(parseInt(e[2]));if(n.length){let i=.01*Math.min(...n);return{widths:t.filter(t=>t>=e[0]*i),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof i?{widths:e,kind:"w"}:{widths:[...new Set([i,2*i].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,r),c=o.length-1;return{sizes:r||"w"!==l?r:"100vw",srcSet:o.map((i,a)=>`${s({config:e,src:t,quality:n,width:i})} ${"w"===l?i:a+1}${l}`).join(", "),src:s({config:e,src:t,quality:n,width:o[c]})}}({config:R,src:e,unoptimized:i,width:q,quality:V,sizes:t,loader:L}),Q=H?"lazy":d;return{props:{...E,loading:Q,fetchPriority:w,width:q,height:G,decoding:S,className:u,style:{...W,...J},sizes:K.sizes,srcSet:K.srcSet,src:x||K.src},meta:{unoptimized:i,preload:c||l,placeholder:v,fill:h}}}},98879,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return o}});let a=e.r(71645),n="undefined"==typeof window,r=n?()=>{}:a.useLayoutEffect,s=n?()=>{}:a.useEffect;function o(e){let{headManager:t,reduceComponentsToState:i}=e;function o(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(i(e))}}return n&&(t?.mountedInstances?.add(e.children),o()),r(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),r(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={default:function(){return h},defaultHead:function(){return u}};for(var n in a)Object.defineProperty(i,n,{enumerable:!0,get:a[n]});let r=e.r(55682),s=e.r(90809),o=e.r(43476),l=s._(e.r(71645)),c=r._(e.r(98879)),d=e.r(42732);function u(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let m=["name","httpEquiv","charSet","itemProp"];function p(e){let t,i,a,n;return e.reduce(f,[]).reverse().concat(u().reverse()).filter((t=new Set,i=new Set,a=new Set,n={},e=>{let r=!0,s=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){s=!0;let i=e.key.slice(e.key.indexOf("$")+1);t.has(i)?r=!1:t.add(i)}switch(e.type){case"title":case"base":i.has(e.type)?r=!1:i.add(e.type);break;case"meta":for(let t=0,i=m.length;t<i;t++){let i=m[t];if(e.props.hasOwnProperty(i))if("charSet"===i)a.has(i)?r=!1:a.add(i);else{let t=e.props[i],a=n[i]||new Set;("name"!==i||!s)&&a.has(t)?r=!1:(a.add(t),n[i]=a)}}}return r})).reverse().map((e,t)=>{let i=e.key||t;return l.default.cloneElement(e,{key:i})})}let h=function({children:e}){let t=(0,l.useContext)(d.HeadManagerContext);return(0,o.jsx)(c.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},18556,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ImageConfigContext",{enumerable:!0,get:function(){return r}});let a=e.r(55682)._(e.r(71645)),n=e.r(87690),r=a.default.createContext(n.imageConfigDefault)},65856,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"RouterContext",{enumerable:!0,get:function(){return a}});let a=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,i)=>{"use strict";function a(e,t){let i=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e,0):i}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"findClosestQuality",{enumerable:!0,get:function(){return a}})},1948,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return r}});let a=e.r(70965);function n({config:e,src:t,width:i,quality:n}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let r=(0,a.findClosestQuality)(n,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${i}&q=${r}${t.startsWith("/_next/static/media/"),""}`}n.__next_img_default=!0;let r=n},85437,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Image",{enumerable:!0,get:function(){return v}});let a=e.r(55682),n=e.r(90809),r=e.r(43476),s=n._(e.r(71645)),o=a._(e.r(74080)),l=a._(e.r(25633)),c=e.r(8927),d=e.r(87690),u=e.r(18556);e.r(33525);let f=e.r(65856),m=a._(e.r(1948)),p=e.r(18581),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e,t,i,a,n,r,s){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),i?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,n=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function x(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,s.forwardRef)(({src:e,srcSet:t,sizes:i,height:a,width:n,decoding:o,className:l,style:c,fetchPriority:d,placeholder:u,loading:f,unoptimized:m,fill:h,onLoadRef:b,onLoadingCompleteRef:y,setBlurComplete:v,setShowAltText:j,sizesInput:w,onLoad:S,onError:C,..._},k)=>{let N=(0,s.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&g(e,u,b,y,v,m,w))},[e,u,b,y,v,C,m,w]),P=(0,p.useMergedRef)(k,N);return(0,r.jsx)("img",{..._,...x(d),loading:f,width:n,height:a,decoding:o,"data-nimg":h?"fill":"1",className:l,style:c,sizes:i,srcSet:t,src:e,ref:P,onLoad:e=>{g(e.currentTarget,u,b,y,v,m,w)},onError:e=>{j(!0),"empty"!==u&&v(!0),C&&C(e)}})});function y({isAppRouter:e,imgAttributes:t}){let i={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...x(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,i),null):(0,r.jsx)(l.default,{children:(0,r.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...i},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,s.forwardRef)((e,t)=>{let i=(0,s.useContext)(f.RouterContext),a=(0,s.useContext)(u.ImageConfigContext),n=(0,s.useMemo)(()=>{let e=h||a||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),i=e.deviceSizes.sort((e,t)=>e-t),n=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:i,qualities:n,localPatterns:"undefined"==typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:o,onLoadingComplete:l}=e,p=(0,s.useRef)(o);(0,s.useEffect)(()=>{p.current=o},[o]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[x,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),{props:S,meta:C}=(0,c.getImgProps)(e,{defaultLoader:m.default,imgConf:n,blurComplete:x,showAltText:j});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{...S,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:p,onLoadingCompleteRef:g,setBlurComplete:v,setShowAltText:w,sizesInput:e.sizes,ref:t}),C.preload?(0,r.jsx)(y,{isAppRouter:!i,imgAttributes:S}):null]})});("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},94909,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={default:function(){return d},getImageProps:function(){return c}};for(var n in a)Object.defineProperty(i,n,{enumerable:!0,get:a[n]});let r=e.r(55682),s=e.r(8927),o=e.r(85437),l=r._(e.r(1948));function c(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let d=o.Image},57688,(e,t,i)=>{t.exports=e.r(94909)},81789,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(70703);e.i(36180);var n=e.i(98925),r=e.i(7233),s=e.i(45423),o=e.i(55436),l=e.i(87951),c=e.i(78716),d=e.i(58377),u=e.i(92163),f=e.i(53339),m=e.i(75254);let p=(0,m.default)("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var h=e.i(94908),g=e.i(97960),x=e.i(58472),b=e.i(91385),y=e.i(49685),v=e.i(41966),j=e.i(31245),w=e.i(83086),S=e.i(73998),C=e.i(68553),_=e.i(47780),k=e.i(90519),N=e.i(92457),P=e.i(71757),E=e.i(43897),O=e.i(23385),I=e.i(23609),R=e.i(85883);let z=(0,m.default)("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);var T=e.i(3692),M=e.i(36431),F=e.i(25983),A=e.i(46948),$=e.i(48173),D=e.i(63727),L=e.i(90597),B=e.i(64030),U=e.i(61059),q=e.i(95762),G=e.i(46932),H=e.i(88653),V=e.i(89013),W=e.i(86079),X=e.i(20641),Y=e.i(18566),J=e.i(22016);let K=(0,n.getFirestore)(U.app);function Q({onGoLive:e}){let[a,r]=(0,i.useState)(null),s=(0,Y.useRouter)();return(0,i.useEffect)(()=>{let e=U.auth.onAuthStateChanged(async e=>{if(e){let t=await (0,n.getDoc)((0,n.doc)(K,"users",e.uid));t.exists()&&r(t.data())}});return()=>e()},[]),(0,t.jsx)("div",{className:"w-full max-w-xl mb-6",children:(0,t.jsxs)("button",{className:"glass-card p-4 text-center w-full",onClick:()=>s.push("/create"),children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"Flix Your Fit by dropping a post"}),(0,t.jsx)("span",{className:"text-accent-cyan hover:underline text-sm",children:"click here to make a post"})]})})}var Z=e.i(27260),ee=e.i(57688);let et={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.5,delay:.5}}},ei={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},ea={hidden:{opacity:0,filter:"blur(5px)",skewX:"15deg"},visible:{opacity:1,filter:"blur(0px)",skewX:"0deg",transition:{duration:.05}},exit:{opacity:0,filter:"blur(5px)",skewX:"-15deg"}},en=["VIBE","CONNECT","SECURE"],er=[{name:"Paris",src:"https://picsum.photos/seed/paris/800/600",hint:"eiffel tower"},{name:"Agra",src:"https://picsum.photos/seed/agra/800/600",hint:"taj mahal"},{name:"New York",src:"https://picsum.photos/seed/nyc/800/600",hint:"statue liberty"},{name:"Tokyo",src:"https://picsum.photos/seed/tokyo/800/600",hint:"tokyo tower"}];function es(){let[e,a]=(0,i.useState)(0),[n,r]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=setInterval(()=>{a(e=>(e+1)%en.length)},100),t=setInterval(()=>{r(e=>(e+1)%er.length)},800);return()=>{clearInterval(e),clearInterval(t)}},[]),(0,t.jsxs)(G.motion.div,{initial:"hidden",animate:"visible",exit:"exit",variants:et,className:"absolute inset-0 flex flex-col items-center justify-center gap-6 overflow-hidden",children:[(0,t.jsx)(H.AnimatePresence,{children:(0,t.jsx)(G.motion.div,{className:"absolute inset-0 z-0",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.8},children:(0,t.jsx)(ee.default,{src:er[n].src,alt:er[n].name,fill:!0,style:{objectFit:"cover"},className:"opacity-20","data-ai-hint":er[n].hint})},n)}),(0,t.jsx)("div",{className:"absolute inset-0 z-10 bg-black/70 backdrop-blur-md"}),(0,t.jsx)("div",{className:"absolute inset-0 z-10",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,0.05), rgba(255,255,255,0.05) 1px, transparent 1px, transparent 4px)",backgroundSize:"100% 4px",animation:"scanline 10s linear infinite"}}),(0,t.jsxs)("div",{className:"relative z-20 flex flex-col items-center gap-4 text-center",children:[(0,t.jsx)(G.motion.div,{variants:ei,children:(0,t.jsx)(Z.FlixTrendLogo,{size:100})}),(0,t.jsx)("div",{className:"h-20 w-80 text-center",children:(0,t.jsx)(H.AnimatePresence,{mode:"wait",children:(0,t.jsx)(G.motion.h1,{variants:ea,initial:"hidden",animate:"visible",exit:"exit",className:"text-6xl font-headline font-bold text-accent-cyan text-glow",children:en[e]},e)})}),(0,t.jsx)("div",{className:"h-8",children:(0,t.jsx)(H.AnimatePresence,{mode:"wait",children:(0,t.jsx)(G.motion.p,{className:"text-lg text-white font-semibold tracking-widest",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:er[n].name.toUpperCase()},n)})})]})]},"world-tour")}function eo(){return(0,t.jsxs)(G.motion.div,{initial:"hidden",animate:"visible",exit:"exit",variants:et,className:"absolute inset-0 flex flex-col items-center justify-center gap-6 bg-black",children:[(0,t.jsx)(G.motion.div,{variants:ei,children:(0,t.jsx)(Z.FlixTrendLogo,{size:120})}),(0,t.jsx)(G.motion.h1,{className:"text-5xl md:text-6xl font-headline font-bold text-white text-center",variants:ei,children:(0,t.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-accent-pink to-accent-cyan",children:"Welcome to the FlixTrend Universe"})}),(0,t.jsx)(G.motion.p,{className:"text-lg md:text-xl text-gray-300 font-light",variants:ei,transition:{delay:.2},children:"Your journey begins now."})]},"final-welcome")}function el({onComplete:e}){let[a,n]=(0,i.useState)("intro");return(0,i.useEffect)(()=>{let t=setTimeout(()=>n("tour"),1e3),i=setTimeout(()=>n("final"),5e3),a=setTimeout(()=>e(),7500);return()=>{clearTimeout(t),clearTimeout(i),clearTimeout(a)}},[e]),(0,t.jsxs)("div",{className:"fixed inset-0 z-[999] bg-black",children:[(0,t.jsx)("style",{children:`
            @keyframes scanline {
                0% { background-position: 0 0; }
                100% { background-position: 0 -100vh; }
            }
        `}),(0,t.jsxs)(H.AnimatePresence,{mode:"wait",children:["intro"===a&&(0,t.jsx)(G.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)(Z.FlixTrendLogo,{size:120})},"intro"),"tour"===a&&(0,t.jsx)(es,{}),"final"===a&&(0,t.jsx)(eo,{})]})]})}var ec=e.i(16674);let ed=(0,a.default)(()=>e.A(76464).then(e=>e.MusicDiscovery),{loadableGenerated:{modules:[42236]},ssr:!1}),eu=(0,a.default)(()=>e.A(33984),{loadableGenerated:{modules:[74089]},ssr:!1}),ef=(0,a.default)(()=>e.A(61995),{loadableGenerated:{modules:[21880]},ssr:!1}),em=(0,n.getFirestore)(U.app),ep=[{id:"for-you",name:"For You",icon:(0,t.jsx)(d.Flame,{})},{id:"news",name:"News",icon:(0,t.jsx)(p,{})},{id:"gaming",name:"Gaming",icon:(0,t.jsx)(u.Gamepad2,{})},{id:"music",name:"Music",icon:(0,t.jsx)(f.Music,{})},{id:"vlogs",name:"Vlogs",icon:(0,t.jsx)(c.Video,{})},{id:"comedy",name:"Comedy",icon:(0,t.jsx)(g.Smile,{})},{id:"tech",name:"Tech",icon:(0,t.jsx)(x.Code,{})},{id:"science",name:"Science",icon:(0,t.jsx)(b.Atom,{})},{id:"politics",name:"Politics",icon:(0,t.jsx)(y.Handshake,{})},{id:"education",name:"Education",icon:(0,t.jsx)(v.PenTool,{})},{id:"art-design",name:"Art & Design",icon:(0,t.jsx)(_.Palette,{})},{id:"diy-crafts",name:"DIY & Crafts",icon:(0,t.jsx)(w.Sparkles,{})},{id:"fashion-style",name:"Fashion",icon:(0,t.jsx)(k.Shirt,{})},{id:"food-cooking",name:"Food",icon:(0,t.jsx)(N.Utensils,{})},{id:"travel",name:"Travel",icon:(0,t.jsx)(P.Plane,{})},{id:"photography-videography",name:"Photography",icon:(0,t.jsx)(C.Camera,{})},{id:"books-literature",name:"Books",icon:(0,t.jsx)(S.Book,{})},{id:"movies-tv",name:"Movies & TV",icon:(0,t.jsx)(E.Film,{})},{id:"ai-future",name:"AI & Future",icon:(0,t.jsx)(j.Bot,{})},{id:"spirituality-wellness",name:"Wellness",icon:(0,t.jsx)(O.BrainCircuit,{})},{id:"business",name:"Business",icon:(0,t.jsx)(D.Briefcase,{})},{id:"health-fitness",name:"Fitness",icon:(0,t.jsx)(L.Heart,{})},{id:"sports",name:"Sports",icon:(0,t.jsx)(B.Trophy,{})},{id:"bollywood",name:"Bollywood",icon:(0,t.jsx)(E.Film,{})},{id:"bhakti",name:"Bhakti",icon:(0,t.jsx)(F.HelpingHand,{})},{id:"regional-cinema",name:"Regional Cinema",icon:(0,t.jsx)(R.Drama,{})},{id:"street-food",name:"Street Food",icon:(0,t.jsx)(z,{})},{id:"indian-mythology",name:"Mythology",icon:(0,t.jsx)(T.Scroll,{})},{id:"classical-music-dance",name:"Classical Arts",icon:(0,t.jsx)(M.Music4,{})},{id:"festivals-of-india",name:"Festivals",icon:(0,t.jsx)(I.Landmark,{})},{id:"startups-india",name:"Startups India",icon:(0,t.jsx)($.Rocket,{})},{id:"vedic-science",name:"Vedic Science",icon:(0,t.jsx)(A.Sprout,{})}];function eh(){let[e,a]=(0,i.useState)(!1),[c,d]=(0,i.useState)([]),[u,f]=(0,i.useState)([]),[m,p]=(0,i.useState)(null),[g,x]=(0,i.useState)(""),[b,y]=(0,i.useState)(!1),{setCallTarget:v,setIsCalling:j}=(0,q.useAppState)(),[w,S]=(0,i.useState)(null),[C,_]=(0,i.useState)(null),[k,N]=(0,i.useState)(!0),[P,E]=(0,i.useState)(!1),[O,I]=(0,i.useState)(null),[R,z]=(0,i.useState)(!0),[T,M]=(0,i.useState)("for-you"),[F,A]=(0,i.useState)(!1),$=(0,Y.useRouter)(),D=(0,Y.useSearchParams)(),[L,B]=(0,i.useState)(!1),K=(0,i.useRef)(null),[Z,ee]=(0,i.useState)(!1),[et,ei]=(0,i.useState)([]),[ea,en]=(0,i.useState)(!1),[er,es]=(0,i.useState)(!1);(0,i.useEffect)(()=>{es(!0)},[]),(0,i.useEffect)(()=>{er&&"true"===D.get("new")&&(B(!0),$.replace("/home",{scroll:!1}))},[D,er,$]),(0,i.useEffect)(()=>{let e=localStorage.getItem("viewedFlashes");e&&ei(JSON.parse(e))},[]);let eo=(0,i.useCallback)(async(e,t=!1)=>{if(!U.auth.currentUser)return;if(t){if(!R||P)return;E(!0)}else{N(!0);let t=await ec.redisClient.get(`feed:${e}`);if(t){d(t),N(!1);return}}let i=(0,n.collection)(em,"posts"),a=[(0,n.orderBy)("publishAt","desc")];"for-you"!==e&&a.unshift((0,n.or)((0,n.where)("category","==",e),(0,n.where)("hashtags","array-contains",e))),t&&O&&a.push((0,n.startAfter)(O)),a.push((0,n.limit)(5));let r=(0,n.query)(i,...a);try{let i=await (0,n.getDocs)(r),a=i.docs.map(e=>({id:e.id,...e.data()})),s=i.docs[i.docs.length-1];t?d(e=>{let t=new Set(e.map(e=>e.id)),i=a.filter(e=>!t.has(e.id));return[...e,...i]}):(d(a),await ec.redisClient.set(`feed:${e}`,a,{ex:300})),I(s),z(5===i.docs.length)}catch(e){console.error("Error fetching posts: ",e)}finally{t?E(!1):N(!1)}},[R,O,P]);(0,i.useEffect)(()=>{w&&eo(T)},[T,w]);let eh=(0,i.useCallback)(()=>{eo(T,!0)},[eo,T]);(0,i.useEffect)(()=>{let e=U.auth.onAuthStateChanged(async e=>{if(e){S(e);let t=(0,n.doc)(em,"users",e.uid),i=await (0,n.getDoc)(t);_(i.exists()?i.data():null);let a=(0,n.query)((0,n.collection)(em,"users",e.uid,"notifications"),(0,n.where)("read","==",!1)),r=(0,n.onSnapshot)(a,e=>{ee(!e.empty)});return()=>r()}$.replace("/login")});return()=>e()},[$]),(0,i.useEffect)(()=>{if(k)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&R&&!P&&eh()},{threshold:1}),t=K.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[eh,R,k,P]),(0,i.useEffect)(()=>{if(!w)return;let e=(0,n.query)((0,n.collection)(em,"flashes"),(0,n.where)("expiresAt",">",new Date),(0,n.orderBy)("expiresAt","desc")),t=(0,n.onSnapshot)(e,e=>{f(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>t()},[w]);let eg=Object.values(u.reduce((e,t)=>(e[t.userId]||(e[t.userId]={userId:t.userId,username:t.username,avatar_url:t.avatar_url,flashes:[]}),e[t.userId].flashes.push(t),e),{})),ex=g.trim()?c.filter(e=>e.content&&e.content.toLowerCase().includes(g.toLowerCase())||e.username&&e.username.toLowerCase().includes(g.toLowerCase())||e.hashtags&&e.hashtags.some(e=>e.toLowerCase().includes(g.toLowerCase()))):c,eb=F?ep:ep.slice(0,5),ey="for-you"===T||C?.accountType==="creator"&&C?.creatorType===T,ev={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.08,duration:.4,ease:"easeOut",type:"spring",stiffness:100,damping:10}}},ej={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1}},ew={hidden:{opacity:0,y:20,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:12}}};return k&&0===c.length?(0,t.jsx)(W.VibeSpaceLoader,{}):L?(0,t.jsx)(el,{onComplete:()=>B(!1)}):(0,t.jsxs)("div",{className:"flex flex-col w-full",children:[(0,t.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,t.jsx)(G.motion.div,{className:"flex justify-center items-center mb-6 w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:(0,t.jsxs)("div",{className:`input-glass w-full flex items-center px-4 transition-all duration-300 ${ea?"ring-2 ring-brand-saffron":""}`,children:[(0,t.jsx)("button",{className:"p-1 rounded-full transition-colors text-gray-400 hover:text-brand-gold","aria-label":"Voice search",disabled:!0,children:(0,t.jsx)(l.Mic,{size:20})}),(0,t.jsx)("div",{className:"w-px h-6 bg-glass-border mx-3"}),(0,t.jsx)("input",{type:"text",className:"flex-1 bg-transparent py-3 text-lg font-body focus:outline-none",placeholder:"Search posts...",value:g,onChange:e=>x(e.target.value),onFocus:()=>en(!0),onBlur:()=>en(!1),autoFocus:!1}),(0,t.jsx)(G.motion.div,{whileHover:{scale:1.1,rotate:10},children:(0,t.jsx)("button",{className:"p-2 rounded-full text-brand-gold hover:bg-brand-gold/10",children:(0,t.jsx)(o.Search,{})})})]})}),(0,t.jsxs)(G.motion.div,{className:"flex gap-2 overflow-x-auto pb-4 mb-4",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},initial:"hidden",animate:"visible",children:[eb.map(e=>(0,t.jsxs)(G.motion.button,{variants:ew,whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>M(e.id),className:`btn-glass text-sm flex items-center gap-2 shrink-0 ${T===e.id?"bg-accent-cyan text-black":""}`,children:[e.icon," ",e.name]},e.id)),!F&&ep.length>5&&(0,t.jsx)(G.motion.button,{variants:ew,whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>A(!0),className:"btn-glass text-sm flex items-center gap-2 shrink-0 bg-accent-purple/20 text-accent-purple",children:"More..."})]}),"for-you"===T&&(0,t.jsxs)(G.motion.section,{className:"mb-6 glass-card p-4",variants:ev,initial:"hidden",animate:"visible",children:[(0,t.jsx)("h2",{className:"text-lg font-headline bg-gradient-to-r from-accent-pink to-accent-green bg-clip-text text-transparent mb-2",children:"Flashes"}),(0,t.jsxs)(G.motion.div,{className:"flex gap-3 overflow-x-auto pb-2",variants:ev,children:[(0,t.jsxs)(G.motion.button,{variants:ej,className:"w-20 h-20 shrink-0 rounded-full bg-gradient-to-tr from-gray-800 to-gray-700 border-4 border-dashed border-gray-600 flex flex-col items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-accent-green",onClick:()=>$.push("/create?type=flash"),title:"Create a Flash",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,t.jsx)(r.Plus,{className:"text-gray-400 mb-1"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Add New"})]}),eg.map(e=>{let i=et.includes(e.userId);return(0,t.jsx)(G.motion.button,{variants:ej,className:`w-20 h-20 shrink-0 rounded-full bg-gradient-to-tr flex items-center justify-center overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-accent-green
                        ${i?"border-4 border-gray-600":"from-accent-pink to-accent-green border-4 border-accent-green/40"}`,onClick:()=>p(e),title:e.username||"Flash",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.avatar_url?(0,t.jsx)("img",{src:e.avatar_url,alt:"flash",className:`w-full h-full object-cover transition-opacity ${i?"opacity-60":""}`}):(0,t.jsx)("span",{className:"text-2xl text-white",children:"⚡"})},e.userId)})]})]}),(0,t.jsxs)("section",{className:"flex-1 flex flex-col items-center mt-4",children:[(0,t.jsx)(G.motion.h2,{className:"text-xl font-headline self-start bg-gradient-to-r from-accent-pink to-accent-green bg-clip-text text-transparent mb-4 text-glow",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"VibeSpace"}),k?(0,t.jsx)(W.VibeSpaceLoader,{}):(0,t.jsxs)("div",{className:"w-full max-w-xl flex flex-col gap-4",children:[ey&&(0,t.jsx)(Q,{onGoLive:e=>{let t=`${w.uid}-${Date.now()}`;$.push(`/broadcast/${encodeURIComponent(t)}`)}}),ex.length>0?ex.map((e,a)=>(0,t.jsxs)(i.default.Fragment,{children:[(0,t.jsx)(V.PostCard,{post:e}),(a+1)%5==0&&(0,t.jsx)(X.default,{},`ad-${e.id}`)]},e.id)):(0,t.jsx)("div",{className:"text-center text-gray-400 p-8 glass-card",children:"No posts found in this category yet."}),(0,t.jsx)("div",{ref:K,className:"h-10 w-full"}),P&&(0,t.jsx)("div",{className:"flex justify-center my-4",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-cyan"})}),!R&&!g.trim()&&c.length>0&&(0,t.jsx)("div",{className:"text-center text-gray-500 my-8",children:(0,t.jsx)("p",{children:"You've reached the end of the vibe. ✨"})})]})]})]}),(0,t.jsx)("div",{className:"fixed top-4 right-4 z-30 flex flex-col items-center",children:(0,t.jsxs)(G.motion.button,{className:"relative inline-flex items-center justify-center bg-white/10 dark:bg-black/20 backdrop-blur-md border border-white/10 dark:border-black/20 w-12 h-12 rounded-full text-white hover:bg-gradient-to-tr hover:from-accent-purple hover:to-accent-cyan transition-all",title:"Notifications",onClick:()=>y(!0),"aria-label":"Notifications",whileHover:{scale:1.1},whileTap:{scale:.95},variants:{initial:{rotate:0},jiggle:{rotate:[0,-15,15,-15,15,0],transition:{duration:.5,ease:"easeInOut",repeat:1/0,repeatDelay:3}}},animate:Z?"jiggle":"initial",children:[(0,t.jsx)(s.Bell,{className:"text-xl"}),Z&&(0,t.jsx)("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-accent-pink rounded-full"})]})}),(0,t.jsx)(J.default,{href:"/flix",children:(0,t.jsx)(G.motion.button,{className:"fixed bottom-24 left-4 z-30 btn-glass-icon w-16 h-16 bg-gradient-to-tr from-accent-cyan to-accent-pink","aria-label":"Flix Features",whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},children:(0,t.jsx)(h.Compass,{size:32})})}),(0,t.jsxs)(H.AnimatePresence,{children:[e&&(0,t.jsx)(ed,{onClose:()=>a(!1)}),m&&(0,t.jsx)(eu,{userFlashes:m,onClose:()=>(e=>{if(e&&!et.includes(e)){let t=[...et,e];ei(t),localStorage.setItem("viewedFlashes",JSON.stringify(t))}p(null)})(m?.userId)}),b&&(0,t.jsx)(ef,{onClose:()=>y(!1)})]})]})}function eg(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(W.VibeSpaceLoader,{}),children:(0,t.jsx)(eh,{})})}e.s(["default",()=>eg],81789)}]);