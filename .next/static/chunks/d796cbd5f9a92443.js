(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],83086)},92163,e=>{"use strict";let t=(0,e.i(75254).default)("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);e.s(["Gamepad2",()=>t],92163)},86079,e=>{"use strict";var t=e.i(43476),a=e.i(27260);function l(){return(0,t.jsx)("div",{className:"relative w-full h-96 flex flex-col items-center justify-center text-center overflow-hidden rounded-2xl bg-black/50 p-4",children:(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[(0,t.jsx)(a.FlixTrendLogo,{size:80}),(0,t.jsx)("h1",{className:"text-3xl font-headline text-accent-cyan font-bold mt-4 animate-glow",children:"FlixTrend"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-gray-400 max-w-sm animate-pulse",children:"Loading the latest vibes from across the universe..."})]})})}e.s(["VibeSpaceLoader",()=>l])},9375,e=>{"use strict";e.i(51718);var t=e.i(18357),a=e.i(71645),l=function(){return(l=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},s=function(e){return{loading:null==e,value:e}},r=function(e){var t=e?e():void 0,r=(0,a.useReducer)(function(e,t){switch(t.type){case"error":return l(l({},e),{error:t.error,loading:!1,value:void 0});case"reset":return s(t.defaultValue);case"value":return l(l({},e),{error:void 0,loading:!1,value:t.value});default:return e}},s(t)),n=r[0],i=r[1],c=(0,a.useCallback)(function(){i({type:"reset",defaultValue:e?e():void 0})},[e]),o=(0,a.useCallback)(function(e){i({type:"error",error:e})},[]),d=(0,a.useCallback)(function(e){i({type:"value",value:e})},[]);return(0,a.useMemo)(function(){return{error:n.error,loading:n.loading,reset:c,setError:o,setValue:d,value:n.value}},[n.error,n.loading,c,o,d,n.value])},n=function(e,l){var s=r(function(){return e.currentUser}),n=s.error,i=s.loading,c=s.setError,o=s.setValue,d=s.value;return(0,a.useEffect)(function(){var a=(0,t.onAuthStateChanged)(e,function(e){var t,a,s,r;return t=void 0,a=void 0,s=void 0,r=function(){return function(e,t){var a,l,s,r,n={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(r){return function(i){var c=[r,i];if(a)throw TypeError("Generator is already executing.");for(;n;)try{if(a=1,l&&(s=2&c[0]?l.return:c[0]?l.throw||((s=l.return)&&s.call(l),0):l.next)&&!(s=s.call(l,c[1])).done)return s;switch(l=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,l=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(s=(s=n.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(6===c[0]&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(e){c=[6,e],l=0}finally{a=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:if(!(null==l?void 0:l.onUserChanged))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l.onUserChanged(e)];case 2:return t.sent(),[3,4];case 3:return c(t.sent()),[3,4];case 4:return o(e),[2]}})},new(s||(s=Promise))(function(e,l){function n(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(t){var a;t.done?e(t.value):((a=t.value)instanceof s?a:new s(function(e){e(a)})).then(n,i)}c((r=r.apply(t,a||[])).next())})},c);return function(){a()}},[e]),[d,i,n]};e.s(["useAuthState",()=>n])},12426,e=>{"use strict";let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},7899,e=>{"use strict";let t=(0,e.i(75254).default)("mouse-pointer-click",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);e.s(["MousePointerClick",()=>t],7899)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},66531,e=>{"use strict";let t=(0,e.i(75254).default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);e.s(["UploadCloud",()=>t],66531)},95187,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l={callServer:function(){return r.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var s in l)Object.defineProperty(a,s,{enumerable:!0,get:l[s]});let r=e.r(32120),n=e.r(92245),i=e.r(35326)},79328,e=>{"use strict";var t=e.i(95187),a=(0,t.createServerReference)("40977d5708f655c3dcedb32dbaaa9a25e0b6e7d35a",t.callServer,void 0,t.findSourceMapURL,"uploadFileToFirebaseStorage");e.s(["uploadFileToFirebaseStorage",()=>a])},80746,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(46932),s=e.i(88653),r=e.i(72520),n=e.i(71689),i=e.i(66531),c=e.i(86536),o=e.i(75254);let d=(0,o.default)("file-play",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]);var u=e.i(92163),m=e.i(83086),p=e.i(12426),x=e.i(7899);let h=(0,o.default)("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]),f=(0,o.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var g=e.i(9375),y=e.i(61059),b=e.i(18566),v=e.i(86079);e.i(36180);var j=e.i(98925),k=e.i(79328);let w=({icon:e,title:a,description:l,selected:s,onSelect:r})=>(0,t.jsxs)("div",{className:`glass-card p-4 text-center cursor-pointer border-2 transition-colors ${s?"border-accent-cyan":"border-transparent"}`,onClick:r,children:[(0,t.jsx)("div",{className:"text-accent-pink mx-auto mb-2 w-12 h-12 flex items-center justify-center bg-accent-pink/10 rounded-full",children:e}),(0,t.jsx)("h4",{className:"font-bold text-accent-cyan",children:a}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:l})]}),N=({creative:e})=>(0,t.jsxs)("div",{className:"w-full max-w-[280px] h-[500px] bg-black rounded-3xl border-4 border-gray-700 shadow-2xl overflow-hidden relative p-2",children:[(0,t.jsx)("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 h-4 w-20 bg-gray-800 rounded-full"}),(0,t.jsx)("div",{className:"w-full h-full bg-gray-900 rounded-2xl overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 text-center mb-4",children:"Ad Preview"}),(0,t.jsxs)("div",{className:"glass-card p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-accent-purple"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:"your_brand"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:"Sponsored"})]}),e.mediaUrl&&"image"===e.type&&(0,t.jsx)("img",{src:e.mediaUrl,className:"rounded-lg w-full"}),e.mediaUrl&&"video"===e.type&&(0,t.jsx)("video",{src:e.mediaUrl,className:"rounded-lg w-full",controls:!0}),(0,t.jsxs)("p",{className:"text-sm mt-2",children:[(0,t.jsx)("strong",{className:"font-bold",children:e.headline})," ",e.body]}),(0,t.jsx)("button",{className:"text-xs text-accent-cyan mt-2",children:e.callToAction||"Learn More"})]})]})})]});function S(){let[e,o]=(0,g.useAuthState)(y.auth),S=(0,b.useRouter)(),[C,M]=(0,a.useState)(1),[U,A]=(0,a.useState)({name:"",budget:1e4,biddingStrategy:"cpm"}),[T,z]=(0,a.useState)({headline:"",body:"",callToAction:"Learn More",callToActionUrl:"",mediaUrl:"",type:"image"}),[F,P]=(0,a.useState)([]),[R,V]=(0,a.useState)(null),[L,q]=(0,a.useState)(!1),[O,B]=(0,a.useState)(""),E=(0,a.useRef)(null);if(o)return(0,t.jsx)(v.VibeSpaceLoader,{});if(!e)return S.push("/login"),null;let I=e=>{A(t=>({...t,[e.target.name]:e.target.value}))},D=e=>{z(t=>({...t,[e.target.name]:e.target.value}))},$=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];V(t),z(e=>({...e,mediaUrl:URL.createObjectURL(t),type:t.type.startsWith("video")?"video":"image"}))}},_=e=>{P(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},G=async()=>{if(q(!0),B(""),!R||!e){B("Ad creative (image or video) and user authentication are required."),q(!1);return}try{let t=new FormData;t.append("file",R),t.append("userId",e.uid);let a=await (0,k.uploadFileToFirebaseStorage)(t);if(!a.success?.url)throw Error(a.failure||"Failed to upload ad creative.");let l=a.success.url,s=await (0,j.addDoc)((0,j.collection)(y.db,"adCampaigns"),{...U,budget:Number(U.budget),advertiserId:e.uid,status:"active",placements:F,createdAt:(0,j.serverTimestamp)()});await (0,j.addDoc)((0,j.collection)(y.db,"adCampaigns",s.id,"creatives"),{...T,mediaUrl:l,campaignId:s.id,createdAt:(0,j.serverTimestamp)()}),alert("Campaign created successfully!"),S.push("/ad-studio")}catch(e){B(e.message)}finally{q(!1)}};return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col items-center p-4",children:[(0,t.jsx)("h2",{className:"text-3xl font-headline font-bold text-accent-pink mb-6 text-center",children:"Create Your Ad Campaign"}),(0,t.jsx)("div",{className:"w-full bg-black/20 rounded-full h-2.5 mb-8",children:(0,t.jsx)(l.motion.div,{className:"bg-gradient-to-r from-accent-pink to-accent-cyan h-2.5 rounded-full",animate:{width:`${C/3*100}%`},transition:{duration:.5,ease:"easeInOut"}})}),(0,t.jsx)(s.AnimatePresence,{mode:"wait",children:(()=>{switch(C){case 1:return(0,t.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"grid md:grid-cols-2 gap-8 items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-accent-pink mb-4",children:"1. Ad Creative"}),(0,t.jsx)("div",{onClick:()=>E.current?.click(),className:"w-full aspect-video bg-black/20 rounded-lg border-2 border-dashed border-gray-500 flex flex-col items-center justify-center cursor-pointer mb-4",children:T.mediaUrl?"image"===T.type?(0,t.jsx)("img",{src:T.mediaUrl,className:"w-full h-full object-contain"}):(0,t.jsx)("video",{src:T.mediaUrl,className:"w-full h-full object-contain"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.UploadCloud,{}),(0,t.jsx)("p",{children:"Upload Image/Video"})]})}),(0,t.jsx)("input",{type:"file",ref:E,onChange:$,className:"hidden",accept:"image/*,video/*"}),(0,t.jsx)("input",{type:"text",name:"headline",placeholder:"Headline",value:T.headline,onChange:D,className:"input-glass w-full mb-3"}),(0,t.jsx)("input",{type:"text",name:"body",placeholder:"Body Text",value:T.body,onChange:D,className:"input-glass w-full mb-3"}),(0,t.jsx)("input",{type:"text",name:"callToActionUrl",placeholder:"https://yourwebsite.com",value:T.callToActionUrl,onChange:D,className:"input-glass w-full"})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(N,{creative:T})})]},"step1");case 2:return(0,t.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-accent-pink mb-4",children:"2. Ad Placements"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"Choose where your ads will appear on FlixTrend."}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsx)(w,{icon:(0,t.jsx)(f,{}),title:"VibeSpace Feed",description:"Native ad within the main scrolling feed.",selected:F.includes("vibes_feed"),onSelect:()=>_("vibes_feed")}),(0,t.jsx)(w,{icon:(0,t.jsx)(m.Sparkles,{}),title:"Flashes",description:"Full-screen, skippable ad between user Flashes.",selected:F.includes("flashes"),onSelect:()=>_("flashes")}),(0,t.jsx)(w,{icon:(0,t.jsx)(d,{}),title:"Scope Videos",description:"Short skippable video ad between Scope clips.",selected:F.includes("scope"),onSelect:()=>_("scope")}),(0,t.jsx)(w,{icon:(0,t.jsx)(u.Gamepad2,{}),title:"Game Start",description:"Non-skippable ad shown before a game starts.",selected:F.includes("games"),onSelect:()=>_("games")})]})]},"step2");case 3:return(0,t.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-accent-pink mb-4",children:"3. Budget & Bidding"}),(0,t.jsxs)("div",{className:"glass-card p-6 flex flex-col gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-bold text-accent-cyan",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",name:"name",value:U.name,onChange:I,className:"input-glass w-full mt-2",placeholder:"e.g. Summer Sale 2025"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-bold text-accent-cyan",children:"Total Budget (INR)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"number",name:"budget",value:U.budget,onChange:I,className:"input-glass w-full pl-10",min:"1000"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"font-bold text-accent-cyan",children:"Bidding Strategy"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 mt-2",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>I({target:{name:"biddingStrategy",value:"cpm"}}),className:`btn-glass text-sm flex-1 ${"cpm"===U.biddingStrategy?"bg-accent-cyan text-black":""}`,children:[(0,t.jsx)(h,{className:"inline mr-2"}),"CPM (Cost per 1000 Impressions)"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>I({target:{name:"biddingStrategy",value:"cpc"}}),className:`btn-glass text-sm flex-1 ${"cpc"===U.biddingStrategy?"bg-accent-cyan text-black":""}`,children:[(0,t.jsx)(x.MousePointerClick,{className:"inline mr-2"}),"CPC (Cost per Click)"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>I({target:{name:"biddingStrategy",value:"cpv"}}),className:`btn-glass text-sm flex-1 ${"cpv"===U.biddingStrategy?"bg-accent-cyan text-black":""}`,children:[(0,t.jsx)(c.Eye,{className:"inline mr-2"}),"CPV (Cost per View)"]})]})]})]})]},"step3");default:return null}})()}),O&&(0,t.jsx)("div",{className:"text-red-400 text-center animate-bounce mt-4",children:O}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-8 w-full",children:[C>1?(0,t.jsxs)("button",{type:"button",className:"btn-glass flex items-center gap-2",onClick:()=>M(e=>e-1),disabled:L,children:[(0,t.jsx)(n.ArrowLeft,{size:16})," Back"]}):(0,t.jsx)("div",{}),C<3?(0,t.jsxs)("button",{type:"button",className:"btn-glass bg-accent-pink flex items-center gap-2",onClick:()=>M(e=>e+1),children:["Next ",(0,t.jsx)(r.ArrowRight,{size:16})]}):(0,t.jsx)("button",{type:"submit",className:"btn-glass bg-green-500 text-white flex items-center gap-2",disabled:L,onClick:G,children:L?"Publishing...":"Publish Campaign"})]})]})}e.s(["default",()=>S],80746)}]);