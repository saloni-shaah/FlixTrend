{"version":3,"sources":["../../../../src/components/PostActions.tsx","../../../../src/components/SignalShareModal.tsx","../../../../src/components/AddToCollectionModal.tsx","../../../../src/utils/offline-db.ts","../../../../node_modules/lucide-react/src/icons/download.ts","../../../../src/firebase/errors.ts"],"sourcesContent":["\n\"use client\";\nimport React from 'react';\nimport { getFirestore, collection, onSnapshot, addDoc, serverTimestamp, deleteDoc, updateDoc, doc, setDoc, runTransaction, deleteField } from \"firebase/firestore\";\nimport { Repeat2, Star, Share, MessageCircle, Bookmark, Download } from \"lucide-react\";\nimport { auth, app } from '@/utils/firebaseClient';\nimport { ShareModal } from './ShareModal';\nimport { SignalShareModal } from './SignalShareModal';\nimport { AddToCollectionModal } from './AddToCollectionModal';\nimport { savePostForOffline, isPostDownloaded, removeDownloadedPost } from '@/utils/offline-db';\nimport { cn } from \"@/lib/utils\";\nimport { FirestorePermissionError } from '@/firebase/errors';\nimport { errorEmitter } from '@/firebase/error-emitter';\n\nconst db = getFirestore(app);\n\nexport function PostActions({ post, onCommentClick, isShortVibe = false }: { post: any; onCommentClick: () => void; isShortVibe?: boolean }) {\n    const [likes, setLikes] = React.useState(0);\n    const [userHasLiked, setUserHasLiked] = React.useState(false);\n    const [relays, setRelays] = React.useState(0);\n    const [userHasRelayed, setUserHasRelayed] = React.useState(false);\n    const [commentsCount, setCommentsCount] = React.useState(0);\n    const [showShareModal, setShowShareModal] = React.useState(false);\n    const [showSignalShare, setShowSignalShare] = React.useState(false);\n    const [showCollectionModal, setShowCollectionModal] = React.useState(false);\n    const [isDownloaded, setIsDownloaded] = React.useState(false);\n    const currentUser = auth.currentUser;\n\n    React.useEffect(() => {\n        if (!post.id) return;\n\n        const postRef = doc(db, \"posts\", post.id);\n        const unsubPost = onSnapshot(postRef, (doc) => {\n            const data = doc.data();\n            if (data && data.likes) {\n                const likesMap = data.likes;\n                setLikes(Object.values(likesMap).filter(v => v === true).length);\n                if (currentUser) {\n                    setUserHasLiked(!!likesMap[currentUser.uid]);\n                }\n            } else {\n                setLikes(0);\n                setUserHasLiked(false);\n            }\n        });\n\n        const unsubRelays = onSnapshot(collection(db, \"posts\", post.id, \"relays\"), (snap) => setRelays(snap.size));\n        const unsubComments = onSnapshot(collection(db, \"posts\", post.id, \"comments\"), (snap) => setCommentsCount(snap.size));\n        \n        isPostDownloaded(post.id).then(setIsDownloaded);\n\n        return () => {\n            unsubPost();\n            unsubRelays();\n            unsubComments();\n        };\n    }, [post.id, currentUser]);\n\n    const handleLike = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        if (!currentUser) return;\n        \n        const postRef = doc(db, \"posts\", post.id);\n        const userId = currentUser.uid;\n\n        const dataToUpdate = {\n            [`likes.${userId}`]: !userHasLiked\n        };\n\n        // Optimistically update the UI\n        setUserHasLiked(!userHasLiked);\n        setLikes(l => userHasLiked ? l - 1 : l + 1);\n\n        updateDoc(postRef, dataToUpdate)\n          .catch(async (serverError) => {\n            // Revert optimistic update on error\n            setUserHasLiked(userHasLiked);\n            setLikes(l => userHasLiked ? l + 1 : l - 1);\n            const permissionError = new FirestorePermissionError({\n              path: postRef.path,\n              operation: 'update',\n              requestResourceData: dataToUpdate,\n            });\n            errorEmitter.emit('permission-error', permissionError);\n          });\n\n\n        if (!userHasLiked && post.userId !== currentUser.uid) {\n            const notifRef = collection(db, \"users\", post.userId, \"notifications\");\n            const notifData = {\n                type: 'like',\n                fromUserId: currentUser.uid,\n                fromUsername: currentUser.displayName,\n                fromAvatarUrl: currentUser.photoURL,\n                postId: post.id,\n                postContent: post.content?.substring(0, 50) || 'your post',\n                createdAt: serverTimestamp(),\n                read: false,\n            };\n            addDoc(notifRef, notifData).catch(e => {\n                console.error(\"Error sending notification:\", e);\n                const permissionError = new FirestorePermissionError({\n                    path: notifRef.path,\n                    operation: 'create',\n                    requestResourceData: notifData,\n                });\n                errorEmitter.emit('permission-error', permissionError);\n            });\n        }\n    };\n    \n    const handleRelay = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        if (!currentUser) return;\n        \n        runTransaction(db, async (transaction) => {\n            const userRelayRef = doc(db, 'users', currentUser.uid, 'relayedPosts', post.id);\n            const postRelayRef = doc(db, 'posts', post.id, 'relays', currentUser.uid);\n            \n            const userRelayDoc = await transaction.get(userRelayRef);\n\n            if (userRelayDoc.exists()) {\n                return;\n            }\n\n            const newRelayPost = {\n                type: 'relay',\n                originalPostId: post.id,\n                originalPost: post, \n                userId: currentUser.uid,\n                username: currentUser.displayName,\n                avatar_url: currentUser.photoURL,\n                createdAt: serverTimestamp(),\n                publishAt: serverTimestamp()\n            };\n            transaction.set(doc(collection(db, 'posts')), newRelayPost);\n            \n            transaction.set(userRelayRef, { relayedAt: serverTimestamp() });\n            \n            transaction.set(postRelayRef, {\n                userId: currentUser.uid,\n                username: currentUser.displayName,\n                createdAt: serverTimestamp(),\n            });\n        }).catch(async (serverError) => {\n            const permissionError = new FirestorePermissionError({\n              path: post.id,\n              operation: 'write',\n              requestResourceData: { relay: true },\n            });\n            errorEmitter.emit('permission-error', permissionError);\n          });\n    };\n\n    const handleDownload = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        try {\n            if (isDownloaded) {\n                await removeDownloadedPost(post.id);\n                setIsDownloaded(false);\n            } else {\n                await savePostForOffline(post);\n                setIsDownloaded(true);\n            }\n        } catch (error) {\n            console.error(\"Offline action failed:\", error);\n        }\n    };\n\n    const textClass = isShortVibe ? 'text-white' : 'text-muted-foreground';\n\n    return (\n        <>\n            <div className={cn(\"flex items-center\", isShortVibe ? 'flex-col gap-4' : 'justify-between mt-2 pt-2 border-t border-glass-border')}>\n                <div className={cn('flex items-center justify-start', isShortVibe ? 'flex-col gap-4' : 'gap-6')}>\n                    <button className={cn('flex items-center gap-1.5 font-bold transition-all text-lg', textClass, 'hover:text-brand-gold')} onClick={(e) => { e.stopPropagation(); onCommentClick(); }}>\n                        <MessageCircle size={20} />\n                        {!isShortVibe && <span>{commentsCount}</span>}\n                    </button>\n                    <button className={cn('flex items-center gap-1.5 font-bold transition-all text-lg', userHasRelayed ? 'text-green-400' : textClass, 'hover:text-green-400')} onClick={handleRelay} >\n                        <Repeat2 size={20} />\n                        {!isShortVibe && <span>{relays}</span>}\n                    </button>\n                    <button data-like-button=\"true\" className={cn('flex items-center gap-1.5 font-bold transition-all text-lg', userHasLiked ? 'text-yellow-400' : textClass, 'hover:text-yellow-400')} onClick={handleLike}>\n                        <Star size={20} fill={userHasLiked ? \"currentColor\" : \"none\"} />\n                         {!isShortVibe && <span>{likes}</span>}\n                    </button>\n                    <button className={cn('flex items-center gap-1.5 font-bold transition-all text-lg', textClass, 'hover:text-accent-cyan')} onClick={(e) => { e.stopPropagation(); setShowShareModal(true); }}>\n                        <Share size={20} />\n                    </button>\n                </div>\n                {!isShortVibe && (\n                    <div className=\"flex items-center gap-4\">\n                        <button className={cn('flex items-center gap-1.5 font-bold transition-all text-lg', textClass, isDownloaded ? 'text-blue-400' : 'hover:text-blue-400')} onClick={handleDownload} title=\"Save for Offline\">\n                            <Download size={20} />\n                        </button>\n                        <button className={cn('flex items-center gap-1.5 font-bold transition-all text-lg', textClass, 'hover:text-accent-purple')} onClick={(e) => { e.stopPropagation(); setShowCollectionModal(true); }}>\n                            <Bookmark size={20} />\n                        </button>\n                    </div>\n                )}\n            </div>\n            {showShareModal && (\n                <ShareModal \n                    url={`${window.location.origin}/post/${post.id}`}\n                    title={post.content}\n                    isVideo={post.type === 'media' && post.mediaUrl && (Array.isArray(post.mediaUrl) ? post.mediaUrl.some((url: string) => url.includes('.mp4')) : post.mediaUrl.includes('.mp4'))}\n                    onSignalShare={() => { setShowShareModal(false); setShowSignalShare(true); }}\n                    onClose={() => setShowShareModal(false)}\n                />\n            )}\n             {showSignalShare && (\n                <SignalShareModal post={post} onClose={() => setShowSignalShare(false)} />\n             )}\n             {showCollectionModal && (\n                <AddToCollectionModal post={post} onClose={() => setShowCollectionModal(false)} />\n             )}\n        </>\n    );\n}\n","\n\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { getFirestore, collection, getDocs, doc, onSnapshot, query, where, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { motion } from 'framer-motion';\nimport { auth, app } from '@/utils/firebaseClient';\nimport { Send, Search, Users, Bot } from 'lucide-react';\n\nconst db = getFirestore(app);\n\nexport function SignalShareModal({ post, onClose }: { post: any; onClose: () => void }) {\n    const [chats, setChats] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [selectedChats, setSelectedChats] = useState<string[]>([]);\n    const [isSending, setIsSending] = useState(false);\n    const currentUser = auth.currentUser;\n\n    useEffect(() => {\n        if (!currentUser) return;\n        \n        const fetchChats = async () => {\n            const groupQuery = query(collection(db, \"groups\"), where(\"members\", \"array-contains\", currentUser.uid));\n            const groupsSnap = await getDocs(groupQuery);\n            const groupChats = groupsSnap.docs.map(d => ({ ...d.data(), id: d.id, isGroup: true }));\n\n            const followingRef = collection(db, \"users\", currentUser.uid, \"following\");\n            const followersRef = collection(db, \"users\", currentUser.uid, \"followers\");\n            const [followingSnap, followersSnap] = await Promise.all([getDocs(followingRef), getDocs(followersRef)]);\n            const followingIds = followingSnap.docs.map(d => d.id);\n            const followerIds = followersSnap.docs.map(d => d.id);\n            const mutualUids = [...new Set([...followingIds, ...followerIds])];\n            \n            const userPromises = mutualUids.map(uid => getDocs(query(collection(db, \"users\"), where(\"uid\", \"==\", uid))));\n            const userSnaps = await Promise.all(userPromises);\n            const userChats = userSnaps.flatMap(snap => snap.docs.map(d => ({...d.data(), id: d.id, isGroup: false })));\n\n            const almightyChat = {\n                id: `almighty-chat_${currentUser.uid}`,\n                name: 'Almighty',\n                isAlmighty: true,\n            };\n\n            setChats([almightyChat, ...groupChats, ...userChats]);\n            setLoading(false);\n        };\n\n        fetchChats();\n    }, [currentUser]);\n\n    const handleToggleChat = (chatId: string) => {\n        setSelectedChats(prev => \n            prev.includes(chatId) ? prev.filter(id => id !== chatId) : [...prev, chatId]\n        );\n    };\n\n    const handleSend = async () => {\n        if (selectedChats.length === 0 || !currentUser) return;\n        setIsSending(true);\n\n        const shareMessage = `Check out this vibe! ${window.location.origin}/post/${post.id}`;\n        \n        const sendPromises = selectedChats.map(chatId => {\n            let finalChatId = chatId;\n            // For 1-on-1 chats, the ID needs to be constructed correctly\n            const chat = chats.find(c => c.id === chatId);\n            if (chat && !chat.isGroup && !chat.isAlmighty) {\n                finalChatId = [currentUser.uid, chat.id].sort().join('_');\n            }\n\n            return addDoc(collection(db, 'chats', finalChatId, 'messages'), {\n                text: shareMessage,\n                sender: currentUser.uid,\n                createdAt: serverTimestamp(),\n                type: 'share',\n                sharedPost: post // Embed post data\n            });\n        });\n\n        await Promise.all(sendPromises);\n        setIsSending(false);\n        onClose();\n    };\n\n    const filteredChats = searchTerm\n        ? chats.filter(c => c.name?.toLowerCase().includes(searchTerm.toLowerCase()) || c.username?.toLowerCase().includes(searchTerm.toLowerCase()))\n        : chats;\n    \n    const getInitials = (user: any) => user?.name?.[0] || user?.username?.[0] || \"U\";\n\n    return (\n        <div className=\"fixed inset-0 z-[102] flex items-center justify-center bg-black/60 backdrop-blur-sm\" onClick={onClose}>\n            <motion.div\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"glass-card p-4 w-full max-w-md relative flex flex-col max-h-[80vh]\"\n                onClick={e => e.stopPropagation()}\n            >\n                <h2 className=\"text-xl font-headline font-bold mb-4 text-accent-cyan text-center\">Share to Signal</h2>\n\n                <div className=\"relative mb-4\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search chats...\"\n                        className=\"input-glass w-full pl-10\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                    />\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n                </div>\n                \n                <div className=\"flex-1 overflow-y-auto mb-4 border-y border-accent-cyan/10 py-2\">\n                    {loading ? (\n                        <p className=\"text-center text-gray-400\">Loading chats...</p>\n                    ) : (\n                        <div className=\"flex flex-col gap-1\">\n                            {filteredChats.map(chat => (\n                                <div \n                                    key={chat.id} \n                                    className={`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${selectedChats.includes(chat.id) ? 'bg-accent-cyan/20' : 'hover:bg-accent-cyan/10'}`}\n                                    onClick={() => handleToggleChat(chat.id)}\n                                >\n                                     <div className=\"w-10 h-10 rounded-full bg-gradient-to-tr from-accent-pink to-accent-cyan flex items-center justify-center text-white font-bold text-lg overflow-hidden shrink-0\">\n                                        {chat.isAlmighty ? <Bot /> :\n                                         chat.isGroup ? \n                                            (chat.avatar_url ? <img src={chat.avatar_url} alt={chat.name} className=\"w-full h-full object-cover\"/> : <Users/>) :\n                                            (chat.avatar_url ? <img src={chat.avatar_url} alt=\"avatar\" className=\"w-full h-full object-cover\"/> : getInitials(chat))\n                                        }\n                                    </div>\n                                    <div className=\"flex-1\">\n                                        <p className=\"font-bold text-sm truncate\">{chat.name || chat.username}</p>\n                                        <p className=\"text-xs text-gray-400\">{chat.isGroup ? `${chat.members?.length} members` : (chat.isAlmighty ? 'AI Assistant' : `@${chat.username}`)}</p>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"flex gap-2 mt-auto\">\n                    <button className=\"btn-glass flex-1\" onClick={onClose}>Cancel</button>\n                    <button \n                        className=\"btn-glass bg-accent-cyan text-black flex-1 flex items-center justify-center gap-2\" \n                        onClick={handleSend}\n                        disabled={isSending || selectedChats.length === 0}\n                    >\n                        {isSending ? 'Sending...' : `Send to ${selectedChats.length} chat(s)`} <Send size={16}/>\n                    </button>\n                </div>\n            </motion.div>\n        </div>\n    );\n}\n\n","\n\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { getFirestore, collection, addDoc, serverTimestamp, query, onSnapshot, where, updateDoc, arrayUnion, doc } from 'firebase/firestore';\nimport { auth, app } from '@/utils/firebaseClient';\n\nconst db = getFirestore(app);\n\nexport function AddToCollectionModal({ post, onClose }: { post: any; onClose: () => void }) {\n    const [collections, setCollections] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [showNewCollection, setShowNewCollection] = useState(false);\n    const [newCollectionName, setNewCollectionName] = useState('');\n    const currentUser = auth.currentUser;\n\n    useEffect(() => {\n        if (!currentUser) return;\n        const q = query(collection(db, \"collections\"), where(\"ownerId\", \"==\", currentUser.uid));\n        const unsub = onSnapshot(q, (snapshot) => {\n            setCollections(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\n            setLoading(false);\n        });\n        return () => unsub();\n    }, [currentUser]);\n\n    const handleCreateCollection = async () => {\n        if (!newCollectionName.trim() || !currentUser) return;\n        await addDoc(collection(db, \"collections\"), {\n            name: newCollectionName,\n            ownerId: currentUser.uid,\n            createdAt: serverTimestamp(),\n            postIds: [post.id] // Add current post to new collection\n        });\n        setNewCollectionName('');\n        setShowNewCollection(false);\n        onClose(); // Close modal after creating and adding\n    };\n    \n    const handleAddToCollection = async (collectionId: string) => {\n        const collectionRef = doc(db, \"collections\", collectionId);\n        await updateDoc(collectionRef, {\n            postIds: arrayUnion(post.id)\n        });\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm\">\n            <motion.div\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"glass-card p-6 w-full max-w-md relative flex flex-col max-h-[80vh]\"\n            >\n                <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-400 hover:text-white\">&times;</button>\n                <h2 className=\"text-xl font-headline font-bold mb-4 text-accent-cyan\">Save to Collection</h2>\n                <div className=\"flex-1 overflow-y-auto mb-4 border-y border-accent-cyan/10 py-2\">\n                    {loading ? (\n                        <p className=\"text-center text-gray-400\">Loading collections...</p>\n                    ) : (\n                        <div className=\"flex flex-col gap-2\">\n                            {collections.map(c => (\n                                <button key={c.id} onClick={() => handleAddToCollection(c.id)} className=\"text-left p-3 rounded-lg hover:bg-accent-cyan/10 w-full\">\n                                    {c.name}\n                                </button>\n                            ))}\n                        </div>\n                    )}\n                </div>\n                {showNewCollection ? (\n                    <div className=\"flex gap-2\">\n                        <input \n                            type=\"text\"\n                            placeholder=\"New collection name...\"\n                            value={newCollectionName}\n                            onChange={(e) => setNewCollectionName(e.target.value)}\n                            className=\"input-glass flex-1\"\n                        />\n                        <button onClick={handleCreateCollection} className=\"btn-glass bg-accent-pink\">Create</button>\n                    </div>\n                ) : (\n                    <button className=\"btn-glass bg-accent-cyan/50 text-white\" onClick={() => setShowNewCollection(true)}>\n                        Create New Collection\n                    </button>\n                )}\n            </motion.div>\n        </div>\n    );\n}\n\n    \n","'use client';\n\nconst DB_NAME = 'FlixTrendDB';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'downloadedPosts';\n\nlet db: IDBDatabase | null = null;\n\nfunction getDB(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    if (db) {\n      return resolve(db);\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = (event) => {\n      console.error('IndexedDB error:', request.error);\n      reject('IndexedDB error');\n    };\n\n    request.onsuccess = (event) => {\n      db = request.result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const tempDb = request.result;\n      if (!tempDb.objectStoreNames.contains(STORE_NAME)) {\n        tempDb.createObjectStore(STORE_NAME, { keyPath: 'id' });\n      }\n    };\n  });\n}\n\nexport async function savePostForOffline(post: any): Promise<void> {\n  const db = await getDB();\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction(STORE_NAME, 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.put({ ...post, downloadedAt: new Date() });\n\n    request.onsuccess = () => resolve();\n    request.onerror = () => reject(request.error);\n  });\n}\n\nexport async function getDownloadedPosts(): Promise<any[]> {\n  const db = await getDB();\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.getAll();\n\n    request.onsuccess = () => {\n      // Sort by downloadedAt descending to show newest first\n      const sorted = request.result.sort((a, b) => b.downloadedAt - a.downloadedAt);\n      resolve(sorted);\n    }\n    request.onerror = () => reject(request.error);\n  });\n}\n\nexport async function removeDownloadedPost(postId: string): Promise<void> {\n    const db = await getDB();\n    return new Promise((resolve, reject) => {\n        const transaction = db.transaction(STORE_NAME, 'readwrite');\n        const store = transaction.objectStore(STORE_NAME);\n        const request = store.delete(postId);\n\n        request.onsuccess = () => resolve();\n        request.onerror = () => reject(request.error);\n    });\n}\n\nexport async function isPostDownloaded(postId: string): Promise<boolean> {\n    const db = await getDB();\n    return new Promise((resolve, reject) => {\n        const transaction = db.transaction(STORE_NAME, 'readonly');\n        const store = transaction.objectStore(STORE_NAME);\n        const request = store.get(postId);\n\n        request.onsuccess = () => {\n            resolve(!!request.result);\n        };\n        request.onerror = () => reject(request.error);\n    });\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 15V3', key: 'm9g1x1' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['path', { d: 'm7 10 5 5 5-5', key: 'brsn70' }],\n];\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTVWMyIgLz4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cGF0aCBkPSJtNyAxMCA1IDUgNS01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('download', __iconNode);\n\nexport default Download;\n","// A specialized error for Firestore permission issues.\n// This is used to create rich, contextual errors that can be caught\n// by a listener to provide detailed debugging information.\n\nexport type SecurityRuleContext = {\n  path: string;\n  operation: 'get' | 'list' | 'create' | 'update' | 'delete' | 'write';\n  requestResourceData?: any;\n};\n\nexport class FirestorePermissionError extends Error {\n  public context: SecurityRuleContext;\n\n  constructor(context: SecurityRuleContext) {\n    // Construct a detailed error message for better logging and debugging\n    const message = `FirestoreError: Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n{\n  \"operation\": \"${context.operation}\",\n  \"path\": \"${context.path}\"\n  ${context.requestResourceData ? `,\"requestData\": ${JSON.stringify(context.requestResourceData, null, 2)}` : ''}\n}`;\n\n    super(message);\n    this.name = 'FirestorePermissionError';\n    this.context = context;\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[4]}