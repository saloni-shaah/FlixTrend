module.exports=[4987,(a,b,c)=>{"use strict";function d({widthInt:a,heightInt:b,blurWidth:c,blurHeight:d,blurDataURL:e,objectFit:f}){let g=c?40*c:a,h=d?40*d:b,i=g&&h?`viewBox='0 0 ${g} ${h}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${i}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${i?"none":"contain"===f?"xMidYMid":"cover"===f?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${e}'/%3E%3C/svg%3E`}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImageBlurSvg",{enumerable:!0,get:function(){return d}})},345,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={VALID_LOADERS:function(){return f},imageConfigDefault:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=["default","imgix","cloudinary","akamai","custom"],g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},94915,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImgProps",{enumerable:!0,get:function(){return i}}),a.r(92434);let d=a.r(4987),e=a.r(345),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i({src:a,sizes:b,unoptimized:c=!1,priority:i=!1,preload:j=!1,loading:k,className:l,quality:m,width:n,height:o,fill:p=!1,style:q,overrideSrc:r,onLoad:s,onLoadingComplete:t,placeholder:u="empty",blurDataURL:v,fetchPriority:w,decoding:x="async",layout:y,objectFit:z,objectPosition:A,lazyBoundary:B,lazyRoot:C,...D},E){var F;let G,H,I,{imgConf:J,showAltText:K,blurComplete:L,defaultLoader:M}=E,N=J||e.imageConfigDefault;if("allSizes"in N)G=N;else{let a=[...N.deviceSizes,...N.imageSizes].sort((a,b)=>a-b),b=N.deviceSizes.sort((a,b)=>a-b),c=N.qualities?.sort((a,b)=>a-b);G={...N,allSizes:a,deviceSizes:b,qualities:c}}if(void 0===M)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let O=D.loader||M;delete D.loader,delete D.srcSet;let P="__next_img_default"in O;if(P){if("custom"===G.loader)throw Object.defineProperty(Error(`Image with src "${a}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=O;O=b=>{let{config:c,...d}=b;return a(d)}}if(y){"fill"===y&&(p=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[y];a&&(q={...q,...a});let c={responsive:"100vw",fill:"100vw"}[y];c&&!b&&(b=c)}let Q="",R=h(n),S=h(o);if((F=a)&&"object"==typeof F&&(g(F)||void 0!==F.src)){let b=g(a)?a.default:a;if(!b.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!b.height||!b.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(H=b.blurWidth,I=b.blurHeight,v=v||b.blurDataURL,Q=b.src,!p)if(R||S){if(R&&!S){let a=R/b.width;S=Math.round(b.height*a)}else if(!R&&S){let a=S/b.height;R=Math.round(b.width*a)}}else R=b.width,S=b.height}let T=!i&&!j&&("lazy"===k||void 0===k);(!(a="string"==typeof a?a:Q)||a.startsWith("data:")||a.startsWith("blob:"))&&(c=!0,T=!1),G.unoptimized&&(c=!0),P&&!G.dangerouslyAllowSVG&&a.split("?",1)[0].endsWith(".svg")&&(c=!0);let U=h(m),V=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:z,objectPosition:A}:{},K?{}:{color:"transparent"},q),W=L||"empty"===u?null:"blur"===u?`url("data:image/svg+xml;charset=utf-8,${(0,d.getImageBlurSvg)({widthInt:R,heightInt:S,blurWidth:H,blurHeight:I,blurDataURL:v||"",objectFit:V.objectFit})}")`:`url("${u}")`,X=f.includes(V.objectFit)?"fill"===V.objectFit?"100% 100%":"cover":V.objectFit,Y=W?{backgroundSize:X,backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},Z=function({config:a,src:b,unoptimized:c,width:d,quality:e,sizes:f,loader:g}){if(c)return{src:b,srcSet:void 0,sizes:void 0};let{widths:h,kind:i}=function({deviceSizes:a,allSizes:b},c,d){if(d){let c=/(^|\s)(1?\d?\d)vw/g,e=[];for(let a;a=c.exec(d);)e.push(parseInt(a[2]));if(e.length){let c=.01*Math.min(...e);return{widths:b.filter(b=>b>=a[0]*c),kind:"w"}}return{widths:b,kind:"w"}}return"number"!=typeof c?{widths:a,kind:"w"}:{widths:[...new Set([c,2*c].map(a=>b.find(b=>b>=a)||b[b.length-1]))],kind:"x"}}(a,d,f),j=h.length-1;return{sizes:f||"w"!==i?f:"100vw",srcSet:h.map((c,d)=>`${g({config:a,src:b,quality:e,width:c})} ${"w"===i?c:d+1}${i}`).join(", "),src:g({config:a,src:b,quality:e,width:h[j]})}}({config:G,src:a,unoptimized:c,width:R,quality:U,sizes:b,loader:O}),$=T?"lazy":k;return{props:{...D,loading:$,fetchPriority:w,width:R,height:S,decoding:x,className:l,style:{...V,...Y},sizes:Z.sizes,srcSet:Z.srcSet,src:r||Z.src},meta:{unoptimized:c,preload:j||i,placeholder:u,fill:p}}}},94613,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(72131),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},92966,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HeadManagerContext},58018,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(46058),h=a.r(87924),i=g._(a.r(72131)),j=f._(a.r(94613)),k=a.r(92966);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(92434);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},4486,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ImageConfigContext},53773,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.RouterContext},35444,(a,b,c)=>{"use strict";function d(a,b){let c=a||75;return b?.qualities?.length?b.qualities.reduce((a,b)=>Math.abs(b-c)<Math.abs(a-c)?b:a,0):c}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findClosestQuality",{enumerable:!0,get:function(){return d}})},2305,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(35444);function e({config:a,src:b,width:c,quality:e}){if(b.startsWith("/")&&b.includes("?")&&a.localPatterns?.length===1&&"**"===a.localPatterns[0].pathname&&""===a.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${b}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let f=(0,d.findClosestQuality)(e,a);return`${a.path}?url=${encodeURIComponent(b)}&w=${c}&q=${f}${b.startsWith("/_next/static/media/"),""}`}e.__next_img_default=!0;let f=e},67161,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"Image",{enumerable:!0,get:function(){return u}});let d=a.r(33354),e=a.r(46058),f=a.r(87924),g=e._(a.r(72131)),h=d._(a.r(35112)),i=d._(a.r(58018)),j=a.r(94915),k=a.r(345),l=a.r(4486);a.r(92434);let m=a.r(53773),n=d._(a.r(2305)),o=a.r(8591),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=a?.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),c?.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}d?.current&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)(({src:a,srcSet:b,sizes:c,height:d,width:e,decoding:h,className:i,style:j,fetchPriority:k,placeholder:l,loading:m,unoptimized:n,fill:p,onLoadRef:s,onLoadingCompleteRef:t,setBlurComplete:u,setShowAltText:v,sizesInput:w,onLoad:x,onError:y,...z},A)=>{let B=(0,g.useCallback)(a=>{a&&(y&&(a.src=a.src),a.complete&&q(a,l,s,t,u,n,w))},[a,l,s,t,u,y,n,w]),C=(0,o.useMergedRef)(A,B);return(0,f.jsx)("img",{...z,...r(k),loading:m,width:e,height:d,decoding:h,"data-nimg":p?"fill":"1",className:i,style:j,sizes:c,srcSet:b,src:a,ref:C,onLoad:a=>{q(a.currentTarget,l,s,t,u,n,w)},onError:a=>{v(!0),"empty"!==l&&u(!0),y&&y(a)}})});function t({isAppRouter:a,imgAttributes:b}){let c={as:"image",imageSrcSet:b.srcSet,imageSizes:b.sizes,crossOrigin:b.crossOrigin,referrerPolicy:b.referrerPolicy,...r(b.fetchPriority)};return a&&h.default.preload?(h.default.preload(b.src,c),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:b.srcSet?void 0:b.src,...c},"__nimg-"+b.src+b.srcSet+b.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{let a=p||d||k.imageConfigDefault,b=[...a.deviceSizes,...a.imageSizes].sort((a,b)=>a-b),c=a.deviceSizes.sort((a,b)=>a-b),e=a.qualities?.sort((a,b)=>a-b);return{...a,allSizes:b,deviceSizes:c,qualities:e,localPatterns:d?.localPatterns}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.preload?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},1661,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19721);a.i(69387);var e=a.i(60574),f=a.i(15618),g=a.i(23312),h=a.i(87532),i=a.i(4975),j=a.i(64791),k=a.i(16106),l=a.i(39646),m=a.i(16686),n=a.i(70106);let o=(0,n.default)("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var p=a.i(25635),q=a.i(7428),r=a.i(54074),s=a.i(89701),t=a.i(15171),u=a.i(84362),v=a.i(82434),w=a.i(8406),x=a.i(54115),y=a.i(13513),z=a.i(54347),A=a.i(28714),B=a.i(30756),C=a.i(89495),D=a.i(5062),E=a.i(85552),F=a.i(49853),G=a.i(66699);let H=(0,n.default)("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);var I=a.i(60816),J=a.i(27802),K=a.i(1473),L=a.i(46007),M=a.i(82478),N=a.i(41961),O=a.i(76472),P=a.i(83077),Q=a.i(25408),R=a.i(49094),S=a.i(46271),T=a.i(62036),U=a.i(50413),V=a.i(90845);let W=(0,e.getFirestore)(Q.app),X=({ad:a})=>{if(!a?.creative)return null;let{creative:c}=a;return(0,b.jsxs)("div",{className:"w-full glass-card p-4 my-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-accent-purple overflow-hidden",children:(0,b.jsx)("img",{src:`https://api.dicebear.com/8.x/initials/svg?seed=${a.campaign.name}`,alt:"advertiser logo",className:"w-full h-full"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:a.campaign.name}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Sponsored"})]})]}),"image"===c.type&&c.mediaUrl&&(0,b.jsx)("img",{src:c.mediaUrl,alt:c.headline,className:"rounded-lg w-full"}),"video"===c.type&&c.mediaUrl&&(0,b.jsx)("video",{src:c.mediaUrl,className:"rounded-lg w-full",controls:!0}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("p",{className:"font-bold text-accent-cyan",children:c.headline}),(0,b.jsx)("p",{className:"text-sm text-gray-300",children:c.body}),(0,b.jsxs)("a",{href:c.callToActionUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-accent-pink hover:underline mt-2 inline-block",children:[c.callToAction," →"]})]})]})};function Y(){let[a,d]=(0,c.useState)(null);return((0,c.useEffect)(()=>{(async()=>{try{let a=(0,e.collection)(W,"adCampaigns"),b=(0,e.query)(a,(0,e.where)("status","==","active"),(0,e.limit)(10)),c=await (0,e.getDocs)(b);if(c.empty)return;let f=c.docs.map(a=>({id:a.id,...a.data()})),g=f[Math.floor(Math.random()*f.length)],h=(0,e.collection)(W,"adCampaigns",g.id,"creatives"),i=await (0,e.getDocs)((0,e.query)(h,(0,e.limit)(1)));if(i.empty)return;let j={id:i.docs[0].id,...i.docs[0].data()};d({campaign:g,creative:j})}catch(a){console.error("Error fetching FlixTrend ad:",a)}})()},[]),a)?(0,b.jsx)(X,{ad:a}):null}var Z=a.i(50944),$=a.i(38246);let _=(0,e.getFirestore)(Q.app);function aa({onGoLive:a}){let[d,f]=(0,c.useState)(null),g=(0,Z.useRouter)();return(0,c.useEffect)(()=>{let a=Q.auth.onAuthStateChanged(async a=>{if(a){let b=await (0,e.getDoc)((0,e.doc)(_,"users",a.uid));b.exists()&&f(b.data())}});return()=>a()},[]),(0,b.jsx)("div",{className:"w-full max-w-xl mb-6",children:(0,b.jsxs)("button",{className:"glass-card p-4 text-center w-full",onClick:()=>g.push("/create"),children:[(0,b.jsx)("h3",{className:"font-bold text-lg",children:"Flix Your Fit by dropping a post"}),(0,b.jsx)("span",{className:"text-accent-cyan hover:underline text-sm",children:"click here to make a post"})]})})}var ab=a.i(24677),ac=a.i(71987);let ad={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.5,delay:.5}}},ae={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},af={hidden:{opacity:0,filter:"blur(5px)",skewX:"15deg"},visible:{opacity:1,filter:"blur(0px)",skewX:"0deg",transition:{duration:.05}},exit:{opacity:0,filter:"blur(5px)",skewX:"-15deg"}},ag=["VIBE","CONNECT","SECURE"],ah=[{name:"Paris",src:"https://picsum.photos/seed/paris/800/600",hint:"eiffel tower"},{name:"Agra",src:"https://picsum.photos/seed/agra/800/600",hint:"taj mahal"},{name:"New York",src:"https://picsum.photos/seed/nyc/800/600",hint:"statue liberty"},{name:"Tokyo",src:"https://picsum.photos/seed/tokyo/800/600",hint:"tokyo tower"}];function ai(){let[a,d]=(0,c.useState)(0),[e,f]=(0,c.useState)(0);return(0,c.useEffect)(()=>{let a=setInterval(()=>{d(a=>(a+1)%ag.length)},100),b=setInterval(()=>{f(a=>(a+1)%ah.length)},800);return()=>{clearInterval(a),clearInterval(b)}},[]),(0,b.jsxs)(S.motion.div,{initial:"hidden",animate:"visible",exit:"exit",variants:ad,className:"absolute inset-0 flex flex-col items-center justify-center gap-6 overflow-hidden",children:[(0,b.jsx)(T.AnimatePresence,{children:(0,b.jsx)(S.motion.div,{className:"absolute inset-0 z-0",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.8},children:(0,b.jsx)(ac.default,{src:ah[e].src,alt:ah[e].name,fill:!0,style:{objectFit:"cover"},className:"opacity-20","data-ai-hint":ah[e].hint})},e)}),(0,b.jsx)("div",{className:"absolute inset-0 z-10 bg-black/70 backdrop-blur-md"}),(0,b.jsx)("div",{className:"absolute inset-0 z-10",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,0.05), rgba(255,255,255,0.05) 1px, transparent 1px, transparent 4px)",backgroundSize:"100% 4px",animation:"scanline 10s linear infinite"}}),(0,b.jsxs)("div",{className:"relative z-20 flex flex-col items-center gap-4 text-center",children:[(0,b.jsx)(S.motion.div,{variants:ae,children:(0,b.jsx)(ab.FlixTrendLogo,{size:100})}),(0,b.jsx)("div",{className:"h-20 w-80 text-center",children:(0,b.jsx)(T.AnimatePresence,{mode:"wait",children:(0,b.jsx)(S.motion.h1,{variants:af,initial:"hidden",animate:"visible",exit:"exit",className:"text-6xl font-headline font-bold text-accent-cyan text-glow",children:ag[a]},a)})}),(0,b.jsx)("div",{className:"h-8",children:(0,b.jsx)(T.AnimatePresence,{mode:"wait",children:(0,b.jsx)(S.motion.p,{className:"text-lg text-white font-semibold tracking-widest",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:ah[e].name.toUpperCase()},e)})})]})]},"world-tour")}function aj(){return(0,b.jsxs)(S.motion.div,{initial:"hidden",animate:"visible",exit:"exit",variants:ad,className:"absolute inset-0 flex flex-col items-center justify-center gap-6 bg-black",children:[(0,b.jsx)(S.motion.div,{variants:ae,children:(0,b.jsx)(ab.FlixTrendLogo,{size:120})}),(0,b.jsx)(S.motion.h1,{className:"text-5xl md:text-6xl font-headline font-bold text-white text-center",variants:ae,children:(0,b.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-accent-pink to-accent-cyan",children:"Welcome to the FlixTrend Universe"})}),(0,b.jsx)(S.motion.p,{className:"text-lg md:text-xl text-gray-300 font-light",variants:ae,transition:{delay:.2},children:"Your journey begins now."})]},"final-welcome")}function ak({onComplete:a}){let[d,e]=(0,c.useState)("intro");return(0,c.useEffect)(()=>{let b=setTimeout(()=>e("tour"),1e3),c=setTimeout(()=>e("final"),5e3),d=setTimeout(()=>a(),7500);return()=>{clearTimeout(b),clearTimeout(c),clearTimeout(d)}},[a]),(0,b.jsxs)("div",{className:"fixed inset-0 z-[999] bg-black",children:[(0,b.jsx)("style",{children:`
            @keyframes scanline {
                0% { background-position: 0 0; }
                100% { background-position: 0 -100vh; }
            }
        `}),(0,b.jsxs)(T.AnimatePresence,{mode:"wait",children:["intro"===d&&(0,b.jsx)(S.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)(ab.FlixTrendLogo,{size:120})},"intro"),"tour"===d&&(0,b.jsx)(ai,{}),"final"===d&&(0,b.jsx)(aj,{})]})]})}var al=a.i(59855);let am=(0,d.default)(async()=>{},{loadableGenerated:{modules:[42236]},ssr:!1}),an=(0,d.default)(async()=>{},{loadableGenerated:{modules:[74089]},ssr:!1}),ao=(0,d.default)(async()=>{},{loadableGenerated:{modules:[21880]},ssr:!1}),ap=(0,e.getFirestore)(Q.app),aq=[{id:"for-you",name:"For You",icon:(0,b.jsx)(k.Flame,{})},{id:"news",name:"News",icon:(0,b.jsx)(o,{})},{id:"gaming",name:"Gaming",icon:(0,b.jsx)(l.Gamepad2,{})},{id:"music",name:"Music",icon:(0,b.jsx)(m.Music,{})},{id:"vlogs",name:"Vlogs",icon:(0,b.jsx)(j.Video,{})},{id:"comedy",name:"Comedy",icon:(0,b.jsx)(q.Smile,{})},{id:"tech",name:"Tech",icon:(0,b.jsx)(r.Code,{})},{id:"science",name:"Science",icon:(0,b.jsx)(s.Atom,{})},{id:"politics",name:"Politics",icon:(0,b.jsx)(t.Handshake,{})},{id:"education",name:"Education",icon:(0,b.jsx)(u.PenTool,{})},{id:"art-design",name:"Art & Design",icon:(0,b.jsx)(z.Palette,{})},{id:"diy-crafts",name:"DIY & Crafts",icon:(0,b.jsx)(w.Sparkles,{})},{id:"fashion-style",name:"Fashion",icon:(0,b.jsx)(A.Shirt,{})},{id:"food-cooking",name:"Food",icon:(0,b.jsx)(B.Utensils,{})},{id:"travel",name:"Travel",icon:(0,b.jsx)(C.Plane,{})},{id:"photography-videography",name:"Photography",icon:(0,b.jsx)(y.Camera,{})},{id:"books-literature",name:"Books",icon:(0,b.jsx)(x.Book,{})},{id:"movies-tv",name:"Movies & TV",icon:(0,b.jsx)(D.Film,{})},{id:"ai-future",name:"AI & Future",icon:(0,b.jsx)(v.Bot,{})},{id:"spirituality-wellness",name:"Wellness",icon:(0,b.jsx)(E.BrainCircuit,{})},{id:"business",name:"Business",icon:(0,b.jsx)(N.Briefcase,{})},{id:"health-fitness",name:"Fitness",icon:(0,b.jsx)(O.Heart,{})},{id:"sports",name:"Sports",icon:(0,b.jsx)(P.Trophy,{})},{id:"bollywood",name:"Bollywood",icon:(0,b.jsx)(D.Film,{})},{id:"bhakti",name:"Bhakti",icon:(0,b.jsx)(K.HelpingHand,{})},{id:"regional-cinema",name:"Regional Cinema",icon:(0,b.jsx)(G.Drama,{})},{id:"street-food",name:"Street Food",icon:(0,b.jsx)(H,{})},{id:"indian-mythology",name:"Mythology",icon:(0,b.jsx)(I.Scroll,{})},{id:"classical-music-dance",name:"Classical Arts",icon:(0,b.jsx)(J.Music4,{})},{id:"festivals-of-india",name:"Festivals",icon:(0,b.jsx)(F.Landmark,{})},{id:"startups-india",name:"Startups India",icon:(0,b.jsx)(M.Rocket,{})},{id:"vedic-science",name:"Vedic Science",icon:(0,b.jsx)(L.Sprout,{})}];function ar(){let[a,d]=(0,c.useState)(!1),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),{setCallTarget:u,setIsCalling:v}=(0,R.useAppState)(),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!0),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)("for-you"),[K,L]=(0,c.useState)(!1),M=(0,Z.useRouter)(),N=(0,Z.useSearchParams)(),[O,P]=(0,c.useState)(!1),W=(0,c.useRef)(null),[X,_]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)([]),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1);(0,c.useEffect)(()=>{ag(!0)},[]),(0,c.useEffect)(()=>{af&&"true"===N.get("new")&&(P(!0),M.replace("/home",{scroll:!1}))},[N,af,M]),(0,c.useEffect)(()=>{let a=localStorage.getItem("viewedFlashes");a&&ac(JSON.parse(a))},[]);let ah=(0,c.useCallback)(async(a,b=!1)=>{if(!Q.auth.currentUser)return;if(b){if(!G||C)return;D(!0)}else{B(!0);let b=await al.redisClient.get(`feed:${a}`);if(b){k(b),B(!1);return}}let c=(0,e.collection)(ap,"posts"),d=[(0,e.orderBy)("publishAt","desc")];"for-you"!==a&&d.unshift((0,e.or)((0,e.where)("category","==",a),(0,e.where)("hashtags","array-contains",a))),b&&E&&d.push((0,e.startAfter)(E)),d.push((0,e.limit)(5));let f=(0,e.query)(c,...d);try{let c=await (0,e.getDocs)(f),d=c.docs.map(a=>({id:a.id,...a.data()})),g=c.docs[c.docs.length-1];b?k(a=>{let b=new Set(a.map(a=>a.id)),c=d.filter(a=>!b.has(a.id));return[...a,...c]}):(k(d),await al.redisClient.set(`feed:${a}`,d,{ex:300})),F(g),H(5===c.docs.length)}catch(a){console.error("Error fetching posts: ",a)}finally{b?D(!1):B(!1)}},[G,E,C]);(0,c.useEffect)(()=>{w&&ah(I)},[I,w]);let ai=(0,c.useCallback)(()=>{ah(I,!0)},[ah,I]);(0,c.useEffect)(()=>{let a=Q.auth.onAuthStateChanged(async a=>{if(a){x(a);let b=(0,e.doc)(ap,"users",a.uid),c=await (0,e.getDoc)(b);z(c.exists()?c.data():null);let d=(0,e.query)((0,e.collection)(ap,"users",a.uid,"notifications"),(0,e.where)("read","==",!1)),f=(0,e.onSnapshot)(d,a=>{_(!a.empty)});return()=>f()}M.replace("/login")});return()=>a()},[M]),(0,c.useEffect)(()=>{if(A)return;let a=new IntersectionObserver(a=>{a[0].isIntersecting&&G&&!C&&ai()},{threshold:1}),b=W.current;return b&&a.observe(b),()=>{b&&a.unobserve(b)}},[ai,G,A,C]),(0,c.useEffect)(()=>{if(!w)return;let a=(0,e.query)((0,e.collection)(ap,"flashes"),(0,e.where)("expiresAt",">",new Date),(0,e.orderBy)("expiresAt","desc")),b=(0,e.onSnapshot)(a,a=>{m(a.docs.map(a=>({id:a.id,...a.data()})))});return()=>b()},[w]);let aj=Object.values(l.reduce((a,b)=>(a[b.userId]||(a[b.userId]={userId:b.userId,username:b.username,avatar_url:b.avatar_url,flashes:[]}),a[b.userId].flashes.push(b),a),{})),ar=q.trim()?j.filter(a=>a.content&&a.content.toLowerCase().includes(q.toLowerCase())||a.username&&a.username.toLowerCase().includes(q.toLowerCase())||a.hashtags&&a.hashtags.some(a=>a.toLowerCase().includes(q.toLowerCase()))):j,as=K?aq:aq.slice(0,5),at="for-you"===I||y?.accountType==="creator"&&y?.creatorType===I,au={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{when:"beforeChildren",staggerChildren:.08,duration:.4,ease:"easeOut",type:"spring",stiffness:100,damping:10}}},av={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1}},aw={hidden:{opacity:0,y:20,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:12}}};return A&&0===j.length?(0,b.jsx)(V.VibeSpaceLoader,{}):O?(0,b.jsx)(ak,{onComplete:()=>P(!1)}):(0,b.jsxs)("div",{className:"flex flex-col w-full",children:[(0,b.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,b.jsx)(S.motion.div,{className:"flex justify-center items-center mb-6 w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:(0,b.jsxs)("div",{className:`input-glass w-full flex items-center px-4 transition-all duration-300 ${ad?"ring-2 ring-brand-saffron":""}`,children:[(0,b.jsx)("button",{className:"p-1 rounded-full transition-colors text-gray-400 hover:text-brand-gold","aria-label":"Voice search",disabled:!0,children:(0,b.jsx)(i.Mic,{size:20})}),(0,b.jsx)("div",{className:"w-px h-6 bg-glass-border mx-3"}),(0,b.jsx)("input",{type:"text",className:"flex-1 bg-transparent py-3 text-lg font-body focus:outline-none",placeholder:"Search posts...",value:q,onChange:a=>r(a.target.value),onFocus:()=>ae(!0),onBlur:()=>ae(!1),autoFocus:!1}),(0,b.jsx)(S.motion.div,{whileHover:{scale:1.1,rotate:10},children:(0,b.jsx)("button",{className:"p-2 rounded-full text-brand-gold hover:bg-brand-gold/10",children:(0,b.jsx)(h.Search,{})})})]})}),(0,b.jsxs)(S.motion.div,{className:"flex gap-2 overflow-x-auto pb-4 mb-4",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},initial:"hidden",animate:"visible",children:[as.map(a=>(0,b.jsxs)(S.motion.button,{variants:aw,whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>J(a.id),className:`btn-glass text-sm flex items-center gap-2 shrink-0 ${I===a.id?"bg-accent-cyan text-black":""}`,children:[a.icon," ",a.name]},a.id)),!K&&aq.length>5&&(0,b.jsx)(S.motion.button,{variants:aw,whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>L(!0),className:"btn-glass text-sm flex items-center gap-2 shrink-0 bg-accent-purple/20 text-accent-purple",children:"More..."})]}),"for-you"===I&&(0,b.jsxs)(S.motion.section,{className:"mb-6 glass-card p-4",variants:au,initial:"hidden",animate:"visible",children:[(0,b.jsx)("h2",{className:"text-lg font-headline bg-gradient-to-r from-accent-pink to-accent-green bg-clip-text text-transparent mb-2",children:"Flashes"}),(0,b.jsxs)(S.motion.div,{className:"flex gap-3 overflow-x-auto pb-2",variants:au,children:[(0,b.jsxs)(S.motion.button,{variants:av,className:"w-20 h-20 shrink-0 rounded-full bg-gradient-to-tr from-gray-800 to-gray-700 border-4 border-dashed border-gray-600 flex flex-col items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-accent-green",onClick:()=>M.push("/create?type=flash"),title:"Create a Flash",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,b.jsx)(f.Plus,{className:"text-gray-400 mb-1"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Add New"})]}),aj.map(a=>{let c=ab.includes(a.userId);return(0,b.jsx)(S.motion.button,{variants:av,className:`w-20 h-20 shrink-0 rounded-full bg-gradient-to-tr flex items-center justify-center overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-accent-green
                        ${c?"border-4 border-gray-600":"from-accent-pink to-accent-green border-4 border-accent-green/40"}`,onClick:()=>o(a),title:a.username||"Flash",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.avatar_url?(0,b.jsx)("img",{src:a.avatar_url,alt:"flash",className:`w-full h-full object-cover transition-opacity ${c?"opacity-60":""}`}):(0,b.jsx)("span",{className:"text-2xl text-white",children:"⚡"})},a.userId)})]})]}),(0,b.jsxs)("section",{className:"flex-1 flex flex-col items-center mt-4",children:[(0,b.jsx)(S.motion.h2,{className:"text-xl font-headline self-start bg-gradient-to-r from-accent-pink to-accent-green bg-clip-text text-transparent mb-4 text-glow",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"VibeSpace"}),A?(0,b.jsx)(V.VibeSpaceLoader,{}):(0,b.jsxs)("div",{className:"w-full max-w-xl flex flex-col gap-4",children:[at&&(0,b.jsx)(aa,{onGoLive:a=>{let b=`${w.uid}-${Date.now()}`;M.push(`/broadcast/${encodeURIComponent(b)}`)}}),ar.length>0?ar.map((a,d)=>(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)(U.PostCard,{post:a}),(d+1)%5==0&&(0,b.jsx)(Y,{},`ad-${a.id}`)]},a.id)):(0,b.jsx)("div",{className:"text-center text-gray-400 p-8 glass-card",children:"No posts found in this category yet."}),(0,b.jsx)("div",{ref:W,className:"h-10 w-full"}),C&&(0,b.jsx)("div",{className:"flex justify-center my-4",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-cyan"})}),!G&&!q.trim()&&j.length>0&&(0,b.jsx)("div",{className:"text-center text-gray-500 my-8",children:(0,b.jsx)("p",{children:"You've reached the end of the vibe. ✨"})})]})]})]}),(0,b.jsx)("div",{className:"fixed top-4 right-4 z-30 flex flex-col items-center",children:(0,b.jsxs)(S.motion.button,{className:"relative inline-flex items-center justify-center bg-white/10 dark:bg-black/20 backdrop-blur-md border border-white/10 dark:border-black/20 w-12 h-12 rounded-full text-white hover:bg-gradient-to-tr hover:from-accent-purple hover:to-accent-cyan transition-all",title:"Notifications",onClick:()=>t(!0),"aria-label":"Notifications",whileHover:{scale:1.1},whileTap:{scale:.95},variants:{initial:{rotate:0},jiggle:{rotate:[0,-15,15,-15,15,0],transition:{duration:.5,ease:"easeInOut",repeat:1/0,repeatDelay:3}}},animate:X?"jiggle":"initial",children:[(0,b.jsx)(g.Bell,{className:"text-xl"}),X&&(0,b.jsx)("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-accent-pink rounded-full"})]})}),(0,b.jsx)($.default,{href:"/flix",children:(0,b.jsx)(S.motion.button,{className:"fixed bottom-24 left-4 z-30 btn-glass-icon w-16 h-16 bg-gradient-to-tr from-accent-cyan to-accent-pink","aria-label":"Flix Features",whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},children:(0,b.jsx)(p.Compass,{size:32})})}),(0,b.jsxs)(T.AnimatePresence,{children:[a&&(0,b.jsx)(am,{onClose:()=>d(!1)}),n&&(0,b.jsx)(an,{userFlashes:n,onClose:()=>(a=>{if(a&&!ab.includes(a)){let b=[...ab,a];ac(b),localStorage.setItem("viewedFlashes",JSON.stringify(b))}o(null)})(n?.userId)}),s&&(0,b.jsx)(ao,{onClose:()=>t(!1)})]})]})}function as(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(V.VibeSpaceLoader,{}),children:(0,b.jsx)(ar,{})})}a.s(["default",()=>as],1661)}];

//# sourceMappingURL=_c34874b9._.js.map