module.exports=[55185,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;var t,u,v,w,x,y,z,A,B,C,D,E=a.i(87924),F=a.i(72131),G=a.i(50944),H=a.i(46271),I=a.i(62036),J=a.i(93498),K=a.i(38632),L=a.i(39761),M=a.i(71727),N=a.i(1027),O=a.i(32860),P=a.i(24987),Q=a.i(7428),R=a.i(70106);let S=(0,R.default)("locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]);var T=a.i(28193),U=a.i(19669),V=a.i(25408);let W=["#ffffff","#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff","#fffffc","#f1f1f1","#e0e0e0"],X=[{name:"Default",style:"font-body"},{name:"Cursive",style:"font-cursive"},{name:"Calligraphy",style:"font-calligraphy"},{name:"Italiano",style:"font-italiano"}];function Y({data:a,onDataChange:b}){let[c,d]=(0,F.useState)(!1),[e,f]=(0,F.useState)(a.backgroundImage||null),[g,h]=(0,F.useState)(!1),i=a.backgroundImage||a.backgroundColor||"#ffffff",j=c=>{b({...a,[c.target.name]:c.target.value})},k=async c=>{if(c.target.files&&c.target.files[0]){let d=c.target.files[0],e=V.auth.currentUser;if(!e)return void alert("You must be logged in to upload images.");h(!0),f(URL.createObjectURL(d));try{let c=new FormData;c.append("file",d),c.append("userId",e.uid);let f=await (0,U.uploadFileToFirebaseStorage)(c);if(f.success?.url)b({...a,backgroundImage:f.success.url,backgroundColor:null});else throw Error(f.failure||"Background image upload failed.")}catch(a){alert(a.message),f(null)}finally{h(!1)}}};return(0,E.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,E.jsx)("textarea",{name:"content",className:`input-glass w-full min-h-[250px] text-2xl p-6 text-center flex items-center justify-center rounded-2xl ${a.fontStyle||"font-body"}`,placeholder:"What's on your mind?",value:a.content||"",onChange:j,style:{backgroundColor:a.backgroundImage?"transparent":a.backgroundColor,backgroundImage:a.backgroundImage?`url(${a.backgroundImage})`:"none",backgroundSize:"cover",backgroundPosition:"center"}}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(P.MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,E.jsx)("input",{type:"text",name:"location",className:"w-full rounded-xl p-3 pl-10 bg-black/20 text-white border-2 border-accent-cyan focus:outline-none focus:ring-2 focus:ring-accent-pink",placeholder:"Add location...",value:a.location||"",onChange:j}),(0,E.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?(d(!0),navigator.geolocation.getCurrentPosition(async c=>{let{latitude:e,longitude:f}=c.coords;try{let c=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${f}`),d=await c.json(),g=d.address.city||d.address.town||d.address.village,h=d.address.country;g&&h?b({...a,location:`${g}, ${h}`}):b({...a,location:"Unknown Location"})}catch(c){console.error("Error fetching location name:",c),b({...a,location:"Could not fetch name"})}finally{d(!1)}},a=>{console.error("Geolocation error:",a.message),a.code!==a.PERMISSION_DENIED&&alert("Could not get location. Please enable location services for this site."),d(!1)})):alert("Geolocation is not supported by this browser.")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-accent-cyan",disabled:c,children:c?(0,E.jsx)(T.Loader,{className:"animate-spin",size:16}):(0,E.jsx)(S,{size:16})})]}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(Q.Smile,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,E.jsx)("input",{type:"text",name:"mood",className:"w-full rounded-xl p-3 pl-10 bg-black/20 text-white border-2 border-accent-cyan focus:outline-none focus:ring-2 focus:ring-accent-pink",placeholder:"How are you feeling?",value:a.mood||"",onChange:j})]}),(0,E.jsxs)("div",{className:"space-y-3",children:[(0,E.jsx)("h4",{className:"font-bold text-sm text-accent-cyan",children:"Font Style"}),(0,E.jsx)("div",{className:"flex flex-wrap gap-2",children:X.map(c=>(0,E.jsx)("button",{type:"button",onClick:()=>{var d;return d=c.style,void b({...a,fontStyle:d})},className:`btn-glass text-xs ${a.fontStyle===c.style?"bg-accent-cyan text-black":""}`,children:c.name},c.name))}),(0,E.jsx)("h4",{className:"font-bold text-sm text-accent-cyan",children:"Background Color"}),(0,E.jsx)("div",{className:"flex flex-wrap gap-2",children:W.map(c=>(0,E.jsx)("button",{type:"button",onClick:()=>{f(null),b({...a,backgroundColor:c,backgroundImage:null})},className:"w-8 h-8 rounded-full border-2",style:{backgroundColor:c,borderColor:i===c?"var(--accent-pink)":"transparent"}},c))}),(0,E.jsx)("h4",{className:"font-bold text-sm text-accent-cyan",children:"Or Upload Background Image"}),(0,E.jsx)("input",{type:"file",accept:"image/*",onChange:k,className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-accent-pink/20 file:text-accent-pink hover:file:bg-accent-pink/40"}),g&&(0,E.jsx)("p",{className:"text-sm text-accent-cyan animate-pulse",children:"Uploading background..."})]})]})}var Z=a.i(74618),$=a.i(33508);let _=(0,R.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var aa=a.i(65169),ab=a.i(13513);let ac=(0,R.default)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var ad="undefined"!=typeof self?self:{};function ae(){throw Error("Invalid UTF8")}function af(a,b){return b=String.fromCharCode.apply(null,b),null==a?b:a+b}let ag="undefined"!=typeof TextDecoder,ah="undefined"!=typeof TextEncoder;function ai(a){if(ah)a=(d||=new TextEncoder).encode(a);else{let c=0,d=new Uint8Array(3*a.length);for(let e=0;e<a.length;e++){var b=a.charCodeAt(e);if(b<128)d[c++]=b;else{if(b<2048)d[c++]=b>>6|192;else{if(b>=55296&&b<=57343){if(b<=56319&&e<a.length){let f=a.charCodeAt(++e);if(f>=56320&&f<=57343){b=1024*(b-55296)+f-56320+65536,d[c++]=b>>18|240,d[c++]=b>>12&63|128,d[c++]=b>>6&63|128,d[c++]=63&b|128;continue}e--}b=65533}d[c++]=b>>12|224,d[c++]=b>>6&63|128}d[c++]=63&b|128}}a=c===d.length?d:d.subarray(0,c)}return a}a:{for(var aj=["CLOSURE_FLAGS"],ak=ad,al=0;al<aj.length;al++)if(null==(ak=ak[aj[al]])){an=null;break a}an=ak}var am,an,ao,ap=an&&an[0x2461fc15];am=null!=ap&&ap;let aq=ad.navigator;function ar(a){return!!am&&!!ao&&ao.brands.some(({brand:b})=>b&&-1!=b.indexOf(a))}function as(a){var b;return(b=ad.navigator)&&(b=b.userAgent)||(b=""),-1!=b.indexOf(a)}function at(){return!!am&&!!ao&&ao.brands.length>0}function au(){return at()?ar("Chromium"):(as("Chrome")||as("CriOS"))&&!(!at()&&as("Edge"))||as("Silk")}function av(a){return av[" "](a),a}ao=aq&&aq.userAgentData||null,av[" "]=function(){};var aw=!at()&&(as("Trident")||as("MSIE"));as("Android")&&au(),au(),as("Safari")&&(au()||!at()&&as("Coast")||!at()&&as("Opera")||!at()&&as("Edge")||(at()?ar("Microsoft Edge"):as("Edg/"))||at()&&ar("Opera"));var ax={},ay=null;function az(){if(!ay){ay={};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"];for(let c=0;c<5;c++){let d=a.concat(b[c].split(""));ax[c]=d;for(let a=0;a<d.length;a++){let b=d[a];void 0===ay[b]&&(ay[b]=a)}}}}var aA="undefined"!=typeof Uint8Array,aB=!aw&&"function"==typeof btoa;function aC(a){if(!aB){void 0===b&&(b=0),az(),b=ax[b];var b,c=Array(Math.floor(a.length/3)),d=b[64]||"";let i=0,j=0;for(;i<a.length-2;i+=3){var e=a[i],f=a[i+1],g=a[i+2],h=b[e>>2];e=b[(3&e)<<4|f>>4],f=b[(15&f)<<2|g>>6],g=b[63&g],c[j++]=h+e+f+g}switch(h=0,g=d,a.length-i){case 2:g=b[(15&(h=a[i+1]))<<2]||d;case 1:a=a[i],c[j]=b[a>>2]+b[(3&a)<<4|h>>4]+g+d}return c.join("")}for(b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));return btoa(b+=String.fromCharCode.apply(null,c?a.subarray(c):a))}let aD=/[-_.]/g,aE={"-":"+",_:"/",".":"="};function aF(a){return aE[a]||""}function aG(a){if(!aB){var b;let c,d,e,f;return(d=3*(c=(b=a).length)/4)%3?d=Math.floor(d):-1!="=.".indexOf(b[c-1])&&(d=-1!="=.".indexOf(b[c-2])?d-2:d-1),e=new Uint8Array(d),f=0,function(a,b){function c(b){for(;d<a.length;){let b=a.charAt(d++),c=ay[b];if(null!=c)return c;if(!/^[\s\xa0]*$/.test(b))throw Error("Unknown base64 encoding at char: "+b)}return b}az();let d=0;for(;;){let a=c(-1),d=c(0),e=c(64),f=c(64);if(64===f&&-1===a)break;b(a<<2|d>>4),64!=e&&(b(d<<4&240|e>>2),64!=f&&b(e<<6&192|f))}}(b,function(a){e[f++]=a}),f!==d?e.subarray(0,f):e}aD.test(a)&&(a=a.replace(aD,aF));let c=new Uint8Array((a=atob(a)).length);for(let b=0;b<a.length;b++)c[b]=a.charCodeAt(b);return c}function aH(a){return aA&&null!=a&&a instanceof Uint8Array}var aI={};function aJ(){return e||=new aL(null,aI)}function aK(a){aM(aI);var b=a.g;return null==(b=null==b||aH(b)?b:"string"==typeof b?aG(b):null)?b:a.g=b}var aL=class{h(){return new Uint8Array(aK(this)||0)}constructor(a,b){if(aM(b),this.g=a,null!=a&&0===a.length)throw Error("ByteString should be constructed with non-empty values")}};function aM(a){if(a!==aI)throw Error("illegal external caller")}function aN(a,b){a.__closure__error__context__984382||(a.__closure__error__context__984382={}),a.__closure__error__context__984382.severity=b}function aO(a){return aN(a=Error(a),"warning"),a}function aP(a){if(null!=a){var b,c=f??={},d=c[a]||0;d>=5||(c[a]=d+1,aN(a=Error(),"incident"),b=a,ad.setTimeout(()=>{throw b},0))}}var aQ="function"==typeof Symbol&&"symbol"==typeof Symbol();function aR(a,b,c=!1){return"function"==typeof Symbol&&"symbol"==typeof Symbol()?c&&Symbol.for&&a?Symbol.for(a):null!=a?Symbol(a):Symbol():b}var aS=aR("jas",void 0,!0),aT=aR(void 0,"0di"),aU=aR(void 0,"1oa"),aV=aR(void 0,Symbol()),aW=aR(void 0,"0actk"),aX=aR(void 0,"8utk");let aY=aQ?aS:"Ea",aZ={Ea:{value:0,configurable:!0,writable:!0,enumerable:!1}},a$=Object.defineProperties;function a_(a,b){aQ||aY in a||a$(a,aZ),a[aY]|=b}function a0(a,b){aQ||aY in a||a$(a,aZ),a[aY]=b}function a1(a){return a_(a,34),a}function a2(a,b){a0(b,-15615&a)}function a3(a,b){a0(b,-15581&(34|a))}function a4(){return"function"==typeof BigInt}function a5(a){return Array.prototype.slice.call(a)}var a6,a7={};function a8(a){return null!==a&&"object"==typeof a&&!Array.isArray(a)&&a.constructor===Object}function a9(a,b){if(null!=a){if("string"==typeof a)a=a?new aL(a,aI):aJ();else if(a.constructor!==aL)if(aH(a))a=a.length?new aL(new Uint8Array(a),aI):aJ();else{if(!b)throw Error();a=void 0}}return a}let ba=[];function bb(a){if(2&a)throw Error()}a0(ba,55),a6=Object.freeze(ba);class bc{constructor(a,b,c){this.g=a,this.h=b,this.l=c}next(){let a=this.g.next();return a.done||(a.value=this.h.call(this.l,a.value)),a}[Symbol.iterator](){return this}}function bd(a){return aV?a[aV]:void 0}var be=Object.freeze({});function bf(a){return a.Na=!0,a}var bg=bf(a=>"number"==typeof a),bh=bf(a=>"string"==typeof a),bi=bf(a=>"boolean"==typeof a),bj="function"==typeof ad.BigInt&&"bigint"==typeof ad.BigInt(0);function bk(a){var b=a;if(bh(b)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(b))throw Error(String(b))}else if(bg(b)&&!Number.isSafeInteger(b))throw Error(String(b));return bj?BigInt(a):a=bi(a)?a?"1":"0":bh(a)?a.trim()||"0":String(a)}var bl=bf(a=>bj?a>=bn&&a<=bp:"-"===a[0]?bq(a,bm):bq(a,bo));let bm=Number.MIN_SAFE_INTEGER.toString(),bn=bj?BigInt(Number.MIN_SAFE_INTEGER):void 0,bo=Number.MAX_SAFE_INTEGER.toString(),bp=bj?BigInt(Number.MAX_SAFE_INTEGER):void 0;function bq(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(let c=0;c<a.length;c++){let d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}}let br="function"==typeof Uint8Array.prototype.slice,bs,bt=0,bu=0;function bv(a){let b=a>>>0;bt=b,bu=(a-b)/0x100000000>>>0}function bw(a){if(a<0){bv(-a);let[b,c]=bE(bt,bu);bt=b>>>0,bu=c>>>0}else bv(a)}function bx(a){let b=bs||=new DataView(new ArrayBuffer(8));b.setFloat32(0,+a,!0),bu=0,bt=b.getUint32(0,!0)}function by(a,b){let c=0x100000000*b+(a>>>0);return Number.isSafeInteger(c)?c:bA(a,b)}function bz(a,b){let c=0x80000000&b;return c&&(b=~b>>>0,0==(a=1+~a>>>0)&&(b=b+1>>>0)),"number"==typeof(a=by(a,b))?c?-a:a:c?"-"+a:a}function bA(a,b){if(a>>>=0,(b>>>=0)<=2097151)var c=""+(0x100000000*b+a);else a4()?c=""+(BigInt(b)<<BigInt(32)|BigInt(a)):(a=(0xffffff&a)+6777216*(c=0xffffff&(a>>>24|b<<8))+6710656*(b=b>>16&65535),c+=8147497*b,b*=2,a>=1e7&&(c+=a/1e7>>>0,a%=1e7),c>=1e7&&(b+=c/1e7>>>0,c%=1e7),c=b+bB(c)+bB(a));return c}function bB(a){return a=String(a),"0000000".slice(a.length)+a}function bC(){var a=bt,b=bu;if(0x80000000&b)if(a4())a=""+(BigInt(0|b)<<BigInt(32)|BigInt(a>>>0));else{let[c,d]=bE(a,b);a="-"+bA(c,d)}else a=bA(a,b);return a}function bD(a){if(a.length<16)bw(Number(a));else if(a4())bt=Number((a=BigInt(a))&BigInt(0xffffffff))>>>0,bu=Number(a>>BigInt(32)&BigInt(0xffffffff));else{let b=+("-"===a[0]);bu=bt=0;let c=a.length;for(let d=b,e=(c-b)%6+b;e<=c;d=e,e+=6){let b=Number(a.slice(d,e));bu*=1e6,(bt=1e6*bt+b)>=0x100000000&&(bu+=Math.trunc(bt/0x100000000),bu>>>=0,bt>>>=0)}if(b){let[a,b]=bE(bt,bu);bt=a,bu=b}}}function bE(a,b){return b=~b,a?a=1+~a:b+=1,[a,b]}let bF="function"==typeof BigInt?BigInt.asIntN:void 0,bG="function"==typeof BigInt?BigInt.asUintN:void 0,bH=Number.isSafeInteger,bI=Number.isFinite,bJ=Math.trunc,bK=bk(0);function bL(a){return null==a||"number"==typeof a?a:"NaN"===a||"Infinity"===a||"-Infinity"===a?Number(a):void 0}function bM(a){return null==a||"boolean"==typeof a?a:"number"==typeof a?!!a:void 0}let bN=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function bO(a){switch(typeof a){case"bigint":return!0;case"number":return bI(a);case"string":return bN.test(a);default:return!1}}function bP(a){if(null==a)return a;if("string"==typeof a&&a)a*=1;else if("number"!=typeof a)return;return bI(a)?0|a:void 0}function bQ(a){if(null==a)return a;if("string"==typeof a&&a)a*=1;else if("number"!=typeof a)return;return bI(a)?a>>>0:void 0}function bR(a){if("-"===a[0])return!1;let b=a.length;return b<20||20===b&&184467>Number(a.substring(0,6))}function bS(a){let b=a.length;return"-"===a[0]?b<20||20===b&&Number(a.substring(0,7))>-922337:b<19||19===b&&922337>Number(a.substring(0,6))}function bT(a){return bS(a)?a:(bD(a),bC())}function bU(a){return bH(a=bJ(a))||(bw(a),a=bz(bt,bu)),a}function bV(a){var b=bJ(Number(a));return bH(b)?String(b):(-1!==(b=a.indexOf("."))&&(a=a.substring(0,b)),bT(a))}function bW(a){var b=bJ(Number(a));return bH(b)?bk(b):(-1!==(b=a.indexOf("."))&&(a=a.substring(0,b)),a4()?bk(bF(64,BigInt(a))):bk(bT(a)))}function bX(a){if(bH(a))a=bk(bU(a));else{if(bH(a=bJ(a)))a=String(a);else{let b=String(a);bS(b)?a=b:(bw(a),a=bC())}a=bk(a)}return a}function bY(a){return null==a?a:"bigint"==typeof a?a=bl(a)||bl(a=bF(64,a))?Number(a):String(a):bO(a)?"number"==typeof a?bU(a):bV(a):void 0}function bZ(a){if("string"!=typeof a)throw Error();return a}function b$(a){if(null!=a&&"string"!=typeof a)throw Error();return a}function b_(a){return null==a||"string"==typeof a?a:void 0}function b0(a,b,c,d){if(null!=a&&"object"==typeof a&&a.W===a7)return a;if(!Array.isArray(a))return c?2&d?((a=b[aT])||(a1((a=new b).u),a=b[aT]=a),b=a):b=new b:b=void 0,b;let e=c=0|a[aY];return 0===e&&(e|=32&d),(e|=2&d)!==c&&a0(a,e),new b(a)}function b1(a,b,c){if(b)a:{if(!bO(b=a))throw aO("int64");switch(typeof b){case"string":b=bW(b);break a;case"bigint":b=bk(bF(64,b));break a;default:b=bX(b)}}else a=typeof(b=a),b=null==b?b:"bigint"===a?bk(bF(64,b)):bO(b)?"string"===a?bW(b):bX(b):void 0;return null==(a=b)?c?bK:void 0:a}let b2={},b3=function(){try{return av(new class extends Map{constructor(){super()}}),!1}catch{return!0}}();class b4{constructor(){this.g=new Map}get(a){return this.g.get(a)}set(a,b){return this.g.set(a,b),this.size=this.g.size,this}delete(a){return a=this.g.delete(a),this.size=this.g.size,a}clear(){this.g.clear(),this.size=this.g.size}has(a){return this.g.has(a)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(a,b){return this.g.forEach(a,b)}[Symbol.iterator](){return this.entries()}}let b5=b3?(Object.setPrototypeOf(b4.prototype,Map.prototype),Object.defineProperties(b4.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),b4):class extends Map{constructor(){super()}};function b6(a){return a}function b7(a){if(2&a.M)throw Error("Cannot mutate an immutable Map")}var b8=class extends b5{constructor(a,b,c=b6,d=b6){super();let e=0|a[aY];a0(a,e|=64),this.M=e,this.I=b,this.S=c,this.X=this.I?b9:d;for(let f=0;f<a.length;f++){const g=a[f],h=c(g[0],!1,!0);let i=g[1];b?void 0===i&&(i=null):i=d(g[1],!1,!0,void 0,void 0,e),super.set(h,i)}}La(){var a=cf;if(0!==this.size)return Array.from(super.entries(),b=>(b[0]=a(b[0]),b[1]=a(b[1]),b))}da(a=ca){let b=[],c=super.entries();for(var d;!(d=c.next()).done;)(d=d.value)[0]=a(d[0]),d[1]=a(d[1]),b.push(d);return b}clear(){b7(this),super.clear()}delete(a){return b7(this),super.delete(this.S(a,!0,!1))}entries(){if(this.I){var a=super.keys();a=new bc(a,cb,this)}else a=super.entries();return a}values(){if(this.I){var a=super.keys();a=new bc(a,b8.prototype.get,this)}else a=super.values();return a}forEach(a,b){this.I?super.forEach((c,d,e)=>{a.call(b,e.get(d),d,e)}):super.forEach(a,b)}set(a,b){return b7(this),null==(a=this.S(a,!0,!1))?this:null==b?(super.delete(a),this):super.set(a,this.X(b,!0,!0,this.I,!1,this.M))}Ja(a){let b=this.S(a[0],!1,!0);a=a[1],a=this.I?void 0===a?null:a:this.X(a,!1,!0,void 0,!1,this.M),super.set(b,a)}has(a){return super.has(this.S(a,!1,!1))}get(a){a=this.S(a,!1,!1);let b=super.get(a);if(void 0!==b){var c=this.I;return c?((c=this.X(b,!1,!0,c,this.pa,this.M))!==b&&super.set(a,c),c):b}}[Symbol.iterator](){return this.entries()}};function b9(a,b,c,d,e,f){return a=b0(a,d,c,f),e&&(a=cl(a)),a}function ca(a){return a}function cb(a){return[a,this.get(a)]}function cc(){return g||=new b8(a1([]),void 0,void 0,void 0,b2)}function cd(a,b,c,d,e){if(null!=a){if(Array.isArray(a)){let f=0|a[aY];return 0===a.length&&1&f?void 0:e&&2&f?a:ce(a,b,c,void 0!==d,e)}return b(a,d)}}function ce(a,b,c,d,e){let f=d||c?0|a[aY]:0,g=d?!!(32&f):void 0,h=0,i=(d=a5(a)).length;for(let a=0;a<i;a++){var j=d[a];if(a===i-1&&a8(j)){let a;for(let d in j){let f=cd(j[d],b,c,g,e);null!=f&&((a??={})[d]=f)}j=a}else j=cd(d[a],b,c,g,e);d[a]=j,null!=j&&(h=a+1)}return h<i&&(d.length=h),c&&((a=bd(a))&&(d[aV]=a5(a)),c(f,d)),d}function cf(a){return cd(a,cg,void 0,void 0,!1)}function cg(a){switch(typeof a){case"number":return Number.isFinite(a)?a:""+a;case"bigint":return bl(a)?Number(a):""+a;case"boolean":return+!!a;case"object":if(aH(a))return aH(a)&&aP(aX),aC(a);if(a.W===a7)return ch(a);if(a instanceof aL){let b=a.g;return null==b?"":"string"==typeof b?b:a.g=aC(b)}return a instanceof b8?a.La():void 0}return a}function ch(a){var b=a.u;a=ce(b,cg,void 0,void 0,!1);var c=0|b[aY];if((b=a.length)&&!(512&c)){var d=a[b-1],e=!1;a8(d)?(b--,e=!0):d=void 0;var f=b-(c=512&c?0:-1),g=(h??function(a){return a})(f,c,a,d);if(d&&(a[b]=void 0),f<g&&d){for(var i in f=!0,d){let h=+i;h<=g?(a[e=h+c]=d[i],b=Math.max(e+1,b),e=!1,delete d[i]):f=!1}f&&(d=void 0)}for(f=b-1;b>0;f=b-1)if(null==(i=a[f]))b--,e=!0;else{if(!((f-=c)>=g))break;(d??={})[f]=i,b--,e=!0}e&&(a.length=b),d&&a.push(d)}return a}function ci(a,b,c){return a=cj(a,b[0],b[1],c?1:2),b!==i&&c&&a_(a,8192),a}function cj(a,b,c,d){if(null==a){var e=96;c?(a=[c],e|=512):a=[],b&&(e=-0xffc001&e|(1023&b)<<14)}else{if(!Array.isArray(a))throw Error("narr");if(8192&(e=0|a[aY])||!(64&e)||2&e||aP(aW),1024&e)throw Error("farr");if(64&e)return a;if(1===d||2===d||(e|=64),c&&(e|=512,c!==a[0]))throw Error("mid");a:{var f=(c=a).length;if(f){var g=f-1;if(a8(d=c[g])){if((g-=b=512&(e|=256)?0:-1)>=1024)throw Error("pvtlmt");for(var h in d)(f=+h)<g&&(c[f+b]=d[h],delete d[h]);e=-0xffc001&e|(1023&g)<<14;break a}}if(b){if((h=Math.max(b,f-(512&e?0:-1)))>1024)throw Error("spvt");e=-0xffc001&e|(1023&h)<<14}}}return a0(a,e),a}function ck(a,b,c){let d=c||2&b?a3:a2,e=!!(32&b);return a_(a=function(a,b,c){let d=a5(a);var e=d.length;let f=256&b?d[e-1]:void 0;for(e+=f?-1:0,b=512&b?1:0;b<e;b++)d[b]=c(d[b]);if(f)for(let a in b=d[b]={},f)b[a]=c(f[a]);return(a=bd(a))&&(d[aV]=a5(a)),d}(a,b,a=>(function a(b,c,d=a3){if(null!=b){if(aA&&b instanceof Uint8Array)return c?b:new Uint8Array(b);if(Array.isArray(b)){var e=0|b[aY];return 2&e?b:(c&&=0===e||!!(32&e)&&!(64&e||!(16&e)))?(a0(b,34|e),4&e&&Object.freeze(b),b):ce(b,a,4&e?a3:d,!0,!0)}return b.W===a7?b=2&(e=0|(d=b.u)[aY])?b:new b.constructor(ck(d,e,!0)):b instanceof b8&&!(2&b.M)&&(b=new b8(d=a1(b.da(a)),b.I,b.S,b.X)),b}})(a,e,d)),32|2*!!c),a}function cl(a){let b=a.u,c=0|b[aY];return 2&c?new a.constructor(ck(b,c,!1)):a}function cm(a,b){return cn(a=a.u,0|a[aY],b)}function cn(a,b,c){if(-1===c)return null;let d=c+(512&b?0:-1),e=a.length-1;return d>=e&&256&b?a[e][c]:d<=e?a[d]:void 0}function co(a,b,c){let d=a.u,e=0|d[aY];return bb(e),cp(d,e,b,c),a}function cp(a,b,c,d){let e=512&b?0:-1,f=c+e;var g=a.length-1;return f>=g&&256&b?a[g][c]=d:f<=g?a[f]=d:void 0!==d&&(c>=(g=b>>14&1023||0x20000000)?null!=d&&(a[g+e]={[c]:d},a0(a,b|=256)):a[f]=d),b}function cq(a,b){let c=0|(a=a.u)[aY],d=cn(a,c,b),e=bL(d);return null!=e&&e!==d&&cp(a,c,b,e),e}function cr(a){let b=0|(a=a.u)[aY],c=cn(a,b,1),d=a9(c,!0);return null!=d&&d!==c&&cp(a,b,1,d),d}function cs(){return void 0===be?2:4}function ct(a,b,c,d,e){let f=a.u,g=2&(a=0|f[aY])?1:d;e=!!e;let h=0|(d=cu(f,a,b))[aY];if(!(4&h)){4&h&&(d=a5(d),h=cL(h,a),a=cp(f,a,b,d));let e=0,g=0;for(;e<d.length;e++){let a=c(d[e]);null!=a&&(d[g++]=a)}g<e&&(d.length=g),a0(d,h=c=-2049&(20|(h=cv(h,a)))&-4097),2&h&&Object.freeze(d)}return 1===g||4===g&&32&h?cw(h)||(e=h,(h|=2)!==e&&a0(d,h),Object.freeze(d)):(2===g&&cw(h)&&(a0(d=a5(d),h=cM(h=cL(h,a),a,e)),a=cp(f,a,b,d)),cw(h)||(b=h,(h=cM(h,a,e))!==b&&a0(d,h))),d}function cu(a,b,c){return Array.isArray(a=cn(a,b,c))?a:a6}function cv(a,b){return 0===a&&(a=cL(a,b)),1|a}function cw(a){return!!(2&a)&&!!(4&a)||!!(1024&a)}function cx(a){a=a5(a);for(let b=0;b<a.length;b++){let c=a[b]=a5(a[b]);Array.isArray(c[1])&&(c[1]=a1(c[1]))}return a}function cy(a,b,c,d){let e=0|(a=a.u)[aY];bb(e),cp(a,e,b,("0"===d?0===Number(c):c===d)?void 0:c)}function cz(a,b,c,d){bb(b);let e=cu(a,b,c),f=e!==a6;if(64&b||!(8192&b)||!f){let g=f?0|e[aY]:0,h=g;(!f||2&h||cw(h)||4&h&&!(32&h))&&(e=a5(e),h=cL(h,b),b=cp(a,b,c,e)),h=-13&cv(h,b),(h=cM(d?-17&h:16|h,b,!0))!==g&&a0(e,h)}return e}function cA(a,b){return cD(cB(a=a.u),a,0|a[aY],fk)===b?b:-1}function cB(a){if(aQ)return a[aU]??(a[aU]=new Map);if(aU in a)return a[aU];let b=new Map;return Object.defineProperty(a,aU,{value:b}),b}function cC(a,b,c,d){let e=cB(a),f=cD(e,a,b,c);return f!==d&&(f&&(b=cp(a,b,f)),e.set(c,d)),b}function cD(a,b,c,d){let e=a.get(d);if(null!=e)return e;e=0;for(let a=0;a<d.length;a++){let f=d[a];null!=cn(b,c,f)&&(0!==e&&(c=cp(b,c,e)),e=f)}return a.set(d,e),e}function cE(a,b,c){let d,e=0|a[aY],f=cn(a,e,c);if(null!=f&&f.W===a7)return(b=cl(f))!==f&&cp(a,e,c,b),b.u;if(Array.isArray(f)){let a=0|f[aY];d=2&a?ci(ck(f,a,!1),b,!0):64&a?f:ci(d,b,!0)}else d=ci(void 0,b,!0);return d!==f&&cp(a,e,c,d),d}function cF(a,b,c){let d=0|(a=a.u)[aY],e=cn(a,d,c);return(b=b0(e,b,!1,d))!==e&&null!=b&&cp(a,d,c,b),b}function cG(a,b,c){if(null==(b=cF(a,b,c)))return b;let d=0|(a=a.u)[aY];if(!(2&d)){let e=cl(b);e!==b&&cp(a,d,c,b=e)}return b}function cH(a,b,c,d,e,f,g){a=a.u;var h=!!(2&b);let i=h?1:e;f=!!f,g&&=!h;var j=0|(e=cu(a,b,d))[aY];if(!(h=!!(4&j))){var k=e,l=b;let a=!!(2&(j=cv(j,b)));a&&(l|=2);let d=!a,f=!0,g=0,h=0;for(;g<k.length;g++){let b=b0(k[g],c,!1,l);if(b instanceof c){if(!a){let a=!!(2&b.u[aY]);d&&=!a,f&&=a}k[h++]=b}}h<g&&(k.length=h),j|=4,j=f?16|j:-17&j,a0(k,j=d?8|j:-9&j),a&&Object.freeze(k)}if(g&&!(8&j||!e.length&&(1===i||4===i&&32&j))){for(cw(j)&&(e=a5(e),j=cL(j,b),b=cp(a,b,d,e)),c=e,g=j,k=0;k<c.length;k++)(j=c[k])!==(l=cl(j))&&(c[k]=l);g|=8,a0(c,g=c.length?-17&g:16|g),j=g}return 1===i||4===i&&32&j?cw(j)||(b=j,(j|=!e.length||16&j&&(!h||32&j)?2:1024)!==b&&a0(e,j),Object.freeze(e)):(2===i&&cw(j)&&(a0(e=a5(e),j=cM(j=cL(j,b),b,f)),b=cp(a,b,d,e)),cw(j)||(d=j,(j=cM(j,b,f))!==d&&a0(e,j))),e}function cI(a,b,c){let d=0|a.u[aY];return cH(a,d,b,c,cs(),!1,!(2&d))}function cJ(a,b,c,d){return null==d&&(d=void 0),co(a,c,d)}function cK(a,b,c,d){null==d&&(d=void 0);a:{let e=0|(a=a.u)[aY];if(bb(e),null==d){let d=cB(a);if(cD(d,a,e,c)!==b)break a;d.set(c,0)}else e=cC(a,e,c,b);cp(a,e,b,d)}}function cL(a,b){return -1025&(a=32|(2&b?2|a:-3&a))}function cM(a,b,c){return 32&b&&c||(a&=-33),a}function cN(a,b,c){bb(0|a.u[aY]),ct(a,b,b_,2,!0).push(bZ(c))}function cO(a,b,c,d){let e=0|a.u[aY];bb(e),a=cH(a,e,c,b,2,!0),d=null!=d?d:new c,a.push(d),a[aY]=2&d.u[aY]?-9&a[aY]:-17&a[aY]}function cP(a,b){return bP(cm(a,b))}function cQ(a,b){return b_(cm(a,b))}function cR(a,b){return cq(a,b)??0}function cS(a,b,c){if(null!=c&&"boolean"!=typeof c)throw a=typeof c,Error(`Expected boolean but got ${"object"!=a?a:c?Array.isArray(c)?"array":a:"null"}: ${c}`);co(a,b,c)}function cT(a,b,c){if(null!=c){if("number"!=typeof c||!bI(c))throw aO("int32");c|=0}co(a,b,c)}function cU(a,b,c){if(null!=c&&"number"!=typeof c)throw Error(`Value of float/double field must be a number, found ${typeof c}: ${c}`);co(a,b,c)}function cV(a,b,c){{let g=a.u,h=0|g[aY];if(bb(h),null==c)cp(g,h,b);else{var d=a=0|c[aY],e=cw(a),f=e||Object.isFrozen(c);for(e||(a=0),f||(c=a5(c),d=0,a=cM(a=cL(a,h),h,!0),f=!1),a|=21,e=0;e<c.length;e++){let b=c[e],g=bZ(b);Object.is(b,g)||(f&&(c=a5(c),d=0,a=cM(a=cL(a,h),h,!0),f=!1),c[e]=g)}a!==d&&(f&&(c=a5(c),a=cM(a=cL(a,h),h,!0)),a0(c,a)),cp(g,h,b,c)}}}function cW(a,b){return Error(`Invalid wire type: ${a} (at position ${b})`)}function cX(){return Error("Failed to read varint, encoding is invalid.")}function cY(a,b){return Error(`Tried to read past the end of the data ${b} > ${a}`)}function cZ(a){if("string"==typeof a)return{buffer:aG(a),O:!1};if(Array.isArray(a))return{buffer:new Uint8Array(a),O:!1};if(a.constructor===Uint8Array)return{buffer:a,O:!1};if(a.constructor===ArrayBuffer)return{buffer:new Uint8Array(a),O:!1};if(a.constructor===aL)return{buffer:aK(a)||new Uint8Array(0),O:!0};if(a instanceof Uint8Array)return{buffer:new Uint8Array(a.buffer,a.byteOffset,a.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function c$(a,b){let c,d=0,e=0,f=0,g=a.h,h=a.g;do d|=(127&(c=g[h++]))<<f,f+=7;while(f<32&&128&c)for(f>32&&(e|=(127&c)>>4),f=3;f<32&&128&c;f+=7)e|=(127&(c=g[h++]))<<f;if(c6(a,h),c<128)return b(d>>>0,e>>>0);throw cX()}function c_(a){let b=0,c=a.g,d=c+10,e=a.h;for(;c<d;){let d=e[c++];if(b|=d,0==(128&d))return c6(a,c),!!(127&b)}throw cX()}function c0(a){let b=a.h,c=a.g,d=b[c++],e=127&d;if(128&d&&(e|=(127&(d=b[c++]))<<7,128&d&&(e|=(127&(d=b[c++]))<<14,128&d&&(e|=(127&(d=b[c++]))<<21,128&d&&(e|=(d=b[c++])<<28,128&d&&128&b[c++]&&128&b[c++]&&128&b[c++]&&128&b[c++]&&128&b[c++])))))throw cX();return c6(a,c),e}function c1(a){return c0(a)>>>0}function c2(a){var b=a.h;let c=a.g,d=b[c],e=b[c+1],f=b[c+2];return b=b[c+3],c6(a,a.g+4),(d|e<<8|f<<16|b<<24)>>>0}function c3(a){var b=c2(a);a=2*(b>>31)+1;let c=b>>>23&255;return b&=8388607,255==c?b?NaN:1/0*a:0==c?1401298464324817e-60*a*b:a*Math.pow(2,c-150)*(b+8388608)}function c4(a){return c0(a)}function c5(a,b,{aa:c=!1}={}){a.aa=c,b&&(a.h=(b=cZ(b)).buffer,a.m=b.O,a.j=0,a.l=a.h.length,a.g=a.j)}function c6(a,b){if(a.g=b,b>a.l)throw cY(a.l,b)}function c7(a,b){if(b<0)throw Error(`Tried to read a negative byte length: ${b}`);let c=a.g,d=c+b;if(d>a.l)throw cY(b,a.l-c);return a.g=d,c}function c8(a,b){if(0==b)return aJ();var c=c7(a,b);return a.aa&&a.m?c=a.h.subarray(c,c+b):(a=a.h,c=c===(b=c+b)?new Uint8Array(0):br?a.slice(c,b):new Uint8Array(a.subarray(c,b))),0==c.length?aJ():new aL(c,aI)}b8.prototype.toJSON=void 0;var c9=[];function da(a){var b=a.g;if(b.g==b.l)return!1;a.l=a.g.g;var c=c1(a.g);if(b=c>>>3,!((c&=7)>=0&&c<=5))throw cW(c,a.l);if(b<1)throw Error(`Invalid field number: ${b} (at position ${a.l})`);return a.m=b,a.h=c,!0}function db(a,b,c){let d=a.g.l,e=c1(a.g),f=a.g.g+e,g=f-d;if(g<=0&&(a.g.l=f,c(b,a,void 0,void 0,void 0),g=f-a.g.g),g)throw Error(`Message parsing ended unexpectedly. Expected to read ${e} bytes, instead read ${e-g} bytes, either the data ended unexpectedly or the message misreported its own length`);return a.g.g=f,a.g.l=d,b}function dc(a){var d=c1(a.g),e=c7(a=a.g,d);if(a=a.h,ag){var f,g=a;(f=c)||(f=c=new TextDecoder("utf-8",{fatal:!0})),d=e+d,g=0===e&&d===g.length?g:g.subarray(e,d);try{var h=f.decode(g)}catch(a){if(void 0===b){try{f.decode(new Uint8Array([128]))}catch(a){}try{f.decode(new Uint8Array([97])),b=!0}catch(a){b=!1}}throw b||(c=void 0),a}}else{d=(h=e)+d,e=[];let b,c=null;for(;h<d;){var i=a[h++];i<128?e.push(i):i<224?h>=d?ae():(b=a[h++],i<194||128!=(192&b)?(h--,ae()):e.push((31&i)<<6|63&b)):i<240?h>=d-1?ae():128!=(192&(b=a[h++]))||224===i&&b<160||237===i&&b>=160||128!=(192&(f=a[h++]))?(h--,ae()):e.push((15&i)<<12|(63&b)<<6|63&f):i<=244?h>=d-2?ae():128!=(192&(b=a[h++]))||b-144+(i<<28)>>30!=0||128!=(192&(f=a[h++]))||128!=(192&(g=a[h++]))?(h--,ae()):(i=((7&i)<<18|(63&b)<<12|(63&f)<<6|63&g)-65536,e.push(55296+(i>>10&1023),56320+(1023&i))):ae(),e.length>=8192&&(c=af(c,e),e.length=0)}h=af(c,e)}return h}function dd(a){let b=c1(a.g);return c8(a.g,b)}function de(a,b,c){var d=c1(a.g);for(d=a.g.g+d;a.g.g<d;)c.push(b(a.g))}var df=[];function dg(a,b,c){b.g?b.m(a,b.g,b.h,c):b.m(a,b.h,c)}var dh=class{constructor(a,b){this.u=cj(a,b)}toJSON(){try{var a=ch(this)}finally{h=void 0}return a}l(){return f5.g?f5.l(this,f5.g,f5.h):f5.l(this,f5.h,f5.defaultValue)}clone(){let a=this.u;return new this.constructor(ck(a,0|a[aY],!1))}O(){return!!(2&this.u[aY])}};function di(a){return a?/^\d+$/.test(a)?(bD(a),new dj(bt,bu)):null:k||=new dj(0,0)}dh.prototype.W=a7,dh.prototype.toString=function(){return this.u.toString()};var dj=class{constructor(a,b){this.h=a>>>0,this.g=b>>>0}};function dk(a){return a?/^-?\d+$/.test(a)?(bD(a),new dl(bt,bu)):null:l||=new dl(0,0)}var dl=class{constructor(a,b){this.h=a>>>0,this.g=b>>>0}};function dm(a,b,c){for(;c>0||b>127;)a.g.push(127&b|128),b=(b>>>7|c<<25)>>>0,c>>>=7;a.g.push(b)}function dn(a,b){for(;b>127;)a.g.push(127&b|128),b>>>=7;a.g.push(b)}function dp(a,b){if(b>=0)dn(a,b);else{for(let c=0;c<9;c++)a.g.push(127&b|128),b>>=7;a.g.push(1)}}function dq(a,b){a.g.push(b>>>0&255),a.g.push(b>>>8&255),a.g.push(b>>>16&255),a.g.push(b>>>24&255)}function dr(a,b){0!==b.length&&(a.l.push(b),a.h+=b.length)}function ds(a,b,c){dn(a.g,8*b+c)}function dt(a,b){return ds(a,b,2),b=a.g.end(),dr(a,b),b.push(a.h),b}function du(a,b){var c=b.pop();for(c=a.h+a.g.length()-c;c>127;)b.push(127&c|128),c>>>=7,a.h++;b.push(c),a.h++}function dv(a,b,c){ds(a,b,2),dn(a.g,c.length),dr(a,a.g.end()),dr(a,c)}function dw(a,b,c,d){null!=c&&(b=dt(a,b),d(c,a),du(a,b))}function dx(){let a=class{constructor(){throw Error()}};return Object.setPrototypeOf(a,a.prototype),a}var dy=dx(),dz=dx(),dA=dx(),dB=dx(),dC=dx(),dD=dx(),dE=dx(),dF=dx(),dG=dx(),dH=class{constructor(a,b,c){this.g=a,this.h=b,a=dy,this.l=!!a&&c===a}};function dI(a,b){return new dH(a,b,dy)}function dJ(a,b,c,d,e){dw(a,c,dS(b,d),e)}let dK=dI(function(a,b,c,d,e){return 2===a.h&&(db(a,cE(b,d,c),e),!0)},dJ),dL=dI(function(a,b,c,d,e){return 2===a.h&&(db(a,cE(b,d,c),e),!0)},dJ);var dM=Symbol(),dN=Symbol(),dO=Symbol(),dP=Symbol();function dQ(a,b,c,d){var e=d[a];if(e)return e;(e={}).Ma=d,e.T=function(a){switch(typeof a){case"boolean":return i||=[0,void 0,!0];case"number":return a>0?void 0:0===a?j||=[0,void 0]:[-a,void 0];case"string":return[0,a];case"object":return a}}(d[0]);var f=d[1];let g=1;f&&f.constructor===Object&&(e.ga=f,"function"==typeof(f=d[++g])&&(e.la=!0,m??=f,n??=d[g+1],f=d[g+=2]));let h={};for(;f&&Array.isArray(f)&&f.length&&"number"==typeof f[0]&&f[0]>0;){for(var k=0;k<f.length;k++)h[f[k]]=f;f=d[++g]}for(k=1;void 0!==f;){let a;"number"==typeof f&&(k+=f,f=d[++g]);var l=void 0;if(f instanceof dH?a=f:(a=dK,g--),a?.l){f=d[++g],l=d;var o=g;"function"==typeof f&&(f=f(),l[o]=f),l=f}for(o=k+1,"number"==typeof(f=d[++g])&&f<0&&(o-=f,f=d[++g]);k<o;k++){let d=h[k];l?c(e,k,a,l,d):b(e,k,a,d)}}return d[a]=e}function dR(a){return Array.isArray(a)?a[0]instanceof dH?a:[dL,a]:[a,void 0]}function dS(a,b){return a instanceof dh?a.u:Array.isArray(a)?ci(a,b,!1):void 0}function dT(a,b,c,d){let e=c.g;a[b]=d?(a,b,c)=>e(a,b,c,d):e}function dU(a,b,c,d,e){let f,g,h=c.g;a[b]=(a,b,c)=>h(a,b,c,g||=dQ(dN,dT,dU,d).T,f||=dV(d),e)}function dV(a){let b=a[dO];if(null!=b)return b;let c=dQ(dN,dT,dU,a);return b=c.la?(a,b)=>m(a,b,c):(a,b)=>{let d=0|a[aY];for(;da(b)&&4!=b.h;){var e=b.m,f=c[e];if(null==f){var g=c.ga;g&&(g=g[e])&&null!=(g=function(a){let b=(a=dR(a))[0].g;if(a=a[1]){let c=dV(a),d=dQ(dN,dT,dU,a).T;return(a,e,f)=>b(a,e,f,d,c)}return b}(g))&&(f=c[e]=g)}null!=f&&f(b,a,e)||(e=(f=b).l,function a(b){switch(b.h){case 0:0!=b.h?a(b):c_(b.g);break;case 1:c6(b=b.g,b.g+8);break;case 2:if(2!=b.h)a(b);else{var c=c1(b.g);c6(b=b.g,b.g+c)}break;case 5:c6(b=b.g,b.g+4);break;case 3:for(c=b.m;;){if(!da(b))throw Error("Unmatched start-group tag: stream EOF");if(4==b.h){if(b.m!=c)throw Error("Unmatched end-group tag");break}a(b)}break;default:throw cW(b.h,b.l)}}(f),f.fa?f=void 0:(g=f.g.g-e,f.g.g=e,f=c8(f.g,g)),e=a,f&&((g=e[aV])?g.push(f):e[aV]=[f]))}return 8192&d&&a1(a),!0},a[dO]=b}function dW(a,b,c){a[b]=c.h}function dX(a,b,c,d){let e,f,g=c.h;a[b]=(a,b,c)=>g(a,b,c,f||=dQ(dM,dW,dX,d).T,e||=dY(d))}function dY(a){let b=a[dP];if(!b){let c=dQ(dM,dW,dX,a);b=(a,b)=>dZ(a,b,c),a[dP]=b}return b}function dZ(a,b,c){!function(a,b,c){let d=512&b?0:-1,e=a.length,f=e+((b=64&b?256&b:!!e&&a8(a[e-1]))?-1:0);for(let b=0;b<f;b++)c(b-d,a[b]);if(b)for(let b in a=a[e-1])isNaN(b)||c(+b,a[b])}(a,a[aY]|512*!!c.T[1],(a,d)=>{if(null!=d){var e=function(a,b){var c=a[b];if(c)return c;if((c=a.ga)&&(c=c[b])){var d=(c=dR(c))[0].h;if(c=c[1]){let b=dY(c),e=dQ(dM,dW,dX,c).T;c=a.la?n(e,b):(a,c,f)=>d(a,c,f,e,b)}else c=d;return a[b]=c}}(c,a);e&&e(b,d,a)}}),(a=bd(a))&&function(a,b){dr(a,a.g.end());for(let c=0;c<b.length;c++)dr(a,aK(b[c])||new Uint8Array(0))}(b,a)}function d$(a,b){if(Array.isArray(b)){var c=0|b[aY];if(4&c)return b;for(var d=0,e=0;d<b.length;d++){let c=a(b[d]);null!=c&&(b[e++]=c)}return e<d&&(b.length=e),a0(b,-6145&(5|c)),2&c&&Object.freeze(b),b}}function d_(a,b,c){return new dH(a,b,c)}function d0(a,b,c){return new dH(a,b,c)}function d1(a,b,c){cp(a,0|a[aY],b,c)}var d2=dI(function(a,b,c,d,e){return 2===a.h&&(a=db(a,ci([void 0,void 0],d,!0),e),bb(d=0|b[aY]),(e=cn(b,d,c))instanceof b8?0!=(2&e.M)?((e=e.da()).push(a),cp(b,d,c,e)):e.Ja(a):Array.isArray(e)?(2&e[aY]&&cp(b,d,c,e=cx(e)),e.push(a)):cp(b,d,c,[a]),!0)},function(a,b,c,d,e){if(b instanceof b8)b.forEach((b,f)=>{dw(a,c,ci([f,b],d,!1),e)});else if(Array.isArray(b))for(let f=0;f<b.length;f++){let g=b[f];Array.isArray(g)&&dw(a,c,ci(g,d,!1),e)}});function d3(a,b,c){if(null!=(b=function(a){if(null==a)return a;let b=typeof a;if("bigint"===b)return String(bF(64,a));if(bO(a)){if("string"===b)return bV(a);if("number"===b)return bU(a)}}(b))&&("string"==typeof b&&dk(b),null!=b))switch(ds(a,c,0),typeof b){case"number":a=a.g,bw(b),dm(a,bt,bu);break;case"bigint":c=new dl(Number((c=BigInt.asUintN(64,b))&BigInt(0xffffffff)),Number(c>>BigInt(32))),dm(a.g,c.h,c.g);break;default:c=dk(b),dm(a.g,c.h,c.g)}}function d4(a,b,c){null!=(b=bP(b))&&null!=b&&(ds(a,c,0),dp(a.g,b))}function d5(a,b,c){null!=(b=bM(b))&&(ds(a,c,0),a.g.g.push(+!!b))}function d6(a,b,c){null!=(b=b_(b))&&dv(a,c,ai(b))}function d7(a,b,c,d,e){dw(a,c,dS(b,d),e)}function d8(a,b,c){null==b||"string"==typeof b||b instanceof aL||(aH(b)?aH(b)&&aP(aX):b=void 0),null!=b&&dv(a,c,cZ(b).buffer)}function d9(a,b,c){return(5===a.h||2===a.h)&&(b=cz(b,0|b[aY],c,!1),2==a.h?de(a,c3,b):b.push(c3(a.g)),!0)}var ea=d_(function(a,b,c){if(1!==a.h)return!1;var d=a.g;a=c2(d);let e=c2(d);d=2*(e>>31)+1;let f=e>>>20&2047;return a=0x100000000*(1048575&e)+a,d1(b,c,2047==f?a?NaN:1/0*d:0==f?5e-324*d*a:d*Math.pow(2,f-1075)*(a+0x10000000000000)),!0},function(a,b,c){null!=(b=bL(b))&&(ds(a,c,1),a=a.g,(c=bs||=new DataView(new ArrayBuffer(8))).setFloat64(0,+b,!0),bt=c.getUint32(0,!0),bu=c.getUint32(4,!0),dq(a,bt),dq(a,bu))},dx()),eb=d_(function(a,b,c){return 5===a.h&&(d1(b,c,c3(a.g)),!0)},function(a,b,c){null!=(b=bL(b))&&(ds(a,c,5),a=a.g,bx(b),dq(a,bt))},dE),ec=d0(d9,function(a,b,c){if(null!=(b=d$(bL,b)))for(let f=0;f<b.length;f++){var d=a,e=b[f];null!=e&&(ds(d,c,5),d=d.g,bx(e),dq(d,bt))}},dE),ed=d0(d9,function(a,b,c){if(null!=(b=d$(bL,b))&&b.length){ds(a,c,2),dn(a.g,4*b.length);for(let d=0;d<b.length;d++)c=a.g,bx(b[d]),dq(c,bt)}},dE),ee=d_(function(a,b,c){return 0===a.h&&(d1(b,c,c$(a.g,bz)),!0)},d3,dD),ef=d_(function(a,b,c){return 0===a.h&&(d1(b,c,0===(a=c$(a.g,bz))?void 0:a),!0)},d3,dD),eg=d_(function(a,b,c){return 0===a.h&&(d1(b,c,c$(a.g,by)),!0)},function(a,b,c){if(null!=(b=function(a){if(null==a)return a;var b=typeof a;if("bigint"===b)return String(bG(64,a));if(bO(a)){if("string"===b)return bH(b=bJ(Number(a)))&&b>=0?a=String(b):(-1!==(b=a.indexOf("."))&&(a=a.substring(0,b)),bR(a)||(bD(a),a=bA(bt,bu))),a;if("number"===b)return(a=bJ(a))>=0&&bH(a)?a:function(a){if(a<0){bw(a);var b=bA(bt,bu);return bH(a=Number(b))?a:b}return bR(b=String(a))?b:(bw(a),by(bt,bu))}(a)}}(b))&&("string"==typeof b&&di(b),null!=b))switch(ds(a,c,0),typeof b){case"number":a=a.g,bw(b),dm(a,bt,bu);break;case"bigint":c=new dj(Number((c=BigInt.asUintN(64,b))&BigInt(0xffffffff)),Number(c>>BigInt(32))),dm(a.g,c.h,c.g);break;default:c=di(b),dm(a.g,c.h,c.g)}},dx()),eh=d_(function(a,b,c){return 0===a.h&&(d1(b,c,c0(a.g)),!0)},d4,dB),ei=d0(function(a,b,c){return(0===a.h||2===a.h)&&(b=cz(b,0|b[aY],c,!1),2==a.h?de(a,c0,b):b.push(c0(a.g)),!0)},function(a,b,c){if(null!=(b=d$(bP,b))&&b.length){c=dt(a,c);for(let c=0;c<b.length;c++)dp(a.g,b[c]);du(a,c)}},dB),ej=d_(function(a,b,c){return 0===a.h&&(d1(b,c,0===(a=c0(a.g))?void 0:a),!0)},d4,dB),ek=d_(function(a,b,c){return 0===a.h&&(d1(b,c,c_(a.g)),!0)},d5,dz),el=d_(function(a,b,c){return 0===a.h&&(d1(b,c,!1===(a=c_(a.g))?void 0:a),!0)},d5,dz),em=d0(function(a,b,c){return 2===a.h&&(a=dc(a),cz(b,0|b[aY],c,!1).push(a),!0)},function(a,b,c){if(null!=(b=d$(b_,b)))for(let e=0;e<b.length;e++){var d=b[e];null!=d&&dv(a,c,ai(d))}},dA),en=d_(function(a,b,c){return 2===a.h&&(d1(b,c,""===(a=dc(a))?void 0:a),!0)},d6,dA),eo=d_(function(a,b,c){return 2===a.h&&(d1(b,c,dc(a)),!0)},d6,dA),ep=function(a,b,c=dy){return new dH(a,b,c)}(function(a,b,c,d,e){return 2===a.h&&(d=ci(void 0,d,!0),cz(b,0|b[aY],c,!0).push(d),db(a,d,e),!0)},function(a,b,c,d,e){if(Array.isArray(b))for(let f=0;f<b.length;f++)d7(a,b[f],c,d,e)}),eq=dI(function(a,b,c,d,e,f){return 2===a.h&&(cC(b,0|b[aY],f,c),db(a,b=cE(b,d,c),e),!0)},d7),er=d_(function(a,b,c){return 2===a.h&&(d1(b,c,dd(a)),!0)},d8,dF),es=d0(function(a,b,c){return(0===a.h||2===a.h)&&(b=cz(b,0|b[aY],c,!1),2==a.h?de(a,c1,b):b.push(c1(a.g)),!0)},function(a,b,c){if(null!=(b=d$(bQ,b)))for(let e=0;e<b.length;e++){var d=b[e];null!=d&&(ds(a,c,0),dn(a.g,d))}},dC),et=d_(function(a,b,c){return 0===a.h&&(d1(b,c,0===(a=c1(a.g))?void 0:a),!0)},function(a,b,c){null!=(b=bQ(b))&&null!=b&&(ds(a,c,0),dn(a.g,b))},dC),eu=d_(function(a,b,c){return 0===a.h&&(d1(b,c,c0(a.g)),!0)},function(a,b,c){null!=(b=bP(b))&&(b=parseInt(b,10),ds(a,c,0),dp(a.g,b))},dG);class ev{constructor(a,b){this.h=a,this.g=b,this.l=cG,this.m=cJ,this.defaultValue=void 0}register(){av(this)}}function ew(a,b){return new ev(a,b)}function ex(a,b){return(c,d)=>{if(df.length){let a=df.pop();a.o(d),c5(a.g,c,d),c=a}else c=new class{constructor(a,b){if(c9.length){const c=c9.pop();c5(c,a,b),a=c}else a=new class{constructor(a,b){this.h=null,this.m=!1,this.g=this.l=this.j=0,c5(this,a,b)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.aa=!1}}(a,b);this.g=a,this.l=this.g.g,this.h=this.m=-1,this.o(b)}o({fa:a=!1}={}){this.fa=a}}(c,d);try{let d=new a,f=d.u;dV(b)(f,c);var e=d}finally{c.g.clear(),c.m=-1,c.h=-1,df.length<100&&df.push(c)}return e}}function ey(a){return function(){let b=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){let a=this.g;return this.g=[],a}}}};dZ(this.u,b,dQ(dM,dW,dX,a)),dr(b,b.g.end());let c=new Uint8Array(b.h),d=b.l,e=d.length,f=0;for(let a=0;a<e;a++){let b=d[a];c.set(b,f),f+=b.length}return b.l=[c],c}}var ez=class extends dh{constructor(a){super(a)}},eA=[0,en,d_(function(a,b,c){return 2===a.h&&(d1(b,c,(a=dd(a))===aJ()?void 0:a),!0)},function(a,b,c){if(null!=b){if(b instanceof dh){let d=b.Oa;return void(d&&null!=(b=d(b))&&dv(a,c,cZ(b).buffer))}if(Array.isArray(b))return}d8(a,b,c)},dF)];let eB,eC=globalThis.trustedTypes;function eD(a){void 0===eB&&(eB=function(){let a=null;if(!eC)return a;try{let b=a=>a;a=eC.createPolicy("goog#html",{createHTML:b,createScript:b,createScriptURL:b})}catch(a){}return a}());var b=eB;return new class{constructor(a){this.g=a}toString(){return this.g+""}}(b?b.createScriptURL(a):a)}function eE(a,...b){if(0===b.length)return eD(a[0]);let c=a[0];for(let d=0;d<b.length;d++)c+=encodeURIComponent(b[d])+a[d+1];return eD(c)}var eF=[0,eh,eu,ek,-1,ei,eu,-1],eG=class extends dh{constructor(a){super(a)}},eH=[0,ek,eo,ek,eu,-1,d0(function(a,b,c){return(0===a.h||2===a.h)&&(b=cz(b,0|b[aY],c,!1),2==a.h?de(a,c4,b):b.push(c0(a.g)),!0)},function(a,b,c){if(null!=(b=d$(bP,b))&&b.length){c=dt(a,c);for(let c=0;c<b.length;c++)dp(a.g,b[c]);du(a,c)}},dG),eo,-1,[0,ek,-1],eu,ek,-1],eI=[0,eo,-2],eJ=class extends dh{constructor(a){super(a)}},eK=[0],eL=[0,eh,ek,1,ek,-3],eM=class extends dh{constructor(a){super(a,2)}},eN={};eN[0x1412e9f7]=[0,eo,ek,-1,eh,[0,[1,2,3,4,5,6,7,8,9],eq,eK,eq,eH,eq,eI,eq,eL,eq,eF,eq,[0,eo,-2],eq,[0,eo,eu],eq,[0,eu,eo,-1],eq,[0,eu,-1]],[0,eo],ek,[0,[1,3],[2,4],eq,[0,ei],-1,eq,[0,em],-1,ep,[0,eo,-1]],eo];var eO=[0,ef,-1,el,-3,ef,ei,en,ej,ef,-1,el,ej,el,-2,en];function eP(a,b){cy(a,2,b$(b),"")}function eQ(a,b){cN(a,3,b)}function eR(a,b){cN(a,4,b)}var eS=class extends dh{constructor(a){super(a,500)}o(a){return cJ(this,0,7,a)}},eT=[-1,{}],eU=[0,eo,1,eT],eV=[0,eo,em,eT];function eW(a,b){cO(a,1,eS,b)}function eX(a,b){cN(a,10,b)}function eY(a,b){cN(a,15,b)}var eZ=class extends dh{constructor(a){super(a,500)}o(a){return cJ(this,0,1001,a)}},e$=[-500,ep,[-500,en,-1,em,-3,[-2,eN,ek],ep,eA,ej,-1,eU,eV,ep,[0,en,el],en,eO,ej,em,987,em],4,ep,[-500,eo,-1,[-1,{}],998,eo],ep,[-500,eo,em,-1,[-2,{},ek],997,em,-1],ej,ep,[-500,eo,em,eT,998,em],em,ej,eU,eV,ep,[0,en,-1,eT],em,-2,eO,en,-1,el,[0,el,et],978,eT,ep,eA];eZ.prototype.g=ey(e$);var e_=ex(eZ,e$),e0=class extends dh{constructor(a){super(a)}},e1=class extends dh{constructor(a){super(a)}g(){return cI(this,e0,1)}},e2=[0,ep,[0,eh,eb,eo,-1]],e3=ex(e1,e2),e4=class extends dh{constructor(a){super(a)}},e5=class extends dh{constructor(a){super(a)}},e6=class extends dh{constructor(a){super(a)}h(){return cG(this,e4,2)}g(){return cI(this,e5,5)}},e7=ex(class extends dh{constructor(a){super(a)}},[0,em,ei,ed,[0,eu,[0,eh,-3],[0,eb,-3],[0,eh,-1,[0,ep,[0,eh,-2]]],ep,[0,eb,-1,eo,eb]],eo,-1,ee,ep,[0,eh,eb],em,ee]),e8=class extends dh{constructor(a){super(a)}},e9=ex(class extends dh{constructor(a){super(a)}},[0,ep,[0,eb,-4]]),fa=class extends dh{constructor(a){super(a)}},fb=ex(class extends dh{constructor(a){super(a)}},[0,ep,[0,eb,-4]]),fc=class extends dh{constructor(a){super(a)}},fd=[0,eh,-1,ed,eu],fe=class extends dh{constructor(a){super(a)}};fe.prototype.g=ey([0,eb,-4,ee]);var ff=class extends dh{constructor(a){super(a)}},fg=ex(class extends dh{constructor(a){super(a)}},[0,ep,[0,1,eh,eo,e2],ee]),fh=class extends dh{constructor(a){super(a)}},fi=class extends dh{constructor(a){super(a)}ma(){let a=cr(this);return null==a?aJ():a}},fj=class extends dh{constructor(a){super(a)}},fk=[1,2],fl=ex(class extends dh{constructor(a){super(a)}},[0,ep,[0,fk,eq,[0,ed],eq,[0,er],eh,eo],ee]),fm=class extends dh{constructor(a){super(a)}},fn=[0,eo,eh,eb,em,-1],fo=class extends dh{constructor(a){super(a)}},fp=[0,ek,-1],fq=class extends dh{constructor(a){super(a)}},fr=[1,2,3,4,5],fs=class extends dh{constructor(a){super(a)}g(){return null!=cr(this)}h(){return null!=cQ(this,2)}},ft=class extends dh{constructor(a){super(a)}g(){return bM(cm(this,2))??!1}},fu=[0,er,eo,[0,eh,ee,-1],[0,eg,ee]],fv=[0,fu,ek,[0,fr,eq,eL,eq,eH,eq,eF,eq,eK,eq,eI],eu],fw=class extends dh{constructor(a){super(a)}},fx=[0,fv,eb,-1,eh],fy=ew(0x1dee13c9,fw);eN[0x1dee13c9]=fx;var fz=ex(class extends dh{constructor(a){super(a)}},[0,[0,eu,-1,ec,es],fd]),fA=class extends dh{constructor(a){super(a)}},fB=class extends dh{constructor(a){super(a)}},fC=[0,fv,eb,[0,fv],ek],fD=[0,fv,fx,fC,eb,[0,[0,fu]]],fE=ew(0x1e563cd6,fB);eN[0x1e563cd6]=fD,eN[0x1e563cd5]=fC;var fF=class extends dh{constructor(a){super(a)}},fG=ew(0x1ea1bd3c,fF);eN[0x1ea1bd3c]=[0,fv,fD,eh];var fH=class extends dh{constructor(a){super(a)}h(){return cG(this,fm,2)}g(){co(this,2)}},fI=[0,fv,fn];eN[0x1c8a4bf9]=fI;var fJ=class extends dh{constructor(a){super(a)}},fK=class extends dh{constructor(a){super(a)}},fL=class extends dh{constructor(a){super(a)}},fM=class extends dh{constructor(a){super(a)}},fN=class extends dh{constructor(a){super(a)}},fO=[0,fv,[0,fv],fI,-1],fP=[0,fv,eb,eh],fQ=[0,fv,eb],fR=[0,fv,fP,fQ,eb],fS=ew(0x1c8e70de,fN);eN[0x1c8e70de]=[0,fv,fR,fO],eN[0x1b9e78d4]=fO,eN[0x1bb54420]=fP;var fT=ew(0x1b947172,fM);eN[0x1b947172]=fR,eN[0x1c47e016]=fQ;var fU=class extends dh{constructor(a){super(a)}},fV=class extends dh{constructor(a){super(a)}},fW=class extends dh{constructor(a){super(a)}},fX=class extends dh{constructor(a){super(a)}},fY=[0,fv,eb,-1,eh],fZ=[0,fv,eb,ek];fX.prototype.g=ey([0,fv,fQ,[0,fv],fx,fC,fY,fZ]);var f$=class extends dh{constructor(a){super(a)}},f_=ew(0x1b33db97,f$);eN[0x1b33db97]=[0,fv,fn];var f0=class extends dh{constructor(a){super(a)}},f1=ew(0x1c647f1b,f0);eN[0x1c647f1b]=[0,fv,fp];var f2=class extends dh{constructor(a){super(a)}},f3=class extends dh{constructor(a){super(a)}},f4=[0,eu,-1],f5=ew(0x1b4e2414,class extends dh{constructor(a){super(a)}g(){var a=this.u;let b=0|a[aY],c=2&b;return a=function(a,b,c){var d=f3;let e=2&b,f=!1;if(null==c){if(e)return cc();c=[]}else if(c.constructor===b8){if(0==(2&c.M)||e)return c;c=c.da()}else Array.isArray(c)?f=!!(2&c[aY]):c=[];if(e){if(!c.length)return cc();f||(f=!0,a1(c))}else f&&(f=!1,c=cx(c));return f||(64&c[aY]?c[aY]&=-33:32&b&&a_(c,32)),cp(a,b,2,d=new b8(c,d,b1,void 0)),d}(a,b,cn(a,b,2)),!c&&f3&&(a.pa=!0),a}});eN[0x1b4e2414]=[0,f4,d2,[!0,ee,[0,eo,-1,em]]];var f6=class extends dh{constructor(a){super(a)}},f7=ew(0x1b4e239e,f6);eN[0x1b4e239e]=[0,fv,eo,f4];var f8=class extends dh{constructor(a){super(a)}},f9=ew(0x1a6e638a,f8);eN[0x1a6e638a]=[0,fv,eo,eh,eb,em,-1,ek,eb],eN[0x1eaed71d]=fY;var ga=class extends dh{constructor(a){super(a)}},gb=ew(0x1eca7ede,ga);function gc(a,b){return b=b?b.clone():new fm,void 0!==a.displayNamesLocale?co(b,1,b$(a.displayNamesLocale)):void 0===a.displayNamesLocale&&co(b,1),void 0!==a.maxResults?cT(b,2,a.maxResults):"maxResults"in a&&co(b,2),void 0!==a.scoreThreshold?cU(b,3,a.scoreThreshold):"scoreThreshold"in a&&co(b,3),void 0!==a.categoryAllowlist?cV(b,4,a.categoryAllowlist):"categoryAllowlist"in a&&co(b,4),void 0!==a.categoryDenylist?cV(b,5,a.categoryDenylist):"categoryDenylist"in a&&co(b,5),b}function gd(a,b=-1,c=""){return{categories:a.map(a=>({index:cP(a,1)??0??-1,score:cR(a,2)??0,categoryName:cQ(a,3)??""??"",displayName:cQ(a,4)??""??""})),headIndex:b,headName:c}}function ge(a){var b=ct(a,3,bL,cs()),c=ct(a,2,bP,cs()),d=ct(a,1,b_,cs()),e=ct(a,9,b_,cs());let f={categories:[],keypoints:[]};for(let a=0;a<b.length;a++)f.categories.push({score:b[a],index:c[a]??-1,categoryName:d[a]??"",displayName:e[a]??""});if((b=cG(a,e6,4)?.h())&&(f.boundingBox={originX:cP(b,1)??0,originY:cP(b,2)??0,width:cP(b,3)??0,height:cP(b,4)??0,angle:0}),cG(a,e6,4)?.g().length)for(let b of cG(a,e6,4).g())f.keypoints.push({x:cq(b,1)??0,y:cq(b,2)??0,score:cq(b,4)??0,label:cQ(b,3)??""});return f}function gf(a){let b=[];for(let c of cI(a,fa,1))b.push({x:cR(c,1)??0,y:cR(c,2)??0,z:cR(c,3)??0,visibility:cR(c,4)??0});return b}function gg(a){let b=[];for(let c of cI(a,e8,1))b.push({x:cR(c,1)??0,y:cR(c,2)??0,z:cR(c,3)??0,visibility:cR(c,4)??0});return b}function gh(a){return Array.from(a,a=>a>127?a-256:a)}function gi(a,b){if(a.length!==b.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${a.length} vs. ${b.length}).`);let c=0,d=0,e=0;for(let f=0;f<a.length;f++)c+=a[f]*b[f],d+=a[f]*a[f],e+=b[f]*b[f];if(d<=0||e<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return c/Math.sqrt(d*e)}eN[0x1eca7ede]=[0,fv,fY,fZ,eb],eN[0x1eee3800]=fZ;let gj=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function gk(){if(void 0===o)try{await WebAssembly.instantiate(gj),o=!0}catch{o=!1}return o}async function gl(a,b=eE``){let c=await gk()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${b}/${a}_${c}.js`,wasmBinaryPath:`${b}/${a}_${c}.wasm`}}var gm=class{};function gn(){var a=navigator;return"undefined"!=typeof OffscreenCanvas&&(!function(a=navigator){return(a=a.userAgent).includes("Safari")&&!a.includes("Chrome")}(a)||!!((a=a.userAgent.match(/Version\/([\d]+).*Safari/))&&a.length>=1&&Number(a[1])>=17))}async function go(a){if("function"!=typeof importScripts){let b=document.createElement("script");return b.src=a.toString(),b.crossOrigin="anonymous",new Promise((a,c)=>{b.addEventListener("load",()=>{a()},!1),b.addEventListener("error",a=>{c(a)},!1),document.body.appendChild(b)})}importScripts(a.toString())}function gp(a){return void 0!==a.videoWidth?[a.videoWidth,a.videoHeight]:void 0!==a.naturalWidth?[a.naturalWidth,a.naturalHeight]:void 0!==a.displayWidth?[a.displayWidth,a.displayHeight]:[a.width,a.height]}function gq(a,b,c){a.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),c(b=a.i.stringToNewUTF8(b)),a.i._free(b)}function gr(a,b,c){if(!a.i.canvas)throw Error("No OpenGL canvas configured.");if(c?a.i._bindTextureToStream(c):a.i._bindTextureToCanvas(),!(c=a.i.canvas.getContext("webgl2")||a.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");a.i.gpuOriginForWebTexturesIsBottomLeft&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,b),a.i.gpuOriginForWebTexturesIsBottomLeft&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);let[d,e]=gp(b);return a.l&&(d!==a.i.canvas.width||e!==a.i.canvas.height)&&(a.i.canvas.width=d,a.i.canvas.height=e),[d,e]}function gs(a,b,c){a.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");let d=new Uint32Array(b.length);for(let c=0;c<b.length;c++)d[c]=a.i.stringToNewUTF8(b[c]);for(let e of(b=a.i._malloc(4*d.length),a.i.HEAPU32.set(d,b>>2),c(b),d))a.i._free(e);a.i._free(b)}function gt(a,b,c){a.i.simpleListeners=a.i.simpleListeners||{},a.i.simpleListeners[b]=c}function gu(a,b,c){let d=[];a.i.simpleListeners=a.i.simpleListeners||{},a.i.simpleListeners[b]=(a,b,e)=>{b?(c(d,e),d=[]):d.push(a)}}async function gv(a,b,c,d){return a=await (async(a,b,c,d,e)=>{if(b&&await go(b),!self.ModuleFactory||c&&(await go(c),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&e&&((b=self.Module).locateFile=e.locateFile,e.mainScriptUrlOrBlob&&(b.mainScriptUrlOrBlob=e.mainScriptUrlOrBlob)),e=await self.ModuleFactory(self.Module||e),self.ModuleFactory=self.Module=void 0,new a(e,d)})(a,c.wasmLoaderPath,c.assetLoaderPath,b,{locateFile:a=>a.endsWith(".wasm")?c.wasmBinaryPath.toString():c.assetBinaryPath&&a.endsWith(".data")?c.assetBinaryPath.toString():a}),await a.o(d),a}function gw(a,b){let c=cG(a.baseOptions,fs,1)||new fs;"string"==typeof b?(co(c,2,b$(b)),co(c,1)):b instanceof Uint8Array&&(co(c,1,a9(b,!1)),co(c,2)),cJ(a.baseOptions,0,1,c)}function gx(a){try{let b=a.G.length;if(1===b)throw Error(a.G[0].message);if(b>1)throw Error("Encountered multiple errors: "+a.G.map(a=>a.message).join(", "))}finally{a.G=[]}}function gy(a,b){a.B=Math.max(a.B,b)}function gz(a,b){a.A=new eS,eP(a.A,"PassThroughCalculator"),eQ(a.A,"free_memory"),eR(a.A,"free_memory_unused_out"),eX(b,"free_memory"),eW(b,a.A)}function gA(a,b){eQ(a.A,b),eR(a.A,b+"_unused_out")}function gB(a){a.g.addBoolToStream(!0,"free_memory",a.B)}gm.forVisionTasks=function(a){return gl("vision",a)},gm.forTextTasks=function(a){return gl("text",a)},gm.forGenAiExperimentalTasks=function(a){return gl("genai_experimental",a)},gm.forGenAiTasks=function(a){return gl("genai",a)},gm.forAudioTasks=function(a){return gl("audio",a)},gm.isSimdSupported=function(){return gk()};var gC=class{constructor(a){this.g=a,this.G=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(a,b=!0){if(b){let b=a.baseOptions||{};if(a.baseOptions?.modelAssetBuffer&&a.baseOptions?.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(cG(this.baseOptions,fs,1)?.g()||cG(this.baseOptions,fs,1)?.h()||a.baseOptions?.modelAssetBuffer||a.baseOptions?.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(a,b){let c=cG(a.baseOptions,fq,3);if(!c){var d=c=new fq;cK(d,4,fr,new eJ)}"delegate"in b&&("GPU"===b.delegate?cK(b=c,2,fr,d=new eG):cK(b=c,4,fr,d=new eJ)),cJ(a.baseOptions,0,3,c)}(this,b),b.modelAssetPath)return fetch(b.modelAssetPath.toString()).then(a=>{if(a.ok)return a.arrayBuffer();throw Error(`Failed to fetch model: ${b.modelAssetPath} (${a.status})`)}).then(a=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(a),!0,!1,!1),gw(this,"/model.dat"),this.m(),this.J()});if(b.modelAssetBuffer instanceof Uint8Array)gw(this,b.modelAssetBuffer);else if(b.modelAssetBuffer)return(async function(a){let b=[];for(var c=0;;){let{done:d,value:e}=await a.read();if(d)break;b.push(e),c+=e.length}if(0===b.length)return new Uint8Array(0);if(1===b.length)return b[0];for(let d of(a=new Uint8Array(c),c=0,b))a.set(d,c),c+=d.length;return a})(b.modelAssetBuffer).then(a=>{gw(this,a),this.m(),this.J()})}return this.m(),this.J(),Promise.resolve()}J(){}ca(){let a;if(this.g.ca(b=>{a=e_(b)}),!a)throw Error("Failed to retrieve CalculatorGraphConfig");return a}setGraph(a,b){this.g.attachErrorListener((a,b)=>{this.G.push(Error(b))}),this.g.Ha(),this.g.setGraph(a,b),this.A=void 0,gx(this)}finishProcessing(){this.g.finishProcessing(),gx(this)}close(){this.A=void 0,this.g.closeGraph()}};function gD(a,b){if(!a)throw Error(`Unable to obtain required WebGL resource: ${b}`);return a}gC.prototype.close=gC.prototype.close;class gE{constructor(a,b,c,d){this.g=a,this.h=b,this.m=c,this.l=d}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function gF(a,b,c){let d=a.g;if(c=gD(d.createShader(c),"Failed to create WebGL shader"),d.shaderSource(c,b),d.compileShader(c),!d.getShaderParameter(c,d.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${d.getShaderInfoLog(c)}`);return d.attachShader(a.h,c),c}function gG(a,b){let c=a.g,d=gD(c.createVertexArray(),"Failed to create vertex array");c.bindVertexArray(d);let e=gD(c.createBuffer(),"Failed to create buffer");c.bindBuffer(c.ARRAY_BUFFER,e),c.enableVertexAttribArray(a.P),c.vertexAttribPointer(a.P,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW);let f=gD(c.createBuffer(),"Failed to create buffer");return c.bindBuffer(c.ARRAY_BUFFER,f),c.enableVertexAttribArray(a.J),c.vertexAttribPointer(a.J,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,new Float32Array(b?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null),c.bindVertexArray(null),new gE(c,d,e,f)}function gH(a,b){if(a.g){if(b!==a.g)throw Error("Cannot change GL context once initialized")}else a.g=b}function gI(a,b,c,d){return gH(a,b),a.h||(a.m(),a.C()),c?(a.s||(a.s=gG(a,!0)),c=a.s):(a.v||(a.v=gG(a,!1)),c=a.v),b.useProgram(a.h),c.bind(),a.l(),a=d(),c.g.bindVertexArray(null),a}function gJ(a,b,c){return gH(a,b),a=gD(b.createTexture(),"Failed to create texture"),b.bindTexture(b.TEXTURE_2D,a),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,c??b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,c??b.LINEAR),b.bindTexture(b.TEXTURE_2D,null),a}function gK(a,b,c){gH(a,b),a.A||(a.A=gD(b.createFramebuffer(),"Failed to create framebuffe.")),b.bindFramebuffer(b.FRAMEBUFFER,a.A),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,c,0)}function gL(a){a.g?.bindFramebuffer(a.g.FRAMEBUFFER,null)}var gM=class{G(){return"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D inputTexture;\n  void main() {\n    gl_FragColor = texture2D(inputTexture, vTex);\n  }\n "}m(){let a=this.g;if(this.h=gD(a.createProgram(),"Failed to create WebGL program"),this.Z=gF(this,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",a.VERTEX_SHADER),this.Y=gF(this,this.G(),a.FRAGMENT_SHADER),a.linkProgram(this.h),!a.getProgramParameter(this.h,a.LINK_STATUS))throw Error(`Error during program linking: ${a.getProgramInfoLog(this.h)}`);this.P=a.getAttribLocation(this.h,"aVertex"),this.J=a.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){let a=this.g;a.deleteProgram(this.h),a.deleteShader(this.Z),a.deleteShader(this.Y)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}},gN=class extends gM{G(){return"\n  precision mediump float;\n  uniform sampler2D backgroundTexture;\n  uniform sampler2D maskTexture;\n  uniform sampler2D colorMappingTexture;\n  varying vec2 vTex;\n  void main() {\n    vec4 backgroundColor = texture2D(backgroundTexture, vTex);\n    float category = texture2D(maskTexture, vTex).r;\n    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));\n    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);\n  }\n "}C(){let a=this.g;a.activeTexture(a.TEXTURE1),this.B=gJ(this,a,a.LINEAR),a.activeTexture(a.TEXTURE2),this.j=gJ(this,a,a.NEAREST)}m(){super.m();let a=this.g;this.L=gD(a.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.U=gD(a.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.K=gD(a.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();let a=this.g;a.uniform1i(this.K,0),a.uniform1i(this.L,1),a.uniform1i(this.U,2)}close(){this.B&&this.g.deleteTexture(this.B),this.j&&this.g.deleteTexture(this.j),super.close()}},gO=class extends gM{G(){return"\n  precision mediump float;\n  uniform sampler2D maskTexture;\n  uniform sampler2D defaultTexture;\n  uniform sampler2D overlayTexture;\n  varying vec2 vTex;\n  void main() {\n    float confidence = texture2D(maskTexture, vTex).r;\n    vec4 defaultColor = texture2D(defaultTexture, vTex);\n    vec4 overlayColor = texture2D(overlayTexture, vTex);\n    // Apply the alpha from the overlay and merge in the default color\n    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);\n    gl_FragColor = mix(defaultColor, overlayColor, confidence);\n  }\n "}C(){let a=this.g;a.activeTexture(a.TEXTURE1),this.j=gJ(this,a),a.activeTexture(a.TEXTURE2),this.B=gJ(this,a)}m(){super.m();let a=this.g;this.K=gD(a.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.L=gD(a.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.H=gD(a.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();let a=this.g;a.uniform1i(this.H,0),a.uniform1i(this.K,1),a.uniform1i(this.L,2)}close(){this.j&&this.g.deleteTexture(this.j),this.B&&this.g.deleteTexture(this.B),super.close()}};function gP(a,b){switch(b){case 0:return a.g.find(a=>a instanceof Uint8Array);case 1:return a.g.find(a=>a instanceof Float32Array);case 2:return a.g.find(a=>"undefined"!=typeof WebGLTexture&&a instanceof WebGLTexture);default:throw Error(`Type is not supported: ${b}`)}}function gQ(a){var b=gP(a,1);if(!b){if(b=gP(a,0))b=new Float32Array(b).map(a=>a/255);else{b=new Float32Array(a.width*a.height);let d=gS(a);var c=gU(a);if(gK(c,d,gR(a)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){c=new Float32Array(a.width*a.height*4),d.readPixels(0,0,a.width,a.height,d.RGBA,d.FLOAT,c);for(let a=0,d=0;a<b.length;++a,d+=4)b[a]=c[d]}else d.readPixels(0,0,a.width,a.height,d.RED,d.FLOAT,b)}a.g.push(b)}return b}function gR(a){let b=gP(a,2);if(!b){let c=gS(a);b=gV(a);let d=gQ(a),e=gT(a);c.texImage2D(c.TEXTURE_2D,0,e,a.width,a.height,0,c.RED,c.FLOAT,d),gW(a)}return b}function gS(a){if(!a.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return a.h||(a.h=gD(a.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),a.h}function gT(a){if(a=gS(a),!gX)if(a.getExtension("EXT_color_buffer_float")&&a.getExtension("OES_texture_float_linear")&&a.getExtension("EXT_float_blend"))gX=a.R32F;else{if(!a.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");gX=a.R16F}return gX}function gU(a){return a.l||(a.l=new gM),a.l}function gV(a){let b=gS(a);b.viewport(0,0,a.width,a.height),b.activeTexture(b.TEXTURE0);let c=gP(a,2);return c||(c=gJ(gU(a),b,a.m?b.LINEAR:b.NEAREST),a.g.push(c),a.j=!0),b.bindTexture(b.TEXTURE_2D,c),c}function gW(a){a.h.bindTexture(a.h.TEXTURE_2D,null)}var gX,gY=class{constructor(a,b,c,d,e,f,g){this.g=a,this.m=b,this.j=c,this.canvas=d,this.l=e,this.width=f,this.height=g,this.j&&0==--gZ&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Da(){return!!gP(this,0)}ja(){return!!gP(this,1)}R(){return!!gP(this,2)}ia(){var a;return(a=gP(this,0))||(a=new Uint8Array((a=gQ(this)).map(a=>255*a)),this.g.push(a)),a}ha(){return gQ(this)}N(){return gR(this)}clone(){let a=[];for(let b of this.g){let c;if(b instanceof Uint8Array)c=new Uint8Array(b);else if(b instanceof Float32Array)c=new Float32Array(b);else{if(!(b instanceof WebGLTexture))throw Error(`Type is not supported: ${b}`);{let a=gS(this),b=gU(this);a.activeTexture(a.TEXTURE1),c=gJ(b,a,this.m?a.LINEAR:a.NEAREST),a.bindTexture(a.TEXTURE_2D,c);let d=gT(this);a.texImage2D(a.TEXTURE_2D,0,d,this.width,this.height,0,a.RED,a.FLOAT,null),a.bindTexture(a.TEXTURE_2D,null),gK(b,a,c),gI(b,a,!1,()=>{gV(this),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.drawArrays(a.TRIANGLE_FAN,0,4),gW(this)}),gL(b),gW(this)}}a.push(c)}return new gY(a,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&gS(this).deleteTexture(gP(this,2)),gZ=-1}};gY.prototype.close=gY.prototype.close,gY.prototype.clone=gY.prototype.clone,gY.prototype.getAsWebGLTexture=gY.prototype.N,gY.prototype.getAsFloat32Array=gY.prototype.ha,gY.prototype.getAsUint8Array=gY.prototype.ia,gY.prototype.hasWebGLTexture=gY.prototype.R,gY.prototype.hasFloat32Array=gY.prototype.ja,gY.prototype.hasUint8Array=gY.prototype.Da;var gZ=250;let g$={color:"white",lineWidth:4,radius:6};function g_(a){return{...g$,fillColor:(a=a||{}).color,...a}}function g0(a,b){return a instanceof Function?a(b):a}function g1(a,b,c){return Math.max(Math.min(b,c),Math.min(Math.max(b,c),a))}function g2(a){if(!a.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return a.l}function g3(a){if(!a.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return a.j}function g4(a,b,c){if(b.R())c(b.N());else{let d=b.ja()?b.ha():b.ia();a.m=a.m??new gM;let e=g3(a);c((a=new gY([d],b.m,!1,e.canvas,a.m,b.width,b.height)).N()),a.close()}}function g5(a,b,c,d){let e=(a.g||(a.g=new gN),a.g),f=g3(a),g=Array.isArray(c)?new ImageData(new Uint8ClampedArray(c),1,1):c;gI(e,f,!0,()=>{!function(a,b,c,d){let e=a.g;if(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,b),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,a.B),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,c),a.H&&function(a,b){if(a!==b)return!1;for(let[d,e]of(a=a.entries(),b=b.entries(),a)){a=d;var c=b.next();if(c.done)return!1;let[f,g]=c.value;if(c=g,a!==f||e[0]!==c[0]||e[1]!==c[1]||e[2]!==c[2]||e[3]!==c[3])return!1}return!!b.next().done}(a.H,d))e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,a.j);else{a.H=d;let b=Array(1024).fill(0);d.forEach((a,c)=>{if(4!==a.length)throw Error(`Color at index ${c} is not a four-channel value.`);b[4*c]=a[0],b[4*c+1]=a[1],b[4*c+2]=a[2],b[4*c+3]=a[3]}),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,a.j),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,256,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(b))}}(e,b,g,d),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.drawArrays(f.TRIANGLE_FAN,0,4);let a=e.g;a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,null)})}function g6(a,b,c,d){let e=g3(a),f=(a.h||(a.h=new gO),a.h),g=Array.isArray(c)?new ImageData(new Uint8ClampedArray(c),1,1):c,h=Array.isArray(d)?new ImageData(new Uint8ClampedArray(d),1,1):d;gI(f,e,!0,()=>{var a=f.g;a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,b),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,f.j),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,g),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,f.B),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,h),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),e.bindTexture(e.TEXTURE_2D,null),(a=f.g).activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,null)})}var g7=class{constructor(a,b){"undefined"!=typeof CanvasRenderingContext2D&&a instanceof CanvasRenderingContext2D||a instanceof OffscreenCanvasRenderingContext2D?(this.l=a,this.j=b):this.j=a}wa(a,b){if(a){var c=g2(this);b=g_(b),c.save();var d=c.canvas,e=0;for(let f of a)c.fillStyle=g0(b.fillColor,{index:e,from:f}),c.strokeStyle=g0(b.color,{index:e,from:f}),c.lineWidth=g0(b.lineWidth,{index:e,from:f}),(a=new Path2D).arc(f.x*d.width,f.y*d.height,g0(b.radius,{index:e,from:f}),0,2*Math.PI),c.fill(a),c.stroke(a),++e;c.restore()}}va(a,b,c){if(a&&b){var d=g2(this);c=g_(c),d.save();var e=d.canvas,f=0;for(let g of b){d.beginPath(),b=a[g.start];let h=a[g.end];b&&h&&(d.strokeStyle=g0(c.color,{index:f,from:b,to:h}),d.lineWidth=g0(c.lineWidth,{index:f,from:b,to:h}),d.moveTo(b.x*e.width,b.y*e.height),d.lineTo(h.x*e.width,h.y*e.height)),++f,d.stroke()}d.restore()}}sa(a,b){let c=g2(this);b=g_(b),c.save(),c.beginPath(),c.lineWidth=g0(b.lineWidth,{}),c.strokeStyle=g0(b.color,{}),c.fillStyle=g0(b.fillColor,{}),c.moveTo(a.originX,a.originY),c.lineTo(a.originX+a.width,a.originY),c.lineTo(a.originX+a.width,a.originY+a.height),c.lineTo(a.originX,a.originY+a.height),c.lineTo(a.originX,a.originY),c.stroke(),c.fill(),c.restore()}ta(a,b,c=[0,0,0,255]){var d;let e;this.l?(d=this,e=g3(d),g4(d,a,a=>{g5(d,a,c,b),(a=g2(d)).drawImage(e.canvas,0,0,a.canvas.width,a.canvas.height)})):g5(this,a.N(),c,b)}ua(a,b,c){var d;let e;this.l?(d=this,e=g3(d),g4(d,a,a=>{g6(d,a,b,c),(a=g2(d)).drawImage(e.canvas,0,0,a.canvas.width,a.canvas.height)})):g6(this,a.N(),b,c)}close(){this.g?.close(),this.g=void 0,this.h?.close(),this.h=void 0,this.m?.close(),this.m=void 0}};function g8(a,b){switch(b){case 0:return a.g.find(a=>a instanceof ImageData);case 1:return a.g.find(a=>"undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap);case 2:return a.g.find(a=>"undefined"!=typeof WebGLTexture&&a instanceof WebGLTexture);default:throw Error(`Type is not supported: ${b}`)}}function g9(a){var b=g8(a,0);if(!b){b=hb(a);let c=hc(a),d=new Uint8Array(a.width*a.height*4);gK(c,b,ha(a)),b.readPixels(0,0,a.width,a.height,b.RGBA,b.UNSIGNED_BYTE,d),gL(c),b=new ImageData(new Uint8ClampedArray(d.buffer),a.width,a.height),a.g.push(b)}return b}function ha(a){let b=g8(a,2);if(!b){let c=hb(a);b=hd(a);let d=g8(a,1)||g9(a);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d),he(a)}return b}function hb(a){if(!a.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return a.h||(a.h=gD(a.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),a.h}function hc(a){return a.l||(a.l=new gM),a.l}function hd(a){let b=hb(a);b.viewport(0,0,a.width,a.height),b.activeTexture(b.TEXTURE0);let c=g8(a,2);return c||(c=gJ(hc(a),b),a.g.push(c),a.m=!0),b.bindTexture(b.TEXTURE_2D,c),c}function he(a){a.h.bindTexture(a.h.TEXTURE_2D,null)}function hf(a){let b=hb(a);return gI(hc(a),b,!0,()=>(function(a,b){let c=a.canvas;if(c.width===a.width&&c.height===a.height)return b();let d=c.width,e=c.height;return c.width=a.width,c.height=a.height,a=b(),c.width=d,c.height=e,a})(a,()=>{if(b.bindFramebuffer(b.FRAMEBUFFER,null),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.drawArrays(b.TRIANGLE_FAN,0,4),!(a.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return a.canvas.transferToImageBitmap()}))}g7.prototype.close=g7.prototype.close,g7.prototype.drawConfidenceMask=g7.prototype.ua,g7.prototype.drawCategoryMask=g7.prototype.ta,g7.prototype.drawBoundingBox=g7.prototype.sa,g7.prototype.drawConnectors=g7.prototype.va,g7.prototype.drawLandmarks=g7.prototype.wa,g7.lerp=function(a,b,c,d,e){return g1(d*(1-(a-b)/(c-b))+e*(1-(c-a)/(c-b)),d,e)},g7.clamp=g1;var hg=class{constructor(a,b,c,d,e,f,g){this.g=a,this.j=b,this.m=c,this.canvas=d,this.l=e,this.width=f,this.height=g,(this.j||this.m)&&0==--hh&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ca(){return!!g8(this,0)}ka(){return!!g8(this,1)}R(){return!!g8(this,2)}Aa(){return g9(this)}za(){var a=g8(this,1);return a||(ha(this),hd(this),a=hf(this),he(this),this.g.push(a),this.j=!0),a}N(){return ha(this)}clone(){let a=[];for(let b of this.g){let c;if(b instanceof ImageData)c=new ImageData(b.data,this.width,this.height);else if(b instanceof WebGLTexture){let a=hb(this),b=hc(this);a.activeTexture(a.TEXTURE1),c=gJ(b,a),a.bindTexture(a.TEXTURE_2D,c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,null),a.bindTexture(a.TEXTURE_2D,null),gK(b,a,c),gI(b,a,!1,()=>{hd(this),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.drawArrays(a.TRIANGLE_FAN,0,4),he(this)}),gL(b),he(this)}else{if(!(b instanceof ImageBitmap))throw Error(`Type is not supported: ${b}`);ha(this),hd(this),c=hf(this),he(this)}a.push(c)}return new hg(a,this.ka(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&g8(this,1).close(),this.m&&hb(this).deleteTexture(g8(this,2)),hh=-1}};hg.prototype.close=hg.prototype.close,hg.prototype.clone=hg.prototype.clone,hg.prototype.getAsWebGLTexture=hg.prototype.N,hg.prototype.getAsImageBitmap=hg.prototype.za,hg.prototype.getAsImageData=hg.prototype.Aa,hg.prototype.hasWebGLTexture=hg.prototype.R,hg.prototype.hasImageBitmap=hg.prototype.ka,hg.prototype.hasImageData=hg.prototype.Ca;var hh=250;function hi(...a){return a.map(([a,b])=>({start:a,end:b}))}let hj=(hl=class{constructor(a,b){this.l=!0,this.i=a,this.g=null,this.h=0,this.m="function"==typeof this.i._addIntToInputStream,void 0!==b?this.i.canvas=b:gn()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(a){let b=await (await fetch(a)).arrayBuffer();a=!(a.endsWith(".pbtxt")||a.endsWith(".textproto")),this.setGraph(new Uint8Array(b),a)}setGraphFromString(a){this.setGraph((new TextEncoder).encode(a),!1)}setGraph(a,b){let c=a.length,d=this.i._malloc(c);this.i.HEAPU8.set(a,d),b?this.i._changeBinaryGraph(c,d):this.i._changeTextGraph(c,d),this.i._free(d)}configureAudio(a,b,c,d,e){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),gq(this,d||"input_audio",d=>{gq(this,e=e||"audio_header",e=>{this.i._configureAudio(d,e,a,b??0,c)})})}setAutoResizeCanvas(a){this.l=a}setAutoRenderToScreen(a){this.i._setAutoRenderToScreen(a)}setGpuBufferVerticalFlip(a){this.i.gpuOriginForWebTexturesIsBottomLeft=a}ca(a){gt(this,"__graph_config__",b=>{a(b)}),gq(this,"__graph_config__",a=>{this.i._getGraphConfig(a,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(a){this.i.errorListener=a}attachEmptyPacketListener(a,b){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[a]=b}addAudioToStream(a,b,c){this.addAudioToStreamWithShape(a,0,0,b,c)}addAudioToStreamWithShape(a,b,c,d,e){let f=4*a.length;this.h!==f&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(f),this.h=f),this.i.HEAPF32.set(a,this.g/4),gq(this,d,a=>{this.i._addAudioToInputStream(this.g,b,c,a,e)})}addGpuBufferToStream(a,b,c){gq(this,b,b=>{let[d,e]=gr(this,a,b);this.i._addBoundTextureToStream(b,d,e,c)})}addBoolToStream(a,b,c){gq(this,b,b=>{this.i._addBoolToInputStream(a,b,c)})}addDoubleToStream(a,b,c){gq(this,b,b=>{this.i._addDoubleToInputStream(a,b,c)})}addFloatToStream(a,b,c){gq(this,b,b=>{this.i._addFloatToInputStream(a,b,c)})}addIntToStream(a,b,c){gq(this,b,b=>{this.i._addIntToInputStream(a,b,c)})}addUintToStream(a,b,c){gq(this,b,b=>{this.i._addUintToInputStream(a,b,c)})}addStringToStream(a,b,c){gq(this,b,b=>{gq(this,a,a=>{this.i._addStringToInputStream(a,b,c)})})}addStringRecordToStream(a,b,c){gq(this,b,b=>{gs(this,Object.keys(a),d=>{gs(this,Object.values(a),e=>{this.i._addFlatHashMapToInputStream(d,e,Object.keys(a).length,b,c)})})})}addProtoToStream(a,b,c,d){gq(this,c,c=>{gq(this,b,b=>{let e=this.i._malloc(a.length);this.i.HEAPU8.set(a,e),this.i._addProtoToInputStream(e,a.length,b,c,d),this.i._free(e)})})}addEmptyPacketToStream(a,b){gq(this,a,a=>{this.i._addEmptyPacketToInputStream(a,b)})}addBoolVectorToStream(a,b,c){gq(this,b,b=>{let d=this.i._allocateBoolVector(a.length);if(!d)throw Error("Unable to allocate new bool vector on heap.");for(let b of a)this.i._addBoolVectorEntry(d,b);this.i._addBoolVectorToInputStream(d,b,c)})}addDoubleVectorToStream(a,b,c){gq(this,b,b=>{let d=this.i._allocateDoubleVector(a.length);if(!d)throw Error("Unable to allocate new double vector on heap.");for(let b of a)this.i._addDoubleVectorEntry(d,b);this.i._addDoubleVectorToInputStream(d,b,c)})}addFloatVectorToStream(a,b,c){gq(this,b,b=>{let d=this.i._allocateFloatVector(a.length);if(!d)throw Error("Unable to allocate new float vector on heap.");for(let b of a)this.i._addFloatVectorEntry(d,b);this.i._addFloatVectorToInputStream(d,b,c)})}addIntVectorToStream(a,b,c){gq(this,b,b=>{let d=this.i._allocateIntVector(a.length);if(!d)throw Error("Unable to allocate new int vector on heap.");for(let b of a)this.i._addIntVectorEntry(d,b);this.i._addIntVectorToInputStream(d,b,c)})}addUintVectorToStream(a,b,c){gq(this,b,b=>{let d=this.i._allocateUintVector(a.length);if(!d)throw Error("Unable to allocate new unsigned int vector on heap.");for(let b of a)this.i._addUintVectorEntry(d,b);this.i._addUintVectorToInputStream(d,b,c)})}addStringVectorToStream(a,b,c){gq(this,b,b=>{let d=this.i._allocateStringVector(a.length);if(!d)throw Error("Unable to allocate new string vector on heap.");for(let b of a)gq(this,b,a=>{this.i._addStringVectorEntry(d,a)});this.i._addStringVectorToInputStream(d,b,c)})}addBoolToInputSidePacket(a,b){gq(this,b,b=>{this.i._addBoolToInputSidePacket(a,b)})}addDoubleToInputSidePacket(a,b){gq(this,b,b=>{this.i._addDoubleToInputSidePacket(a,b)})}addFloatToInputSidePacket(a,b){gq(this,b,b=>{this.i._addFloatToInputSidePacket(a,b)})}addIntToInputSidePacket(a,b){gq(this,b,b=>{this.i._addIntToInputSidePacket(a,b)})}addUintToInputSidePacket(a,b){gq(this,b,b=>{this.i._addUintToInputSidePacket(a,b)})}addStringToInputSidePacket(a,b){gq(this,b,b=>{gq(this,a,a=>{this.i._addStringToInputSidePacket(a,b)})})}addProtoToInputSidePacket(a,b,c){gq(this,c,c=>{gq(this,b,b=>{let d=this.i._malloc(a.length);this.i.HEAPU8.set(a,d),this.i._addProtoToInputSidePacket(d,a.length,b,c),this.i._free(d)})})}addBoolVectorToInputSidePacket(a,b){gq(this,b,b=>{let c=this.i._allocateBoolVector(a.length);if(!c)throw Error("Unable to allocate new bool vector on heap.");for(let b of a)this.i._addBoolVectorEntry(c,b);this.i._addBoolVectorToInputSidePacket(c,b)})}addDoubleVectorToInputSidePacket(a,b){gq(this,b,b=>{let c=this.i._allocateDoubleVector(a.length);if(!c)throw Error("Unable to allocate new double vector on heap.");for(let b of a)this.i._addDoubleVectorEntry(c,b);this.i._addDoubleVectorToInputSidePacket(c,b)})}addFloatVectorToInputSidePacket(a,b){gq(this,b,b=>{let c=this.i._allocateFloatVector(a.length);if(!c)throw Error("Unable to allocate new float vector on heap.");for(let b of a)this.i._addFloatVectorEntry(c,b);this.i._addFloatVectorToInputSidePacket(c,b)})}addIntVectorToInputSidePacket(a,b){gq(this,b,b=>{let c=this.i._allocateIntVector(a.length);if(!c)throw Error("Unable to allocate new int vector on heap.");for(let b of a)this.i._addIntVectorEntry(c,b);this.i._addIntVectorToInputSidePacket(c,b)})}addUintVectorToInputSidePacket(a,b){gq(this,b,b=>{let c=this.i._allocateUintVector(a.length);if(!c)throw Error("Unable to allocate new unsigned int vector on heap.");for(let b of a)this.i._addUintVectorEntry(c,b);this.i._addUintVectorToInputSidePacket(c,b)})}addStringVectorToInputSidePacket(a,b){gq(this,b,b=>{let c=this.i._allocateStringVector(a.length);if(!c)throw Error("Unable to allocate new string vector on heap.");for(let b of a)gq(this,b,a=>{this.i._addStringVectorEntry(c,a)});this.i._addStringVectorToInputSidePacket(c,b)})}attachBoolListener(a,b){gt(this,a,b),gq(this,a,a=>{this.i._attachBoolListener(a)})}attachBoolVectorListener(a,b){gu(this,a,b),gq(this,a,a=>{this.i._attachBoolVectorListener(a)})}attachIntListener(a,b){gt(this,a,b),gq(this,a,a=>{this.i._attachIntListener(a)})}attachIntVectorListener(a,b){gu(this,a,b),gq(this,a,a=>{this.i._attachIntVectorListener(a)})}attachUintListener(a,b){gt(this,a,b),gq(this,a,a=>{this.i._attachUintListener(a)})}attachUintVectorListener(a,b){gu(this,a,b),gq(this,a,a=>{this.i._attachUintVectorListener(a)})}attachDoubleListener(a,b){gt(this,a,b),gq(this,a,a=>{this.i._attachDoubleListener(a)})}attachDoubleVectorListener(a,b){gu(this,a,b),gq(this,a,a=>{this.i._attachDoubleVectorListener(a)})}attachFloatListener(a,b){gt(this,a,b),gq(this,a,a=>{this.i._attachFloatListener(a)})}attachFloatVectorListener(a,b){gu(this,a,b),gq(this,a,a=>{this.i._attachFloatVectorListener(a)})}attachStringListener(a,b){gt(this,a,b),gq(this,a,a=>{this.i._attachStringListener(a)})}attachStringVectorListener(a,b){gu(this,a,b),gq(this,a,a=>{this.i._attachStringVectorListener(a)})}attachProtoListener(a,b,c){gt(this,a,b),gq(this,a,a=>{this.i._attachProtoListener(a,c||!1)})}attachProtoVectorListener(a,b,c){gu(this,a,b),gq(this,a,a=>{this.i._attachProtoVectorListener(a,c||!1)})}attachAudioListener(a,b,c){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),gt(this,a,(a,c)=>{b(a=new Float32Array(a.buffer,a.byteOffset,a.length/4),c)}),gq(this,a,a=>{this.i._attachAudioListener(a,c||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},hk=class extends hl{get ea(){return this.i}oa(a,b,c){gq(this,b,b=>{let[d,e]=gr(this,a,b);this.ea._addBoundTextureAsImageToStream(b,d,e,c)})}V(a,b){gt(this,a,b),gq(this,a,a=>{this.ea._attachImageListener(a)})}ba(a,b){gu(this,a,b),gq(this,a,a=>{this.ea._attachImageVectorListener(a)})}},class extends hk{Ha(){this.i._registerModelResourcesGraphService()}});var hk,hl,hm=class extends hj{};async function hn(a,b,c){return async function(a,b,c,d){return gv(a,b,c,d)}(a,c.canvas??(gn()?void 0:document.createElement("canvas")),b,c)}function ho(a,b,c,d){if(a.U){let f=new fe;if(c?.regionOfInterest){if(!a.na)throw Error("This task doesn't support region-of-interest.");var e=c.regionOfInterest;if(e.left>=e.right||e.top>=e.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(e.left<0||e.top<0||e.right>1||e.bottom>1)throw Error("Expected RectF values to be in [0,1].");cU(f,1,(e.left+e.right)/2),cU(f,2,(e.top+e.bottom)/2),cU(f,4,e.right-e.left),cU(f,3,e.bottom-e.top)}else cU(f,1,.5),cU(f,2,.5),cU(f,4,1),cU(f,3,1);if(c?.rotationDegrees){if(c?.rotationDegrees%90!=0)throw Error("Expected rotation to be a multiple of 90.");if(cU(f,5,-Math.PI*c.rotationDegrees/180),c?.rotationDegrees%180!=0){let[a,d]=gp(b);c=cR(f,3)*d/a,e=cR(f,4)*a/d,cU(f,4,c),cU(f,3,e)}}a.g.addProtoToStream(f.g(),"mediapipe.NormalizedRect",a.U,d)}a.g.oa(b,a.Z,d??performance.now()),a.finishProcessing()}function hp(a,b,c){if(a.baseOptions?.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");ho(a,b,c,a.B+1)}function hq(a,b,c,d){if(!a.baseOptions?.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");ho(a,b,c,d)}function hr(a,b,c,d){var e=b.data;let f=b.width,g=f*(b=b.height);if((e instanceof Uint8Array||e instanceof Float32Array)&&e.length!==g)throw Error("Unsupported channel count: "+e.length/g);return a=new gY([e],c,!1,a.g.i.canvas,a.P,f,b),d?a.clone():a}var hs=class extends gC{constructor(a,b,c,d){super(a),this.g=a,this.Z=b,this.U=c,this.na=d,this.P=new gM}l(a,b=!0){if("runningMode"in a&&cS(this.baseOptions,2,!!a.runningMode&&"IMAGE"!==a.runningMode),void 0!==a.canvas&&this.g.i.canvas!==a.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(a,b)}close(){this.P.close(),super.close()}};hs.prototype.close=hs.prototype.close;var ht=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect_in",!1),this.j={detections:[]},cJ(a=this.h=new fw,0,1,b=new ft),cU(this.h,2,.5),cU(this.h,3,.3)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return"minDetectionConfidence"in a&&cU(this.h,2,a.minDetectionConfidence??.5),"minSuppressionThreshold"in a&&cU(this.h,3,a.minSuppressionThreshold??.3),this.l(a)}D(a,b){return this.j={detections:[]},hp(this,a,b),this.j}F(a,b,c){return this.j={detections:[]},hq(this,a,c,b),this.j}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect_in"),eY(a,"detections");let b=new eM;dg(b,fy,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect_in"),eR(c,"DETECTIONS:detections"),c.o(b),eW(a,c),this.g.attachProtoVectorListener("detections",(a,b)=>{for(let b of a)a=e7(b),this.j.detections.push(ge(a));gy(this,b)}),this.g.attachEmptyPacketListener("detections",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};ht.prototype.detectForVideo=ht.prototype.F,ht.prototype.detect=ht.prototype.D,ht.prototype.setOptions=ht.prototype.o,ht.createFromModelPath=async function(a,b){return hn(ht,a,{baseOptions:{modelAssetPath:b}})},ht.createFromModelBuffer=function(a,b){return hn(ht,a,{baseOptions:{modelAssetBuffer:b}})},ht.createFromOptions=function(a,b){return hn(ht,a,b)};var hu=hi([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),hv=hi([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),hw=hi([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),hx=hi([474,475],[475,476],[476,477],[477,474]),hy=hi([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),hz=hi([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),hA=hi([469,470],[470,471],[471,472],[472,469]),hB=hi([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),hC=[...hu,...hv,...hw,...hy,...hz,...hB],hD=hi([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function hE(a){a.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var hF=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,cJ(a=this.h=new fB,0,1,b=new ft),this.v=new fA,cJ(this.h,0,3,this.v),this.s=new fw,cJ(this.h,0,2,this.s),cT(this.s,4,1),cU(this.s,2,.5),cU(this.v,2,.5),cU(this.h,4,.5)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return"numFaces"in a&&cT(this.s,4,a.numFaces??1),"minFaceDetectionConfidence"in a&&cU(this.s,2,a.minFaceDetectionConfidence??.5),"minTrackingConfidence"in a&&cU(this.h,4,a.minTrackingConfidence??.5),"minFacePresenceConfidence"in a&&cU(this.v,2,a.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in a&&(this.outputFaceBlendshapes=!!a.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in a&&(this.outputFacialTransformationMatrixes=!!a.outputFacialTransformationMatrixes),this.l(a)}D(a,b){return hE(this),hp(this,a,b),this.j}F(a,b,c){return hE(this),hq(this,a,c,b),this.j}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect"),eY(a,"face_landmarks");let b=new eM;dg(b,fE,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"NORM_LANDMARKS:face_landmarks"),c.o(b),eW(a,c),this.g.attachProtoVectorListener("face_landmarks",(a,b)=>{for(let b of a)a=fb(b),this.j.faceLandmarks.push(gf(a));gy(this,b)}),this.g.attachEmptyPacketListener("face_landmarks",a=>{gy(this,a)}),this.outputFaceBlendshapes&&(eY(a,"blendshapes"),eR(c,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(a,b)=>{if(this.outputFaceBlendshapes)for(let b of a)a=e3(b),this.j.faceBlendshapes.push(gd(a.g()??[]));gy(this,b)}),this.g.attachEmptyPacketListener("blendshapes",a=>{gy(this,a)})),this.outputFacialTransformationMatrixes&&(eY(a,"face_geometry"),eR(c,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(a,b)=>{if(this.outputFacialTransformationMatrixes)for(let b of a)(a=cG(fz(b),fc,2))&&this.j.facialTransformationMatrixes.push({rows:cP(a,1)??0??0,columns:cP(a,2)??0??0,data:ct(a,3,bL,cs()).slice()??[]});gy(this,b)}),this.g.attachEmptyPacketListener("face_geometry",a=>{gy(this,a)})),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hF.prototype.detectForVideo=hF.prototype.F,hF.prototype.detect=hF.prototype.D,hF.prototype.setOptions=hF.prototype.o,hF.createFromModelPath=function(a,b){return hn(hF,a,{baseOptions:{modelAssetPath:b}})},hF.createFromModelBuffer=function(a,b){return hn(hF,a,{baseOptions:{modelAssetBuffer:b}})},hF.createFromOptions=function(a,b){return hn(hF,a,b)},hF.FACE_LANDMARKS_LIPS=hu,hF.FACE_LANDMARKS_LEFT_EYE=hv,hF.FACE_LANDMARKS_LEFT_EYEBROW=hw,hF.FACE_LANDMARKS_LEFT_IRIS=hx,hF.FACE_LANDMARKS_RIGHT_EYE=hy,hF.FACE_LANDMARKS_RIGHT_EYEBROW=hz,hF.FACE_LANDMARKS_RIGHT_IRIS=hA,hF.FACE_LANDMARKS_FACE_OVAL=hB,hF.FACE_LANDMARKS_CONTOURS=hC,hF.FACE_LANDMARKS_TESSELATION=hD;var hG=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!0),cJ(a=this.j=new fF,0,1,b=new ft)}get baseOptions(){return cG(this.j,ft,1)}set baseOptions(a){cJ(this.j,0,1,a)}o(a){return super.l(a)}Ka(a,b,c){if(this.h="function"==typeof b?b:c,hp(this,a,("function"!=typeof b?b:{})??{}),!this.h)return this.s}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect"),eY(a,"stylized_image");let b=new eM;dg(b,fG,this.j);let c=new eS;eP(c,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"STYLIZED_IMAGE:stylized_image"),c.o(b),eW(a,c),this.g.V("stylized_image",(a,b)=>{var c=!this.h,d=a.data,e=a.width;let f=e*(a=a.height);if(d instanceof Uint8Array)if(d.length===3*f){let b=new Uint8ClampedArray(4*f);for(let a=0;a<f;++a)b[4*a]=d[3*a],b[4*a+1]=d[3*a+1],b[4*a+2]=d[3*a+2],b[4*a+3]=255;d=new ImageData(b,e,a)}else{if(d.length!==4*f)throw Error("Unsupported channel count: "+d.length/f);d=new ImageData(new Uint8ClampedArray(d.buffer,d.byteOffset,d.length),e,a)}else if(!(d instanceof WebGLTexture))throw Error(`Unsupported format: ${d.constructor.name}`);e=new hg([d],!1,!1,this.g.i.canvas,this.P,e,a),this.s=c=c?e.clone():e,this.h&&this.h(c),gy(this,b)}),this.g.attachEmptyPacketListener("stylized_image",a=>{this.s=null,this.h&&this.h(null),gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hG.prototype.stylize=hG.prototype.Ka,hG.prototype.setOptions=hG.prototype.o,hG.createFromModelPath=function(a,b){return hn(hG,a,{baseOptions:{modelAssetPath:b}})},hG.createFromModelBuffer=function(a,b){return hn(hG,a,{baseOptions:{modelAssetBuffer:b}})},hG.createFromOptions=function(a,b){return hn(hG,a,b)};var hH=hi([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function hI(a){a.gestures=[],a.landmarks=[],a.worldLandmarks=[],a.handedness=[]}function hJ(a){return 0===a.gestures.length?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:a.gestures,landmarks:a.landmarks,worldLandmarks:a.worldLandmarks,handedness:a.handedness,handednesses:a.handedness}}function hK(a,b=!0){let c=[];for(let e of a){var d=e3(e);for(let c of(a=[],d.g()))d=b&&null!=cP(c,1)?cP(c,1)??0:-1,a.push({score:cR(c,2)??0,index:d,categoryName:cQ(c,3)??""??"",displayName:cQ(c,4)??""??""});c.push(a)}return c}var hL=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],cJ(a=this.j=new fN,0,1,b=new ft),this.s=new fM,cJ(this.j,0,2,this.s),this.C=new fL,cJ(this.s,0,3,this.C),this.v=new fK,cJ(this.s,0,2,this.v),this.h=new fJ,cJ(this.j,0,3,this.h),cU(this.v,2,.5),cU(this.s,4,.5),cU(this.C,2,.5)}get baseOptions(){return cG(this.j,ft,1)}set baseOptions(a){cJ(this.j,0,1,a)}o(a){if(cT(this.v,3,a.numHands??1),"minHandDetectionConfidence"in a&&cU(this.v,2,a.minHandDetectionConfidence??.5),"minTrackingConfidence"in a&&cU(this.s,4,a.minTrackingConfidence??.5),"minHandPresenceConfidence"in a&&cU(this.C,2,a.minHandPresenceConfidence??.5),a.cannedGesturesClassifierOptions){var b=new fH,c=b,d=gc(a.cannedGesturesClassifierOptions,cG(this.h,fH,3)?.h());cJ(c,0,2,d),cJ(this.h,0,3,b)}else void 0===a.cannedGesturesClassifierOptions&&cG(this.h,fH,3)?.g();return a.customGesturesClassifierOptions?(cJ(c=b=new fH,0,2,d=gc(a.customGesturesClassifierOptions,cG(this.h,fH,4)?.h())),cJ(this.h,0,4,b)):void 0===a.customGesturesClassifierOptions&&cG(this.h,fH,4)?.g(),this.l(a)}Fa(a,b){return hI(this),hp(this,a,b),hJ(this)}Ga(a,b,c){return hI(this),hq(this,a,c,b),hJ(this)}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect"),eY(a,"hand_gestures"),eY(a,"hand_landmarks"),eY(a,"world_hand_landmarks"),eY(a,"handedness");let b=new eM;dg(b,fS,this.j);let c=new eS;eP(c,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"HAND_GESTURES:hand_gestures"),eR(c,"LANDMARKS:hand_landmarks"),eR(c,"WORLD_LANDMARKS:world_hand_landmarks"),eR(c,"HANDEDNESS:handedness"),c.o(b),eW(a,c),this.g.attachProtoVectorListener("hand_landmarks",(a,b)=>{for(let b of a){a=fb(b);let c=[];for(let b of cI(a,fa,1))c.push({x:cR(b,1)??0,y:cR(b,2)??0,z:cR(b,3)??0,visibility:cR(b,4)??0});this.landmarks.push(c)}gy(this,b)}),this.g.attachEmptyPacketListener("hand_landmarks",a=>{gy(this,a)}),this.g.attachProtoVectorListener("world_hand_landmarks",(a,b)=>{for(let b of a){a=e9(b);let c=[];for(let b of cI(a,e8,1))c.push({x:cR(b,1)??0,y:cR(b,2)??0,z:cR(b,3)??0,visibility:cR(b,4)??0});this.worldLandmarks.push(c)}gy(this,b)}),this.g.attachEmptyPacketListener("world_hand_landmarks",a=>{gy(this,a)}),this.g.attachProtoVectorListener("hand_gestures",(a,b)=>{this.gestures.push(...hK(a,!1)),gy(this,b)}),this.g.attachEmptyPacketListener("hand_gestures",a=>{gy(this,a)}),this.g.attachProtoVectorListener("handedness",(a,b)=>{this.handedness.push(...hK(a)),gy(this,b)}),this.g.attachEmptyPacketListener("handedness",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};function hM(a){return{landmarks:a.landmarks,worldLandmarks:a.worldLandmarks,handednesses:a.handedness,handedness:a.handedness}}hL.prototype.recognizeForVideo=hL.prototype.Ga,hL.prototype.recognize=hL.prototype.Fa,hL.prototype.setOptions=hL.prototype.o,hL.createFromModelPath=function(a,b){return hn(hL,a,{baseOptions:{modelAssetPath:b}})},hL.createFromModelBuffer=function(a,b){return hn(hL,a,{baseOptions:{modelAssetBuffer:b}})},hL.createFromOptions=function(a,b){return hn(hL,a,b)},hL.HAND_CONNECTIONS=hH;var hN=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],cJ(a=this.h=new fM,0,1,b=new ft),this.s=new fL,cJ(this.h,0,3,this.s),this.j=new fK,cJ(this.h,0,2,this.j),cT(this.j,3,1),cU(this.j,2,.5),cU(this.s,2,.5),cU(this.h,4,.5)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return"numHands"in a&&cT(this.j,3,a.numHands??1),"minHandDetectionConfidence"in a&&cU(this.j,2,a.minHandDetectionConfidence??.5),"minTrackingConfidence"in a&&cU(this.h,4,a.minTrackingConfidence??.5),"minHandPresenceConfidence"in a&&cU(this.s,2,a.minHandPresenceConfidence??.5),this.l(a)}D(a,b){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],hp(this,a,b),hM(this)}F(a,b,c){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],hq(this,a,c,b),hM(this)}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect"),eY(a,"hand_landmarks"),eY(a,"world_hand_landmarks"),eY(a,"handedness");let b=new eM;dg(b,fT,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"LANDMARKS:hand_landmarks"),eR(c,"WORLD_LANDMARKS:world_hand_landmarks"),eR(c,"HANDEDNESS:handedness"),c.o(b),eW(a,c),this.g.attachProtoVectorListener("hand_landmarks",(a,b)=>{for(let b of a)a=fb(b),this.landmarks.push(gf(a));gy(this,b)}),this.g.attachEmptyPacketListener("hand_landmarks",a=>{gy(this,a)}),this.g.attachProtoVectorListener("world_hand_landmarks",(a,b)=>{for(let b of a)a=e9(b),this.worldLandmarks.push(gg(a));gy(this,b)}),this.g.attachEmptyPacketListener("world_hand_landmarks",a=>{gy(this,a)}),this.g.attachProtoVectorListener("handedness",(a,b)=>{var c=this.handedness,d=c.push;let e=[];for(let b of a){a=e3(b);let c=[];for(let b of a.g())c.push({score:cR(b,2)??0,index:cP(b,1)??0??-1,categoryName:cQ(b,3)??""??"",displayName:cQ(b,4)??""??""});e.push(c)}d.call(c,...e),gy(this,b)}),this.g.attachEmptyPacketListener("handedness",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hN.prototype.detectForVideo=hN.prototype.F,hN.prototype.detect=hN.prototype.D,hN.prototype.setOptions=hN.prototype.o,hN.createFromModelPath=function(a,b){return hn(hN,a,{baseOptions:{modelAssetPath:b}})},hN.createFromModelBuffer=function(a,b){return hn(hN,a,{baseOptions:{modelAssetBuffer:b}})},hN.createFromOptions=function(a,b){return hn(hN,a,b)},hN.HAND_CONNECTIONS=hH;var hO=hi([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function hP(a){a.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function hQ(a){try{if(!a.C)return a.h;a.C(a.h)}finally{gB(a)}}function hR(a,b){a=fb(a),b.push(gf(a))}var hS=class extends hs{constructor(a,b){super(new hm(a,b),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,cJ(a=this.j=new fX,0,1,b=new ft),this.K=new fL,cJ(this.j,0,2,this.K),this.Y=new fU,cJ(this.j,0,3,this.Y),this.s=new fw,cJ(this.j,0,4,this.s),this.H=new fA,cJ(this.j,0,5,this.H),this.v=new fV,cJ(this.j,0,6,this.v),this.L=new fW,cJ(this.j,0,7,this.L),cU(this.s,2,.5),cU(this.s,3,.3),cU(this.H,2,.5),cU(this.v,2,.5),cU(this.v,3,.3),cU(this.L,2,.5),cU(this.K,2,.5)}get baseOptions(){return cG(this.j,ft,1)}set baseOptions(a){cJ(this.j,0,1,a)}o(a){return"minFaceDetectionConfidence"in a&&cU(this.s,2,a.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in a&&cU(this.s,3,a.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in a&&cU(this.H,2,a.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in a&&(this.outputFaceBlendshapes=!!a.outputFaceBlendshapes),"minPoseDetectionConfidence"in a&&cU(this.v,2,a.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in a&&cU(this.v,3,a.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in a&&cU(this.L,2,a.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in a&&(this.outputPoseSegmentationMasks=!!a.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in a&&cU(this.K,2,a.minHandLandmarksConfidence??.5),this.l(a)}D(a,b,c){return this.C="function"==typeof b?b:c,hP(this),hp(this,a,"function"!=typeof b?b:{}),hQ(this)}F(a,b,c,d){return this.C="function"==typeof c?c:d,hP(this),hq(this,a,"function"!=typeof c?c:{},b),hQ(this)}m(){var a=new eZ;eX(a,"input_frames_image"),eY(a,"pose_landmarks"),eY(a,"pose_world_landmarks"),eY(a,"face_landmarks"),eY(a,"left_hand_landmarks"),eY(a,"left_hand_world_landmarks"),eY(a,"right_hand_landmarks"),eY(a,"right_hand_world_landmarks");let b=new eM,c=new ez;cy(c,1,b$("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(a,b){if(null!=b)if(Array.isArray(b))co(a,2,ce(b,cg,void 0,void 0,!1));else{if(!("string"==typeof b||b instanceof aL||aH(b)))throw Error("invalid value in Any.value field: "+b+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");cy(a,2,a9(b,!1),aJ())}}(c,this.j.g());let d=new eS;eP(d,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),cO(d,8,ez,c),eQ(d,"IMAGE:input_frames_image"),eR(d,"POSE_LANDMARKS:pose_landmarks"),eR(d,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),eR(d,"FACE_LANDMARKS:face_landmarks"),eR(d,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),eR(d,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),eR(d,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),eR(d,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),d.o(b),eW(a,d),gz(this,a),this.g.attachProtoListener("pose_landmarks",(a,b)=>{hR(a,this.h.poseLandmarks),gy(this,b)}),this.g.attachEmptyPacketListener("pose_landmarks",a=>{gy(this,a)}),this.g.attachProtoListener("pose_world_landmarks",(a,b)=>{var c=this.h.poseWorldLandmarks;a=e9(a),c.push(gg(a)),gy(this,b)}),this.g.attachEmptyPacketListener("pose_world_landmarks",a=>{gy(this,a)}),this.outputPoseSegmentationMasks&&(eR(d,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),gA(this,"pose_segmentation_mask"),this.g.V("pose_segmentation_mask",(a,b)=>{this.h.poseSegmentationMasks=[hr(this,a,!0,!this.C)],gy(this,b)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",a=>{this.h.poseSegmentationMasks=[],gy(this,a)})),this.g.attachProtoListener("face_landmarks",(a,b)=>{hR(a,this.h.faceLandmarks),gy(this,b)}),this.g.attachEmptyPacketListener("face_landmarks",a=>{gy(this,a)}),this.outputFaceBlendshapes&&(eY(a,"extra_blendshapes"),eR(d,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(a,b)=>{var c=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(a=e3(a),c.push(gd(a.g()??[]))),gy(this,b)}),this.g.attachEmptyPacketListener("extra_blendshapes",a=>{gy(this,a)})),this.g.attachProtoListener("left_hand_landmarks",(a,b)=>{hR(a,this.h.leftHandLandmarks),gy(this,b)}),this.g.attachEmptyPacketListener("left_hand_landmarks",a=>{gy(this,a)}),this.g.attachProtoListener("left_hand_world_landmarks",(a,b)=>{var c=this.h.leftHandWorldLandmarks;a=e9(a),c.push(gg(a)),gy(this,b)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",a=>{gy(this,a)}),this.g.attachProtoListener("right_hand_landmarks",(a,b)=>{hR(a,this.h.rightHandLandmarks),gy(this,b)}),this.g.attachEmptyPacketListener("right_hand_landmarks",a=>{gy(this,a)}),this.g.attachProtoListener("right_hand_world_landmarks",(a,b)=>{var c=this.h.rightHandWorldLandmarks;a=e9(a),c.push(gg(a)),gy(this,b)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hS.prototype.detectForVideo=hS.prototype.F,hS.prototype.detect=hS.prototype.D,hS.prototype.setOptions=hS.prototype.o,hS.createFromModelPath=function(a,b){return hn(hS,a,{baseOptions:{modelAssetPath:b}})},hS.createFromModelBuffer=function(a,b){return hn(hS,a,{baseOptions:{modelAssetBuffer:b}})},hS.createFromOptions=function(a,b){return hn(hS,a,b)},hS.HAND_CONNECTIONS=hH,hS.POSE_CONNECTIONS=hO,hS.FACE_LANDMARKS_LIPS=hu,hS.FACE_LANDMARKS_LEFT_EYE=hv,hS.FACE_LANDMARKS_LEFT_EYEBROW=hw,hS.FACE_LANDMARKS_LEFT_IRIS=hx,hS.FACE_LANDMARKS_RIGHT_EYE=hy,hS.FACE_LANDMARKS_RIGHT_EYEBROW=hz,hS.FACE_LANDMARKS_RIGHT_IRIS=hA,hS.FACE_LANDMARKS_FACE_OVAL=hB,hS.FACE_LANDMARKS_CONTOURS=hC,hS.FACE_LANDMARKS_TESSELATION=hD;var hT=class extends hs{constructor(a,b){super(new hm(a,b),"input_image","norm_rect",!0),this.j={classifications:[]},cJ(a=this.h=new f$,0,1,b=new ft)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return cJ(this.h,0,2,gc(a,cG(this.h,fm,2))),this.l(a)}qa(a,b){return this.j={classifications:[]},hp(this,a,b),this.j}ra(a,b,c){return this.j={classifications:[]},hq(this,a,c,b),this.j}m(){var a=new eZ;eX(a,"input_image"),eX(a,"norm_rect"),eY(a,"classifications");let b=new eM;dg(b,f_,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),eQ(c,"IMAGE:input_image"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"CLASSIFICATIONS:classifications"),c.o(b),eW(a,c),this.g.attachProtoListener("classifications",(a,b)=>{var c;let d;this.j=(d={classifications:cI(c=fg(a),ff,1).map(a=>gd(cG(a,e1,4)?.g()??[],cP(a,2)??0,cQ(a,3)??""))},null!=bY(cm(c,2))&&(d.timestampMs=bY(cm(c,2))??0),d),gy(this,b)}),this.g.attachEmptyPacketListener("classifications",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hT.prototype.classifyForVideo=hT.prototype.ra,hT.prototype.classify=hT.prototype.qa,hT.prototype.setOptions=hT.prototype.o,hT.createFromModelPath=function(a,b){return hn(hT,a,{baseOptions:{modelAssetPath:b}})},hT.createFromModelBuffer=function(a,b){return hn(hT,a,{baseOptions:{modelAssetBuffer:b}})},hT.createFromOptions=function(a,b){return hn(hT,a,b)};var hU=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!0),this.h=new f0,this.embeddings={embeddings:[]},cJ(a=this.h,0,1,b=new ft)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){var b=this.h,c=cG(this.h,fo,2);return c=c?c.clone():new fo,void 0!==a.l2Normalize?cS(c,1,a.l2Normalize):"l2Normalize"in a&&co(c,1),void 0!==a.quantize?cS(c,2,a.quantize):"quantize"in a&&co(c,2),cJ(b,0,2,c),this.l(a)}xa(a,b){return hp(this,a,b),this.embeddings}ya(a,b,c){return hq(this,a,c,b),this.embeddings}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect"),eY(a,"embeddings_out");let b=new eM;dg(b,f1,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"EMBEDDINGS:embeddings_out"),c.o(b),eW(a,c),this.g.attachProtoListener("embeddings_out",(a,b)=>{var c;a=fl(a),this.embeddings={embeddings:cI(c=a,fj,1).map(a=>{let b={headIndex:cP(a,3)??0??-1,headName:cQ(a,4)??""??""};if(void 0!==cF(a,fh,cA(a,1)))b.floatEmbedding=(a=ct(a=cG(a,fh,cA(a,1)),1,bL,cs())).slice();else{let c=new Uint8Array(0);b.quantizedEmbedding=cG(a,fi,cA(a,2))?.ma()?.h()??c}return b}),timestampMs:bY(cm(c,2))??0},gy(this,b)}),this.g.attachEmptyPacketListener("embeddings_out",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hU.cosineSimilarity=function(a,b){if(a.floatEmbedding&&b.floatEmbedding)a=gi(a.floatEmbedding,b.floatEmbedding);else{if(!a.quantizedEmbedding||!b.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");a=gi(gh(a.quantizedEmbedding),gh(b.quantizedEmbedding))}return a},hU.prototype.embedForVideo=hU.prototype.ya,hU.prototype.embed=hU.prototype.xa,hU.prototype.setOptions=hU.prototype.o,hU.createFromModelPath=function(a,b){return hn(hU,a,{baseOptions:{modelAssetPath:b}})},hU.createFromModelBuffer=function(a,b){return hn(hU,a,{baseOptions:{modelAssetBuffer:b}})},hU.createFromOptions=function(a,b){return hn(hU,a,b)};var hV=class{constructor(a,b,c){this.confidenceMasks=a,this.categoryMask=b,this.qualityScores=c}close(){this.confidenceMasks?.forEach(a=>{a.close()}),this.categoryMask?.close()}};function hW(a){a.categoryMask=void 0,a.confidenceMasks=void 0,a.qualityScores=void 0}function hX(a){try{let b=new hV(a.confidenceMasks,a.categoryMask,a.qualityScores);if(!a.j)return b;a.j(b)}finally{gB(a)}}hV.prototype.close=hV.prototype.close;var hY=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new f6,this.v=new f2,cJ(this.h,0,3,this.v),cJ(a=this.h,0,1,b=new ft)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return void 0!==a.displayNamesLocale?co(this.h,2,b$(a.displayNamesLocale)):"displayNamesLocale"in a&&co(this.h,2),"outputCategoryMask"in a&&(this.outputCategoryMask=a.outputCategoryMask??!1),"outputConfidenceMasks"in a&&(this.outputConfidenceMasks=a.outputConfidenceMasks??!0),super.l(a)}J(){var a=this;let b=cI(a.ca(),eS,1).filter(a=>(cQ(a,1)??"").includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(a.s=[],b.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");1===b.length&&(cG(b[0],eM,7)?.l()?.g()??new Map).forEach((b,c)=>{a.s[Number(c)]=cQ(b,1)??""})}segment(a,b,c){return this.j="function"==typeof b?b:c,hW(this),hp(this,a,"function"!=typeof b?b:{}),hX(this)}Ia(a,b,c,d){return this.j="function"==typeof c?c:d,hW(this),hq(this,a,"function"!=typeof c?c:{},b),hX(this)}Ba(){return this.s}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect");let b=new eM;dg(b,f7,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),c.o(b),eW(a,c),gz(this,a),this.outputConfidenceMasks&&(eY(a,"confidence_masks"),eR(c,"CONFIDENCE_MASKS:confidence_masks"),gA(this,"confidence_masks"),this.g.ba("confidence_masks",(a,b)=>{this.confidenceMasks=a.map(a=>hr(this,a,!0,!this.j)),gy(this,b)}),this.g.attachEmptyPacketListener("confidence_masks",a=>{this.confidenceMasks=[],gy(this,a)})),this.outputCategoryMask&&(eY(a,"category_mask"),eR(c,"CATEGORY_MASK:category_mask"),gA(this,"category_mask"),this.g.V("category_mask",(a,b)=>{this.categoryMask=hr(this,a,!1,!this.j),gy(this,b)}),this.g.attachEmptyPacketListener("category_mask",a=>{this.categoryMask=void 0,gy(this,a)})),eY(a,"quality_scores"),eR(c,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(a,b)=>{this.qualityScores=a,gy(this,b)}),this.g.attachEmptyPacketListener("quality_scores",a=>{this.categoryMask=void 0,gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};hY.prototype.getLabels=hY.prototype.Ba,hY.prototype.segmentForVideo=hY.prototype.Ia,hY.prototype.segment=hY.prototype.segment,hY.prototype.setOptions=hY.prototype.o,hY.createFromModelPath=function(a,b){return hn(hY,a,{baseOptions:{modelAssetPath:b}})},hY.createFromModelBuffer=function(a,b){return hn(hY,a,{baseOptions:{modelAssetBuffer:b}})},hY.createFromOptions=function(a,b){return hn(hY,a,b)};var hZ=class{constructor(a,b,c){this.confidenceMasks=a,this.categoryMask=b,this.qualityScores=c}close(){this.confidenceMasks?.forEach(a=>{a.close()}),this.categoryMask?.close()}};hZ.prototype.close=hZ.prototype.close;var h$=class extends dh{constructor(a){super(a)}},h_=[0,eh,-2],h0=[0,ea,-3,ek,ea,-1],h1=[0,h0],h2=[0,h0,eh,-1],h3=class extends dh{constructor(a){super(a)}},h4=[0,ea,-1,ek],h5=class extends dh{constructor(a){super(a)}},h6=class extends dh{constructor(a){super(a)}},h7=[1,2,3,4,5,6,7,8,9,10,14,15],h8=class extends dh{constructor(a){super(a)}};h8.prototype.g=ey([0,ep,[0,h7,eq,h0,eq,[0,h0,h_],eq,h1,eq,[0,h1,h_],eq,h4,eq,[0,ea,-3,ek,eu],eq,[0,ea,-3,ek],eq,[0,eo,ea,-2,ek,eh,ek,-1,2,ea,h_],eq,h2,eq,[0,h2,h_],ea,h_,eo,eq,[0,ea,-3,ek,h_,-1],eq,[0,ep,h4]],eo,[0,eo,eh,-1,ek]]);var h9=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new f6,this.s=new f2,cJ(this.h,0,3,this.s),cJ(a=this.h,0,1,b=new ft)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return"outputCategoryMask"in a&&(this.outputCategoryMask=a.outputCategoryMask??!1),"outputConfidenceMasks"in a&&(this.outputConfidenceMasks=a.outputConfidenceMasks??!0),super.l(a)}segment(a,b,c,d){let e="function"!=typeof c?c:{};this.j="function"==typeof c?c:d,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,c=this.B+1,d=new h8;let f=new h6;var g=new h$;if(cT(g,1,255),cJ(f,0,12,g),b.keypoint&&b.scribble)throw Error("Cannot provide both keypoint and scribble.");if(b.keypoint){var h=new h3;cS(h,3,!0),cU(h,1,b.keypoint.x),cU(h,2,b.keypoint.y),cK(f,5,h7,h)}else{if(!b.scribble)throw Error("Must provide either a keypoint or a scribble.");for(h of(g=new h5,b.scribble))cS(b=new h3,3,!0),cU(b,1,h.x),cU(b,2,h.y),cO(g,1,h3,b);cK(f,15,h7,g)}cO(d,1,h6,f),this.g.addProtoToStream(d.g(),"drishti.RenderData","roi_in",c),hp(this,a,e);a:{try{let a=new hZ(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var i=a;break a}this.j(a)}finally{gB(this)}i=void 0}return i}m(){var a=new eZ;eX(a,"image_in"),eX(a,"roi_in"),eX(a,"norm_rect_in");let b=new eM;dg(b,f7,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"ROI:roi_in"),eQ(c,"NORM_RECT:norm_rect_in"),c.o(b),eW(a,c),gz(this,a),this.outputConfidenceMasks&&(eY(a,"confidence_masks"),eR(c,"CONFIDENCE_MASKS:confidence_masks"),gA(this,"confidence_masks"),this.g.ba("confidence_masks",(a,b)=>{this.confidenceMasks=a.map(a=>hr(this,a,!0,!this.j)),gy(this,b)}),this.g.attachEmptyPacketListener("confidence_masks",a=>{this.confidenceMasks=[],gy(this,a)})),this.outputCategoryMask&&(eY(a,"category_mask"),eR(c,"CATEGORY_MASK:category_mask"),gA(this,"category_mask"),this.g.V("category_mask",(a,b)=>{this.categoryMask=hr(this,a,!1,!this.j),gy(this,b)}),this.g.attachEmptyPacketListener("category_mask",a=>{this.categoryMask=void 0,gy(this,a)})),eY(a,"quality_scores"),eR(c,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(a,b)=>{this.qualityScores=a,gy(this,b)}),this.g.attachEmptyPacketListener("quality_scores",a=>{this.categoryMask=void 0,gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};h9.prototype.segment=h9.prototype.segment,h9.prototype.setOptions=h9.prototype.o,h9.createFromModelPath=function(a,b){return hn(h9,a,{baseOptions:{modelAssetPath:b}})},h9.createFromModelBuffer=function(a,b){return hn(h9,a,{baseOptions:{modelAssetBuffer:b}})},h9.createFromOptions=function(a,b){return hn(h9,a,b)};var ia=class extends hs{constructor(a,b){super(new hm(a,b),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},cJ(a=this.h=new f8,0,1,b=new ft)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return void 0!==a.displayNamesLocale?co(this.h,2,b$(a.displayNamesLocale)):"displayNamesLocale"in a&&co(this.h,2),void 0!==a.maxResults?cT(this.h,3,a.maxResults):"maxResults"in a&&co(this.h,3),void 0!==a.scoreThreshold?cU(this.h,4,a.scoreThreshold):"scoreThreshold"in a&&co(this.h,4),void 0!==a.categoryAllowlist?cV(this.h,5,a.categoryAllowlist):"categoryAllowlist"in a&&co(this.h,5),void 0!==a.categoryDenylist?cV(this.h,6,a.categoryDenylist):"categoryDenylist"in a&&co(this.h,6),this.l(a)}D(a,b){return this.j={detections:[]},hp(this,a,b),this.j}F(a,b,c){return this.j={detections:[]},hq(this,a,c,b),this.j}m(){var a=new eZ;eX(a,"input_frame_gpu"),eX(a,"norm_rect"),eY(a,"detections");let b=new eM;dg(b,f9,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.ObjectDetectorGraph"),eQ(c,"IMAGE:input_frame_gpu"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"DETECTIONS:detections"),c.o(b),eW(a,c),this.g.attachProtoVectorListener("detections",(a,b)=>{for(let b of a)a=e7(b),this.j.detections.push(ge(a));gy(this,b)}),this.g.attachEmptyPacketListener("detections",a=>{gy(this,a)}),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};ia.prototype.detectForVideo=ia.prototype.F,ia.prototype.detect=ia.prototype.D,ia.prototype.setOptions=ia.prototype.o,ia.createFromModelPath=async function(a,b){return hn(ia,a,{baseOptions:{modelAssetPath:b}})},ia.createFromModelBuffer=function(a,b){return hn(ia,a,{baseOptions:{modelAssetBuffer:b}})},ia.createFromOptions=function(a,b){return hn(ia,a,b)};var ib=class{constructor(a,b,c){this.landmarks=a,this.worldLandmarks=b,this.segmentationMasks=c}close(){this.segmentationMasks?.forEach(a=>{a.close()})}};function ic(a){a.landmarks=[],a.worldLandmarks=[],a.segmentationMasks=void 0}function id(a){try{let b=new ib(a.landmarks,a.worldLandmarks,a.segmentationMasks);if(!a.s)return b;a.s(b)}finally{gB(a)}}ib.prototype.close=ib.prototype.close;var ie=class extends hs{constructor(a,b){super(new hm(a,b),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,cJ(a=this.h=new ga,0,1,b=new ft),this.v=new fW,cJ(this.h,0,3,this.v),this.j=new fV,cJ(this.h,0,2,this.j),cT(this.j,4,1),cU(this.j,2,.5),cU(this.v,2,.5),cU(this.h,4,.5)}get baseOptions(){return cG(this.h,ft,1)}set baseOptions(a){cJ(this.h,0,1,a)}o(a){return"numPoses"in a&&cT(this.j,4,a.numPoses??1),"minPoseDetectionConfidence"in a&&cU(this.j,2,a.minPoseDetectionConfidence??.5),"minTrackingConfidence"in a&&cU(this.h,4,a.minTrackingConfidence??.5),"minPosePresenceConfidence"in a&&cU(this.v,2,a.minPosePresenceConfidence??.5),"outputSegmentationMasks"in a&&(this.outputSegmentationMasks=a.outputSegmentationMasks??!1),this.l(a)}D(a,b,c){return this.s="function"==typeof b?b:c,ic(this),hp(this,a,"function"!=typeof b?b:{}),id(this)}F(a,b,c,d){return this.s="function"==typeof c?c:d,ic(this),hq(this,a,"function"!=typeof c?c:{},b),id(this)}m(){var a=new eZ;eX(a,"image_in"),eX(a,"norm_rect"),eY(a,"normalized_landmarks"),eY(a,"world_landmarks"),eY(a,"segmentation_masks");let b=new eM;dg(b,gb,this.h);let c=new eS;eP(c,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),eQ(c,"IMAGE:image_in"),eQ(c,"NORM_RECT:norm_rect"),eR(c,"NORM_LANDMARKS:normalized_landmarks"),eR(c,"WORLD_LANDMARKS:world_landmarks"),c.o(b),eW(a,c),gz(this,a),this.g.attachProtoVectorListener("normalized_landmarks",(a,b)=>{for(let b of(this.landmarks=[],a))a=fb(b),this.landmarks.push(gf(a));gy(this,b)}),this.g.attachEmptyPacketListener("normalized_landmarks",a=>{this.landmarks=[],gy(this,a)}),this.g.attachProtoVectorListener("world_landmarks",(a,b)=>{for(let b of(this.worldLandmarks=[],a))a=e9(b),this.worldLandmarks.push(gg(a));gy(this,b)}),this.g.attachEmptyPacketListener("world_landmarks",a=>{this.worldLandmarks=[],gy(this,a)}),this.outputSegmentationMasks&&(eR(c,"SEGMENTATION_MASK:segmentation_masks"),gA(this,"segmentation_masks"),this.g.ba("segmentation_masks",(a,b)=>{this.segmentationMasks=a.map(a=>hr(this,a,!0,!this.s)),gy(this,b)}),this.g.attachEmptyPacketListener("segmentation_masks",a=>{this.segmentationMasks=[],gy(this,a)})),a=a.g(),this.setGraph(new Uint8Array(a),!0)}};ie.prototype.detectForVideo=ie.prototype.F,ie.prototype.detect=ie.prototype.D,ie.prototype.setOptions=ie.prototype.o,ie.createFromModelPath=function(a,b){return hn(ie,a,{baseOptions:{modelAssetPath:b}})},ie.createFromModelBuffer=function(a,b){return hn(ie,a,{baseOptions:{modelAssetBuffer:b}})},ie.createFromOptions=function(a,b){return hn(ie,a,b)},ie.POSE_CONNECTIONS=hO;let ig=(0,R.default)("glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]),ih=(0,R.default)("brush",[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]]),ii=(0,R.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),ij=(0,R.default)("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),ik=-1,il=new Image;il.src="/filters/sunglasses.png";let im=new Image;im.src="/filters/hat.png";let io=async()=>{if(p)return;let a=await gm.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm");p=await hF.createFromOptions(a,{baseOptions:{modelAssetPath:"/models/face_landmarker.task",delegate:"GPU"},outputFaceBlendshapes:!0,runningMode:"VIDEO",numFaces:1})};function ip({onCapture:a}){let b=(0,F.useRef)(null),c=(0,F.useRef)(null),[d,e]=(0,F.useState)(!1),[f,g]=(0,F.useState)("None");(0,F.useEffect)(()=>((async()=>{try{await io();let a=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720}});b.current&&(b.current.srcObject=a,b.current.addEventListener("loadeddata",h)),e(!0)}catch(a){console.error("Failed to start camera:",a)}})(),()=>{let a=b.current?.srcObject;a?.getTracks().forEach(a=>a.stop()),b.current&&b.current.removeEventListener("loadeddata",h)}),[]);let h=()=>{if(!b.current||!c.current||!p)return;let a=b.current,d=c.current,e=d.getContext("2d");if(e){if(d.width=a.videoWidth,d.height=a.videoHeight,ik!==a.currentTime){ik=a.currentTime;let b=p.detectForVideo(a,performance.now());e.save(),e.clearRect(0,0,d.width,d.height),e.drawImage(a,0,0,a.videoWidth,a.videoHeight),b.faceLandmarks&&b.faceLandmarks.length>0&&((a,b,c,d)=>{switch(f){case"Sunglasses":let e=b[130],g=b[359];if(e&&g){let b={x:(e.x+g.x)/2*c,y:(e.y+g.y)/2*d},f=2.5*Math.sqrt(Math.pow((g.x-e.x)*c,2)+Math.pow((g.y-e.y)*d,2)),h=Math.atan2((g.y-e.y)*d,(g.x-e.x)*c);a.save(),a.translate(b.x,b.y),a.rotate(h),a.drawImage(il,-f/2,-(.2*f),f,.4*f),a.restore()}break;case"Blush & Lipstick":let h=[61,146,91,181,84,17,314,405,321,375,291,409,270,269,267,0,37,39,40,185,61].map(a=>b[a]),i=b[117],j=b[346];if(h.every(a=>a)){a.fillStyle="rgba(255, 0, 100, 0.5)",a.beginPath(),a.moveTo(h[0].x*c,h[0].y*d);for(let b=1;b<h.length;b++)a.lineTo(h[b].x*c,h[b].y*d);a.closePath(),a.fill(),a.fillStyle="rgba(255, 255, 255, 0.7)";for(let b=0;b<3;b++){let b=Math.floor(Math.random()*h.length),e=h[b],f=e.x*c+(Math.random()-.5)*5,g=e.y*d+(Math.random()-.5)*5;a.beginPath(),a.arc(f,g,2*Math.random()+1,0,2*Math.PI),a.fill()}}i&&j&&(a.fillStyle="rgba(255, 105, 180, 0.4)",a.beginPath(),a.arc(i.x*c,i.y*d,25,0,2*Math.PI),a.fill(),a.beginPath(),a.arc(j.x*c,j.y*d,25,0,2*Math.PI),a.fill());break;case"Funny Nose":let k=b[4];if(k){let b=(Math.random()-.5)*4,e=(Math.random()-.5)*4;a.fillStyle="red",a.beginPath(),a.arc(k.x*c+b,k.y*d+e,20,0,2*Math.PI),a.fill()}break;case"Hat":let l=b[10],m=b[70],n=b[300];if(l&&m&&n){let b=1.8*(Math.abs(n.x-m.x)*c),e=im.height*(b/im.width);a.save(),a.translate(l.x*c,l.y*d),a.drawImage(im,-b/2,-(.9*e),b,e),a.restore()}break;case"Zap":let o=[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109,10].map(a=>b[a]);if(o.every(a=>a)){a.strokeStyle="#00FFFF",a.lineWidth=3,a.shadowColor="#00FFFF",a.shadowBlur=10;for(let b=0;b<2;b++){let b=o[Math.floor(Math.random()*o.length)],e={x:b.x+(Math.random()-.5)*.4,y:b.y+(Math.random()-.5)*.4};a.beginPath(),a.moveTo(b.x*c,b.y*d);for(let f=0;f<5;f++){let g=b.x+(e.x-b.x)*(f/4)+(Math.random()-.5)*.05,h=b.y+(e.y-b.y)*(f/4)+(Math.random()-.5)*.05;a.lineTo(g*c,h*d)}a.stroke()}}}})(e,b.faceLandmarks[0],a.videoWidth,a.videoHeight),e.restore()}requestAnimationFrame(h)}},i=({filter:a,icon:b,label:c})=>(0,E.jsxs)("button",{onClick:()=>g(a),className:`flex flex-col items-center gap-1 p-2 rounded-lg ${f===a?"bg-accent-pink/30":""}`,children:[(0,E.jsx)(b,{size:24,className:"text-white"}),(0,E.jsx)("span",{className:"text-xs text-white",children:c})]});return(0,E.jsxs)("div",{className:"relative w-full aspect-[9/16] bg-black rounded-lg overflow-hidden flex flex-col justify-between",children:[(0,E.jsxs)("div",{className:"relative w-full h-full",children:[(0,E.jsx)("video",{ref:b,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,E.jsx)("canvas",{ref:c,className:"absolute top-0 left-0 w-full h-full"}),!d&&(0,E.jsx)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center",children:(0,E.jsx)("p",{className:"text-white text-lg",children:"Starting camera..."})})]}),(0,E.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black/30 backdrop-blur-sm",children:[(0,E.jsxs)("div",{className:"flex justify-center items-center gap-3",children:[(0,E.jsx)(i,{filter:"None",icon:$.X,label:"None"}),(0,E.jsx)(i,{filter:"Sunglasses",icon:ig,label:"Shades"}),(0,E.jsx)(i,{filter:"Blush & Lipstick",icon:ih,label:"Makeup"}),(0,E.jsx)(i,{filter:"Funny Nose",icon:ii,label:"Clown"}),(0,E.jsx)(i,{filter:"Hat",icon:ij,label:"Party"}),(0,E.jsx)(i,{filter:"Zap",icon:N.Zap,label:"Zap"})]}),(0,E.jsx)("div",{className:"flex justify-center mt-4",children:(0,E.jsx)("button",{onClick:()=>{c.current&&a(c.current.toDataURL("image/jpeg"))},className:"w-16 h-16 rounded-full bg-white border-4 border-accent-pink focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-accent-pink","aria-label":"Capture with filter",disabled:!d})})]})]})}function iq({data:a,onDataChange:b}){let[c,d]=(0,F.useState)(!1),e=(0,F.useRef)(null),[f,g]=(0,F.useState)(!1),[h,i]=(0,F.useState)(null),[j,k]=(0,F.useState)(!1),l=a.mediaUrl||[],m=c=>{if(c.size>0xc800000)return void i(`File ${c.name} is too large (max 200MB).`);let d=URL.createObjectURL(c),e=[...a.mediaUrl||[],d],f=[...a.mediaFiles||[],c],g=c.type.startsWith("video/"),h={mediaUrl:e,mediaFiles:f,isVideo:g};if(g){let c=document.createElement("video");c.preload="metadata",c.onloadedmetadata=()=>{window.URL.revokeObjectURL(c.src),h.isPortrait=c.videoHeight>c.videoWidth,h.videoDuration=c.duration,b({...a,...h})},c.src=d}else h.isPortrait=!1,h.videoDuration=0,b({...a,...h})},n=a=>{if(!a)return;let b=Array.from(a).filter(a=>a.type.startsWith("image/")||a.type.startsWith("video/"));if(0!==b.length)for(let a of b)m(a)},o=c=>{b({...a,[c.target.name]:c.target.value})},p=(0,F.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),d(!0)},[]),q=(0,F.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),d(!1)},[]),r=(0,F.useCallback)(a=>{a.preventDefault(),a.stopPropagation()},[]),s=(0,F.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),d(!1),n(a.dataTransfer.files),a.dataTransfer.clearData()},[]);return j?(0,E.jsx)(ip,{onCapture:a=>{let b=atob(a.split(",")[1]),c=a.split(",")[0].split(":")[1].split(";")[0],d=new ArrayBuffer(b.length),e=new Uint8Array(d);for(let a=0;a<b.length;a++)e[a]=b.charCodeAt(a);m(new File([new Blob([d],{type:c})],`filter-capture-${Date.now()}.jpg`,{type:"image/jpeg"})),k(!1)}}):(0,E.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,E.jsx)("input",{type:"text",name:"title",placeholder:"Title",className:"input-glass text-lg",value:a.title||"",onChange:o}),(0,E.jsx)("textarea",{name:"caption",className:"input-glass w-full rounded-2xl",placeholder:"Write a caption...",value:a.caption||"",onChange:o}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,E.jsx)("input",{type:"text",name:"hashtags",placeholder:"#trending #vibes",className:"input-glass w-full pl-10",value:a.hashtags||"",onChange:o})]}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(aa.AtSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,E.jsx)("input",{type:"text",name:"mentions",placeholder:"@friend1 @friend2",className:"input-glass w-full pl-10",value:a.mentions||"",onChange:o})]}),(0,E.jsxs)("div",{className:`p-4 border-2 border-dashed rounded-2xl text-center transition-colors duration-300 ${c?"border-accent-pink bg-accent-pink/10":"border-accent-cyan/30"}`,onDragEnter:p,onDragLeave:q,onDragOver:r,onDrop:s,children:[(0,E.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 mx-auto",children:[(0,E.jsx)(Z.UploadCloud,{className:`transition-transform duration-300 ${c?"scale-110":""}`}),(0,E.jsx)("p",{className:"text-sm text-gray-400",children:c?"Drop your files here!":"Drag & drop files or click an option below"}),(0,E.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,E.jsx)("button",{type:"button",className:"btn-glass",onClick:()=>e.current?.click(),children:"From Device"}),(0,E.jsxs)("button",{type:"button",className:"btn-glass flex items-center gap-2",onClick:()=>k(!0),children:[(0,E.jsx)(ab.Camera,{size:16})," Camera"]}),(0,E.jsxs)("button",{type:"button",className:"btn-glass flex items-center gap-2",onClick:()=>k(!0),children:[(0,E.jsx)(ac,{size:16})," Filters"]})]})]}),(0,E.jsx)("input",{type:"file",ref:e,onChange:a=>{n(a.target.files)},className:"hidden",multiple:!0,accept:"image/*,video/*"}),h&&(0,E.jsx)("p",{className:"text-red-400 text-xs mt-2",children:h}),(0,E.jsx)("div",{className:"mt-4 grid grid-cols-3 md:grid-cols-4 gap-2",children:l.map((c,d)=>{let e=a.mediaFiles[d]?.type.startsWith("video/");return(0,E.jsxs)("div",{className:"relative group aspect-square",children:[e?(0,E.jsx)("video",{src:c,className:"w-full h-full object-cover rounded-lg"}):(0,E.jsx)("img",{src:c,alt:`preview ${d}`,className:"w-full h-full object-cover rounded-lg"}),(0,E.jsx)("button",{type:"button",onClick:()=>(c=>{let d=a.mediaUrl.findIndex(a=>a===c);if(-1===d)return;URL.revokeObjectURL(c);let e=a.mediaUrl.filter((a,b)=>b!==d),f=a.mediaFiles.filter((a,b)=>b!==d);b({...a,mediaUrl:e,mediaFiles:f})})(c),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:(0,E.jsx)($.X,{size:16})})]},c)})})]}),(0,E.jsx)("textarea",{name:"description",placeholder:"Add a detailed description (e.g., your video script, story behind the photo, or more info). This helps us feature your content!",className:"input-glass w-full rounded-2xl min-h-[120px]",value:a.description||"",onChange:o}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(P.MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,E.jsx)("input",{type:"text",name:"location",className:"w-full rounded-xl p-3 pl-10 bg-black/20 text-white border-2 border-accent-cyan focus:outline-none focus:ring-2 focus:ring-accent-pink",placeholder:"Add location...",value:a.location||"",onChange:o}),(0,E.jsx)("button",{type:"button",onClick:()=>{i(null),navigator.geolocation?(g(!0),navigator.geolocation.getCurrentPosition(async c=>{let{latitude:d,longitude:e}=c.coords;try{let c=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${d}&lon=${e}`),f=await c.json(),g=f.address.city||f.address.town||f.address.village,h=f.address.country;g&&h?b({...a,location:`${g}, ${h}`}):b({...a,location:"Unknown Location"})}catch(a){i("Could not fetch location name.")}finally{g(!1)}},a=>{a.code===a.PERMISSION_DENIED?i("Location permission denied."):i("Could not get location."),g(!1)})):i("Geolocation is not supported by this browser.")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-accent-cyan",disabled:f,children:f?(0,E.jsx)(T.Loader,{className:"animate-spin",size:16}):(0,E.jsx)(S,{size:16})})]}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(Q.Smile,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,E.jsx)("input",{type:"text",name:"mood",className:"w-full rounded-xl p-3 pl-10 bg-black/20 text-white border-2 border-accent-cyan focus:outline-none focus:ring-2 focus:ring-accent-pink",placeholder:"How are you feeling?",value:a.mood||"",onChange:o})]})]})}var ir=a.i(15618);function is({data:a,onDataChange:b}){let[c,d]=(0,F.useState)(a.options||[{text:""},{text:""}]),e=c=>{d(c),b({...a,options:c})},f=c=>{b({...a,[c.target.name]:c.target.value})};return(0,E.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,E.jsx)("input",{type:"text",name:"question",className:"input-glass text-lg",placeholder:"Ask a question...",value:a.question||"",onChange:f}),(0,E.jsx)("div",{className:"space-y-3",children:c.map((a,b)=>(0,E.jsxs)("div",{className:"flex items-center gap-2",children:[(0,E.jsx)("input",{type:"text",className:"input-glass flex-1",placeholder:`Option ${b+1}`,value:a.text,onChange:a=>{var d;let f;return d=a.target.value,void((f=[...c])[b].text=d,e(f))}}),c.length>2&&(0,E.jsx)("button",{type:"button",onClick:()=>{c.length>2&&e(c.filter((a,c)=>c!==b))},className:"p-2 text-red-400 hover:text-red-300",children:(0,E.jsx)($.X,{size:20})})]},b))}),c.length<4&&(0,E.jsxs)("button",{type:"button",onClick:()=>{c.length<4&&e([...c,{text:""}])},className:"btn-glass text-sm self-start flex items-center gap-2",children:[(0,E.jsx)(ir.Plus,{size:16})," Add Option"]}),(0,E.jsx)("input",{type:"text",name:"hashtags",className:"input-glass w-full mt-2",placeholder:"Add #hashtags...",value:a.hashtags||"",onChange:f})]})}function it({data:a,onDataChange:b}){return(0,E.jsx)("div",{className:"flex flex-col gap-4",children:(0,E.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,E.jsx)(M.Radio,{className:"text-red-500 animate-pulse",size:48}),(0,E.jsx)("h3",{className:"text-xl font-bold text-white",children:"You're about to go live!"}),(0,E.jsx)("p",{className:"text-sm text-gray-400",children:"Give your stream a title to let people know what's up."}),(0,E.jsx)("input",{type:"text",name:"title",className:"input-glass w-full",placeholder:"Live Stream Title (e.g., Sunset Vibes, Q&A)",value:a.title||"",onChange:c=>{b({...a,[c.target.name]:c.target.value})}})]})})}var iu=a.i(16686);a.i(69387);var iv=a.i(60574);a.i(60121);var iw=a.i(5420);let ix=(0,iv.getFirestore)(V.app),iy=(0,iw.getStorage)(V.app);function iz({data:a,onDataChange:b}){let[c,d]=(0,F.useState)(a.mediaUrl?Array.isArray(a.mediaUrl)?a.mediaUrl[0]:a.mediaUrl:null),[e,f]=(0,F.useState)(!1),[g,h]=(0,F.useState)([]),[i,j]=(0,F.useState)(!1),[k,l]=(0,F.useState)(!1),[m,n]=(0,F.useState)(""),[o,p]=(0,F.useState)(!1),q=(0,F.useRef)(null);(0,F.useEffect)(()=>{a.songId&&!a.song&&(async()=>{let b=await (0,iv.getDoc)((0,iv.doc)(ix,"songs",a.songId));b.exists()&&t({id:b.id,...b.data()})})();let b=(0,iv.query)((0,iv.collection)(ix,"songs"),(0,iv.orderBy)("createdAt","desc")),c=(0,iv.onSnapshot)(b,a=>{h(a.docs.map(a=>({id:a.id,...a.data()})))});return()=>c()},[a.songId]);let r=async c=>{let e=V.auth.currentUser;if(!e)return void n("You must be logged in to upload files.");if(c.size>0x1400000)return void n("File is too large for a Flash (max 20MB).");l(!0),n(""),d(URL.createObjectURL(c));try{let f=`${e.uid}-${Date.now()}-${c.name}`,g=(0,iw.ref)(iy,`flashes/${e.uid}/${f}`),h=await (0,iw.uploadBytes)(g,c),i=await (0,iw.getDownloadURL)(h.ref);b({...a,mediaUrl:[i]}),d(i)}catch(a){console.error("Upload failed:",a),n(a.message),d(null)}finally{l(!1)}},s=c=>{b({...a,[c.target.name]:c.target.value})},t=c=>{b({...a,song:{id:c.id,name:c.title,artists:[c.artist],album:c.album,albumArt:c.albumArtUrl,preview_url:c.audioUrl,snippetStart:0,snippetEnd:15}}),f(!1)};return i?(0,E.jsx)(ip,{onCapture:a=>{let b=atob(a.split(",")[1]),c=a.split(",")[0].split(":")[1].split(";")[0],d=new ArrayBuffer(b.length),e=new Uint8Array(d);for(let a=0;a<b.length;a++)e[a]=b.charCodeAt(a);r(new File([new Blob([d],{type:c})],`filter-capture-${Date.now()}.jpg`,{type:"image/jpeg"})),j(!1)}}):(0,E.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,E.jsx)("textarea",{name:"caption",className:"input-glass w-full rounded-2xl",placeholder:"Add a caption...",value:a.caption||"",onChange:s}),(0,E.jsxs)("div",{className:"p-4 border-2 border-dashed border-accent-cyan/30 rounded-2xl text-center min-h-[200px] flex flex-col items-center justify-center",children:[k&&(0,E.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,E.jsx)(T.Loader,{className:"animate-spin text-accent-cyan"}),(0,E.jsx)("p",{className:"text-sm text-accent-cyan",children:"Uploading..."})]}),!k&&!c&&(0,E.jsxs)("div",{className:"grid grid-cols-3 gap-2 w-full max-w-sm",children:[(0,E.jsxs)("button",{type:"button",className:"btn-glass flex items-center justify-center gap-2",onClick:()=>q.current?.click(),children:[(0,E.jsx)(K.Image,{})," Gallery"]}),(0,E.jsxs)("button",{type:"button",className:"btn-glass flex items-center justify-center gap-2",onClick:()=>j(!0),children:[(0,E.jsx)(ab.Camera,{})," Camera"]}),(0,E.jsxs)("button",{type:"button",className:"btn-glass flex items-center justify-center gap-2",onClick:()=>j(!0),children:[(0,E.jsx)(ac,{})," Filters"]})]}),c&&!k&&(0,E.jsxs)("div",{className:"relative group aspect-video",children:[c.includes(".mp4")||c.includes(".webm")||c.startsWith("blob:")?(0,E.jsx)("video",{src:c,className:"w-full h-full object-contain rounded-lg",controls:!0}):(0,E.jsx)("img",{src:c,alt:"preview",className:"w-full h-full object-contain rounded-lg"}),(0,E.jsx)("button",{type:"button",onClick:()=>{d(null),b({...a,mediaUrl:[]})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 z-10",children:(0,E.jsx)($.X,{size:16})})]}),(0,E.jsx)("input",{type:"file",ref:q,onChange:a=>{a.target.files&&a.target.files[0]&&r(a.target.files[0])},className:"hidden",accept:"image/*,video/*"}),m&&(0,E.jsx)("p",{className:"text-red-400 text-xs mt-2",children:m})]}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(P.MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,E.jsx)("input",{type:"text",name:"location",className:"w-full rounded-xl p-3 pl-10 bg-black/20 text-white border-2 border-accent-cyan focus:outline-none focus:ring-2 focus:ring-accent-pink",placeholder:"Add location...",value:a.location||"",onChange:s}),(0,E.jsx)("button",{type:"button",onClick:()=>{n(""),navigator.geolocation?(p(!0),navigator.geolocation.getCurrentPosition(async c=>{let{latitude:d,longitude:e}=c.coords;try{let c=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${d}&lon=${e}`),f=await c.json(),g=f.address.city||f.address.town||f.address.village,h=f.address.country;g&&h?b({...a,location:`${g}, ${h}`}):b({...a,location:"Unknown Location"})}catch(a){n("Could not fetch location name.")}finally{p(!1)}},a=>{a.code===a.PERMISSION_DENIED?n("Location permission denied."):n("Could not get location."),p(!1)})):n("Geolocation is not supported by this browser.")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-accent-cyan",disabled:o,children:o?(0,E.jsx)(T.Loader,{className:"animate-spin",size:16}):(0,E.jsx)(S,{size:16})})]}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(Q.Smile,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,E.jsx)("input",{type:"text",name:"mood",className:"w-full rounded-xl p-3 pl-10 bg-black/20 text-white border-2 border-accent-cyan focus:outline-none focus:ring-2 focus:ring-accent-pink",placeholder:"How are you feeling?",value:a.mood||"",onChange:s})]}),(0,E.jsxs)("div",{className:"mt-2",children:[(0,E.jsxs)("button",{type:"button",className:"w-full btn-glass flex justify-between items-center",onClick:()=>f(a=>!a),children:[(0,E.jsx)("span",{children:a.song?`Song: ${a.song.name}`:"Add a Song (Optional)"}),(0,E.jsx)(iu.Music,{size:16})]}),(0,E.jsx)(H.motion.div,{initial:!1,animate:{height:e?"auto":0,opacity:+!!e},className:"overflow-hidden bg-black/20 rounded-b-lg",children:(0,E.jsx)("div",{className:"p-2 max-h-48 overflow-y-auto",children:g.map(a=>(0,E.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded cursor-pointer hover:bg-accent-cyan/10",onClick:()=>t(a),children:[(0,E.jsx)("img",{src:a.albumArtUrl,alt:"album",className:"w-10 h-10 rounded"}),(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"font-bold text-sm text-accent-cyan",children:a.title}),(0,E.jsx)("div",{className:"text-xs text-gray-400",children:a.artist})]})]},a.id))})})]})]})}function iA({onNext:a,postType:b,postData:c}){let[d,e]=(0,F.useState)(c),f=a=>{e(b=>({...b,...a}))};return(0,E.jsxs)(H.motion.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,E.jsxs)("div",{className:"glass-card p-8",children:[(0,E.jsx)("h2",{className:"text-2xl font-headline text-accent-pink mb-4",children:"Step 1: The Content"}),(0,E.jsx)("p",{className:"text-gray-400 mb-6",children:"Let's get the core of your vibe down. Fill in the details below."}),(()=>{switch(b){case"text":return(0,E.jsx)(Y,{data:d,onDataChange:f});case"media":return(0,E.jsx)(iq,{data:d,onDataChange:f});case"flash":return(0,E.jsx)(iz,{data:d,onDataChange:f});case"poll":return(0,E.jsx)(is,{data:d,onDataChange:f});case"live":return(0,E.jsx)(it,{data:d,onDataChange:f});default:return(0,E.jsx)("p",{children:"Select a post type"})}})()]}),(0,E.jsx)("div",{className:"flex justify-end mt-8",children:(0,E.jsxs)("button",{className:"btn-glass bg-accent-pink flex items-center gap-2",onClick:()=>a(d),children:["Next Step ",(0,E.jsx)(O.ArrowRight,{})]})})]})}var iB=a.i(210);let iC=[{name:"None",style:"none"},{name:"Vintage",style:"sepia(0.6) saturate(1.4) contrast(0.8)"},{name:"Mono",style:"grayscale(1)"},{name:"Dreamy",style:"saturate(1.8) brightness(1.1) contrast(0.9)"},{name:"Sunset",style:"hue-rotate(-20deg) saturate(1.5)"},{name:"Matrix",style:"contrast(1.5) saturate(1.8) hue-rotate(90deg)"}],iD=[{name:"Sunglasses",icon:"/filters/sunglasses.png"}];function iE({onNext:a,onBack:b,postData:c,onDataChange:d}){let[e,f]=(0,F.useState)(c.filter||"none"),[g,h]=(0,F.useState)(c.overlay||"none"),i=c.mediaPreviews?.[0];return(0,E.jsxs)(H.motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},children:[(0,E.jsxs)("div",{className:"glass-card p-4 md:p-8 flex flex-col md:flex-row gap-8 items-center",children:[(0,E.jsx)("div",{className:"w-full md:w-1/2 relative aspect-square flex items-center justify-center",children:i?(0,E.jsxs)("div",{className:"relative w-full h-full",children:[(0,E.jsx)("img",{src:i,alt:"Preview",className:"w-full h-full object-contain rounded-lg",style:{filter:e}}),"none"!==g&&(0,E.jsx)("img",{src:g,alt:"Overlay",className:"absolute top-0 left-0 w-full h-full object-contain"})]}):(0,E.jsx)("div",{className:"w-full h-full bg-black/20 rounded-lg flex items-center justify-center text-gray-400",children:"No image to preview"})}),(0,E.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,E.jsx)("h2",{className:"text-xl font-headline text-accent-cyan mb-4",children:"Choose a Filter"}),(0,E.jsx)("div",{className:"grid grid-cols-3 gap-2",children:iC.map(a=>(0,E.jsxs)("button",{onClick:()=>{var b;f(b=a.style),h("none"),d({...c,filter:b,overlay:"none"})},className:`aspect-square flex items-center justify-center text-xs font-bold rounded-lg border-2 ${e===a.style?"border-accent-pink":"border-transparent"}`,children:[(0,E.jsx)("div",{className:"w-16 h-16 bg-cover bg-center rounded",style:{backgroundImage:`url(${i})`,filter:a.style}}),(0,E.jsx)("span",{className:"absolute",children:a.name})]},a.name))}),(0,E.jsx)("h2",{className:"text-xl font-headline text-accent-cyan mt-6 mb-4",children:"Overlays"}),(0,E.jsx)("div",{className:"grid grid-cols-4 gap-2",children:iD.map(a=>(0,E.jsxs)("button",{onClick:()=>{var b;let e;return b=a.name,void(h(e=iD.find(a=>a.name===b)?.icon||"none"),f("none"),d({...c,overlay:e,filter:"none"}))},className:`aspect-square flex flex-col items-center justify-center text-xs font-bold rounded-lg border-2 ${g===a.icon?"border-accent-pink":"border-transparent"}`,children:[(0,E.jsx)("img",{src:a.icon,alt:a.name,className:"w-12 h-12"}),a.name]},a.name))})]})]}),(0,E.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,E.jsxs)("button",{className:"btn-glass flex items-center gap-2",onClick:b,children:[(0,E.jsx)(iB.ArrowLeft,{})," Back"]}),(0,E.jsxs)("button",{className:"btn-glass bg-accent-cyan text-black flex items-center gap-2",onClick:()=>a({}),children:["Next ",(0,E.jsx)(O.ArrowRight,{})]})]})]})}var iF=a.i(16201);let iG=(0,R.default)("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]),iH=(0,R.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var iI=a.i(77156);let iJ=(0,R.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),iK=(0,R.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);Symbol.for("constructDateFrom");let iL={},iM={};function iN(a,b){try{let c=(iL[a]||=new Intl.DateTimeFormat("en-US",{timeZone:a,timeZoneName:"longOffset"}).format)(b).split("GMT")[1];if(c in iM)return iM[c];return iP(c,c.split(":"))}catch{if(a in iM)return iM[a];let b=a?.match(iO);if(b)return iP(a,b.slice(1));return NaN}}let iO=/([+-]\d\d):?(\d\d)?/;function iP(a,b){let c=+(b[0]||0),d=+(b[1]||0),e=(b[2]||0)/60;return iM[a]=60*c+d>0?60*c+d+e:60*c-d-e}class iQ extends Date{constructor(...a){super(),a.length>1&&"string"==typeof a[a.length-1]&&(this.timeZone=a.pop()),this.internal=new Date,isNaN(iN(this.timeZone,this))?this.setTime(NaN):a.length?"number"==typeof a[0]&&(1===a.length||2===a.length&&"number"!=typeof a[1])?this.setTime(a[0]):"string"==typeof a[0]?this.setTime(+new Date(a[0])):a[0]instanceof Date?this.setTime(+a[0]):(this.setTime(+new Date(...a)),iT(this,NaN),iS(this)):this.setTime(Date.now())}static tz(a,...b){return b.length?new iQ(...b,a):new iQ(Date.now(),a)}withTimeZone(a){return new iQ(+this,a)}getTimezoneOffset(){let a=-iN(this.timeZone,this);return a>0?Math.floor(a):Math.ceil(a)}setTime(a){return Date.prototype.setTime.apply(this,arguments),iS(this),+this}[Symbol.for("constructDateFrom")](a){return new iQ(+new Date(a),this.timeZone)}}let iR=/^(get|set)(?!UTC)/;function iS(a){a.internal.setTime(+a),a.internal.setUTCSeconds(a.internal.getUTCSeconds()-Math.round(-(60*iN(a.timeZone,a))))}function iT(a){let b=iN(a.timeZone,a),c=b>0?Math.floor(b):Math.ceil(b),d=new Date(+a);d.setUTCHours(d.getUTCHours()-1);let e=-new Date(+a).getTimezoneOffset(),f=e- -new Date(+d).getTimezoneOffset(),g=Date.prototype.getHours.apply(a)!==a.internal.getUTCHours();f&&g&&a.internal.setUTCMinutes(a.internal.getUTCMinutes()+f);let h=e-c;h&&Date.prototype.setUTCMinutes.call(a,Date.prototype.getUTCMinutes.call(a)+h);let i=new Date(+a);i.setUTCSeconds(0);let j=e>0?i.getSeconds():(i.getSeconds()-60)%60,k=Math.round(-(60*iN(a.timeZone,a)))%60;(k||j)&&(a.internal.setUTCSeconds(a.internal.getUTCSeconds()+k),Date.prototype.setUTCSeconds.call(a,Date.prototype.getUTCSeconds.call(a)+k+j));let l=iN(a.timeZone,a),m=l>0?Math.floor(l):Math.ceil(l),n=-new Date(+a).getTimezoneOffset()-m-h;if(m!==c&&n){Date.prototype.setUTCMinutes.call(a,Date.prototype.getUTCMinutes.call(a)+n);let b=iN(a.timeZone,a),c=m-(b>0?Math.floor(b):Math.ceil(b));c&&(a.internal.setUTCMinutes(a.internal.getUTCMinutes()+c),Date.prototype.setUTCMinutes.call(a,Date.prototype.getUTCMinutes.call(a)+c))}}Object.getOwnPropertyNames(Date.prototype).forEach(a=>{if(!iR.test(a))return;let b=a.replace(iR,"$1UTC");iQ.prototype[b]&&(a.startsWith("get")?iQ.prototype[a]=function(){return this.internal[b]()}:(iQ.prototype[a]=function(){var a;return Date.prototype[b].apply(this.internal,arguments),a=this,Date.prototype.setFullYear.call(a,a.internal.getUTCFullYear(),a.internal.getUTCMonth(),a.internal.getUTCDate()),Date.prototype.setHours.call(a,a.internal.getUTCHours(),a.internal.getUTCMinutes(),a.internal.getUTCSeconds(),a.internal.getUTCMilliseconds()),iT(a),+this},iQ.prototype[b]=function(){return Date.prototype[b].apply(this,arguments),iS(this),+this}))});class iU extends iQ{static tz(a,...b){return b.length?new iU(...b,a):new iU(Date.now(),a)}toISOString(){let[a,b,c]=this.tzComponents(),d=`${a}${b}:${c}`;return this.internal.toISOString().slice(0,-1)+d}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[a,b,c,d]=this.internal.toUTCString().split(" ");return`${a?.slice(0,-1)} ${c} ${b} ${d}`}toTimeString(){let a=this.internal.toUTCString().split(" ")[4],[b,c,d]=this.tzComponents();return`${a} GMT${b}${c}${d} (${function(a,b,c="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:a,timeZoneName:c}).format(b).split(/\s/g).slice(2).join(" ")}(this.timeZone,this)})`}toLocaleString(a,b){return Date.prototype.toLocaleString.call(this,a,{...b,timeZone:b?.timeZone||this.timeZone})}toLocaleDateString(a,b){return Date.prototype.toLocaleDateString.call(this,a,{...b,timeZone:b?.timeZone||this.timeZone})}toLocaleTimeString(a,b){return Date.prototype.toLocaleTimeString.call(this,a,{...b,timeZone:b?.timeZone||this.timeZone})}tzComponents(){let a=this.getTimezoneOffset(),b=String(Math.floor(Math.abs(a)/60)).padStart(2,"0"),c=String(Math.abs(a)%60).padStart(2,"0");return[a>0?"-":"+",b,c]}withTimeZone(a){return new iU(+this,a)}[Symbol.for("constructDateFrom")](a){return new iU(+new Date(a),this.timeZone)}}let iV=Symbol.for("constructDateFrom");function iW(a,b){return"function"==typeof a?a(b):a&&"object"==typeof a&&iV in a?a[iV](b):a instanceof Date?new a.constructor(b):new Date(b)}function iX(a,b){return iW(b||a,a)}function iY(a,b,c){let d=iX(a,c?.in);return isNaN(b)?iW(c?.in||a,NaN):(b&&d.setDate(d.getDate()+b),d)}function iZ(a,b,c){let d=iX(a,c?.in);if(isNaN(b))return iW(c?.in||a,NaN);if(!b)return d;let e=d.getDate(),f=iW(c?.in||a,d.getTime());return(f.setMonth(d.getMonth()+b+1,0),e>=f.getDate())?f:(d.setFullYear(f.getFullYear(),f.getMonth(),e),d)}function i$(a){let b=iX(a),c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()));return c.setUTCFullYear(b.getFullYear()),a-c}function i_(a,...b){let c=iW.bind(null,a||b.find(a=>"object"==typeof a));return b.map(c)}function i0(a,b){let c=iX(a,b?.in);return c.setHours(0,0,0,0),c}function i1(a,b,c){let[d,e]=i_(c?.in,a,b),f=i0(d),g=i0(e);return Math.round((f-i$(f)-(g-i$(g)))/864e5)}function i2(a,b){let[c,d]=i_(a,b.start,b.end);return{start:c,end:d}}let i3={};function i4(a,b){let c=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??i3.weekStartsOn??i3.locale?.options?.weekStartsOn??0,d=iX(a,b?.in),e=d.getDay();return d.setDate(d.getDate()+((e<c?-7:0)+6-(e-c))),d.setHours(23,59,59,999),d}let i5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function i6(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}let i7={date:i6({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i6({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i6({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function i9(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function ja(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}let jb={code:"en-US",formatDistance:(a,b,c)=>{let d,e=i5[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"in "+d;else return d+" ago";return d},formatLong:i7,formatRelative:(a,b,c,d)=>i8[a],localize:{ordinalNumber:(a,b)=>{let c=Number(a),d=c%100;if(d>20||d<10)switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},era:i9({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:i9({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:i9({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:i9({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:i9({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(t={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)},(a,b={})=>{let c=a.match(t.matchPattern);if(!c)return null;let d=c[0],e=a.match(t.parsePattern);if(!e)return null;let f=t.valueCallback?t.valueCallback(e[0]):e[0];return{value:f=b.valueCallback?b.valueCallback(f):f,rest:a.slice(d.length)}}),era:ja({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ja({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:ja({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ja({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ja({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function jc(a,b){let c=iX(a,b?.in);return c.setFullYear(c.getFullYear(),0,1),c.setHours(0,0,0,0),c}function jd(a,b){let c=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??i3.weekStartsOn??i3.locale?.options?.weekStartsOn??0,d=iX(a,b?.in),e=d.getDay();return d.setDate(d.getDate()-(7*(e<c)+e-c)),d.setHours(0,0,0,0),d}function je(a,b){return jd(a,{...b,weekStartsOn:1})}function jf(a,b){let c=iX(a,b?.in),d=c.getFullYear(),e=iW(c,0);e.setFullYear(d+1,0,4),e.setHours(0,0,0,0);let f=je(e),g=iW(c,0);g.setFullYear(d,0,4),g.setHours(0,0,0,0);let h=je(g);return c.getTime()>=f.getTime()?d+1:c.getTime()>=h.getTime()?d:d-1}function jg(a,b){let c,d,e=iX(a,b?.in);return Math.round((je(e)-(c=jf(e,void 0),(d=iW(e,0)).setFullYear(c,0,4),d.setHours(0,0,0,0),je(d)))/6048e5)+1}function jh(a,b){let c=iX(a,b?.in),d=c.getFullYear(),e=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??i3.firstWeekContainsDate??i3.locale?.options?.firstWeekContainsDate??1,f=iW(b?.in||a,0);f.setFullYear(d+1,0,e),f.setHours(0,0,0,0);let g=jd(f,b),h=iW(b?.in||a,0);h.setFullYear(d,0,e),h.setHours(0,0,0,0);let i=jd(h,b);return+c>=+g?d+1:+c>=+i?d:d-1}function ji(a,b){let c,d,e,f=iX(a,b?.in);return Math.round((jd(f,b)-(c=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??i3.firstWeekContainsDate??i3.locale?.options?.firstWeekContainsDate??1,d=jh(f,b),(e=iW(b?.in||f,0)).setFullYear(d,0,c),e.setHours(0,0,0,0),jd(e,b)))/6048e5)+1}function jj(a,b){let c=Math.abs(a).toString().padStart(b,"0");return(a<0?"-":"")+c}let jk={y(a,b){let c=a.getFullYear(),d=c>0?c:1-c;return jj("yy"===b?d%100:d,b.length)},M(a,b){let c=a.getMonth();return"M"===b?String(c+1):jj(c+1,2)},d:(a,b)=>jj(a.getDate(),b.length),a(a,b){let c=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.toUpperCase();case"aaa":return c;case"aaaaa":return c[0];default:return"am"===c?"a.m.":"p.m."}},h:(a,b)=>jj(a.getHours()%12||12,b.length),H:(a,b)=>jj(a.getHours(),b.length),m:(a,b)=>jj(a.getMinutes(),b.length),s:(a,b)=>jj(a.getSeconds(),b.length),S(a,b){let c=b.length;return jj(Math.trunc(a.getMilliseconds()*Math.pow(10,c-3)),b.length)}},jl={G:function(a,b,c){let d=+(a.getFullYear()>0);switch(b){case"G":case"GG":case"GGG":return c.era(d,{width:"abbreviated"});case"GGGGG":return c.era(d,{width:"narrow"});default:return c.era(d,{width:"wide"})}},y:function(a,b,c){if("yo"===b){let b=a.getFullYear();return c.ordinalNumber(b>0?b:1-b,{unit:"year"})}return jk.y(a,b)},Y:function(a,b,c,d){let e=jh(a,d),f=e>0?e:1-e;return"YY"===b?jj(f%100,2):"Yo"===b?c.ordinalNumber(f,{unit:"year"}):jj(f,b.length)},R:function(a,b){return jj(jf(a),b.length)},u:function(a,b){return jj(a.getFullYear(),b.length)},Q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"Q":return String(d);case"QQ":return jj(d,2);case"Qo":return c.ordinalNumber(d,{unit:"quarter"});case"QQQ":return c.quarter(d,{width:"abbreviated",context:"formatting"});case"QQQQQ":return c.quarter(d,{width:"narrow",context:"formatting"});default:return c.quarter(d,{width:"wide",context:"formatting"})}},q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"q":return String(d);case"qq":return jj(d,2);case"qo":return c.ordinalNumber(d,{unit:"quarter"});case"qqq":return c.quarter(d,{width:"abbreviated",context:"standalone"});case"qqqqq":return c.quarter(d,{width:"narrow",context:"standalone"});default:return c.quarter(d,{width:"wide",context:"standalone"})}},M:function(a,b,c){let d=a.getMonth();switch(b){case"M":case"MM":return jk.M(a,b);case"Mo":return c.ordinalNumber(d+1,{unit:"month"});case"MMM":return c.month(d,{width:"abbreviated",context:"formatting"});case"MMMMM":return c.month(d,{width:"narrow",context:"formatting"});default:return c.month(d,{width:"wide",context:"formatting"})}},L:function(a,b,c){let d=a.getMonth();switch(b){case"L":return String(d+1);case"LL":return jj(d+1,2);case"Lo":return c.ordinalNumber(d+1,{unit:"month"});case"LLL":return c.month(d,{width:"abbreviated",context:"standalone"});case"LLLLL":return c.month(d,{width:"narrow",context:"standalone"});default:return c.month(d,{width:"wide",context:"standalone"})}},w:function(a,b,c,d){let e=ji(a,d);return"wo"===b?c.ordinalNumber(e,{unit:"week"}):jj(e,b.length)},I:function(a,b,c){let d=jg(a);return"Io"===b?c.ordinalNumber(d,{unit:"week"}):jj(d,b.length)},d:function(a,b,c){return"do"===b?c.ordinalNumber(a.getDate(),{unit:"date"}):jk.d(a,b)},D:function(a,b,c){let d,e=i1(d=iX(a,void 0),jc(d))+1;return"Do"===b?c.ordinalNumber(e,{unit:"dayOfYear"}):jj(e,b.length)},E:function(a,b,c){let d=a.getDay();switch(b){case"E":case"EE":case"EEE":return c.day(d,{width:"abbreviated",context:"formatting"});case"EEEEE":return c.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},e:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"e":return String(f);case"ee":return jj(f,2);case"eo":return c.ordinalNumber(f,{unit:"day"});case"eee":return c.day(e,{width:"abbreviated",context:"formatting"});case"eeeee":return c.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return c.day(e,{width:"short",context:"formatting"});default:return c.day(e,{width:"wide",context:"formatting"})}},c:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"c":return String(f);case"cc":return jj(f,b.length);case"co":return c.ordinalNumber(f,{unit:"day"});case"ccc":return c.day(e,{width:"abbreviated",context:"standalone"});case"ccccc":return c.day(e,{width:"narrow",context:"standalone"});case"cccccc":return c.day(e,{width:"short",context:"standalone"});default:return c.day(e,{width:"wide",context:"standalone"})}},i:function(a,b,c){let d=a.getDay(),e=0===d?7:d;switch(b){case"i":return String(e);case"ii":return jj(e,b.length);case"io":return c.ordinalNumber(e,{unit:"day"});case"iii":return c.day(d,{width:"abbreviated",context:"formatting"});case"iiiii":return c.day(d,{width:"narrow",context:"formatting"});case"iiiiii":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},a:function(a,b,c){let d=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(a,b,c){let d,e=a.getHours();switch(d=12===e?"noon":0===e?"midnight":e/12>=1?"pm":"am",b){case"b":case"bb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(a,b,c){let d,e=a.getHours();switch(d=e>=17?"evening":e>=12?"afternoon":e>=4?"morning":"night",b){case"B":case"BB":case"BBB":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(a,b,c){if("ho"===b){let b=a.getHours()%12;return 0===b&&(b=12),c.ordinalNumber(b,{unit:"hour"})}return jk.h(a,b)},H:function(a,b,c){return"Ho"===b?c.ordinalNumber(a.getHours(),{unit:"hour"}):jk.H(a,b)},K:function(a,b,c){let d=a.getHours()%12;return"Ko"===b?c.ordinalNumber(d,{unit:"hour"}):jj(d,b.length)},k:function(a,b,c){let d=a.getHours();return(0===d&&(d=24),"ko"===b)?c.ordinalNumber(d,{unit:"hour"}):jj(d,b.length)},m:function(a,b,c){return"mo"===b?c.ordinalNumber(a.getMinutes(),{unit:"minute"}):jk.m(a,b)},s:function(a,b,c){return"so"===b?c.ordinalNumber(a.getSeconds(),{unit:"second"}):jk.s(a,b)},S:function(a,b){return jk.S(a,b)},X:function(a,b,c){let d=a.getTimezoneOffset();if(0===d)return"Z";switch(b){case"X":return jn(d);case"XXXX":case"XX":return jo(d);default:return jo(d,":")}},x:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"x":return jn(d);case"xxxx":case"xx":return jo(d);default:return jo(d,":")}},O:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"O":case"OO":case"OOO":return"GMT"+jm(d,":");default:return"GMT"+jo(d,":")}},z:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"z":case"zz":case"zzz":return"GMT"+jm(d,":");default:return"GMT"+jo(d,":")}},t:function(a,b,c){return jj(Math.trunc(a/1e3),b.length)},T:function(a,b,c){return jj(+a,b.length)}};function jm(a,b=""){let c=a>0?"-":"+",d=Math.abs(a),e=Math.trunc(d/60),f=d%60;return 0===f?c+String(e):c+String(e)+b+jj(f,2)}function jn(a,b){return a%60==0?(a>0?"-":"+")+jj(Math.abs(a)/60,2):jo(a,b)}function jo(a,b=""){let c=Math.abs(a);return(a>0?"-":"+")+jj(Math.trunc(c/60),2)+b+jj(c%60,2)}let jp=(a,b)=>{switch(a){case"P":return b.date({width:"short"});case"PP":return b.date({width:"medium"});case"PPP":return b.date({width:"long"});default:return b.date({width:"full"})}},jq=(a,b)=>{switch(a){case"p":return b.time({width:"short"});case"pp":return b.time({width:"medium"});case"ppp":return b.time({width:"long"});default:return b.time({width:"full"})}},jr={p:jq,P:(a,b)=>{let c,d=a.match(/(P+)(p+)?/)||[],e=d[1],f=d[2];if(!f)return jp(a,b);switch(e){case"P":c=b.dateTime({width:"short"});break;case"PP":c=b.dateTime({width:"medium"});break;case"PPP":c=b.dateTime({width:"long"});break;default:c=b.dateTime({width:"full"})}return c.replace("{{date}}",jp(e,b)).replace("{{time}}",jq(f,b))}},js=/^D+$/,jt=/^Y+$/,ju=["D","DD","YY","YYYY"];function jv(a){return a instanceof Date||"object"==typeof a&&"[object Date]"===Object.prototype.toString.call(a)}let jw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jy=/^'([^]*?)'?$/,jz=/''/g,jA=/[a-zA-Z]/;function jB(a,b){let c=b.startOfMonth(a),d=c.getDay();return 1===d?c:0===d?b.addDays(c,-6):b.addDays(c,-1*(d-1))}class jC{constructor(a,b){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?iU.tz(this.options.timeZone):new this.Date,this.newDate=(a,b,c)=>this.overrides?.newDate?this.overrides.newDate(a,b,c):this.options.timeZone?new iU(a,b,c,this.options.timeZone):new Date(a,b,c),this.addDays=(a,b)=>this.overrides?.addDays?this.overrides.addDays(a,b):iY(a,b),this.addMonths=(a,b)=>this.overrides?.addMonths?this.overrides.addMonths(a,b):iZ(a,b),this.addWeeks=(a,b)=>this.overrides?.addWeeks?this.overrides.addWeeks(a,b):iY(a,7*b,void 0),this.addYears=(a,b)=>this.overrides?.addYears?this.overrides.addYears(a,b):iZ(a,12*b,void 0),this.differenceInCalendarDays=(a,b)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,b):i1(a,b),this.differenceInCalendarMonths=(a,b)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,b):function(a,b,c){let[d,e]=i_(void 0,a,b);return 12*(d.getFullYear()-e.getFullYear())+(d.getMonth()-e.getMonth())}(a,b),this.eachMonthOfInterval=a=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):function(a,b){let{start:c,end:d}=i2(void 0,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0),g.setDate(1);let h=(void 0)??1;if(!h)return[];h<0&&(h=-h,e=!e);let i=[];for(;+g<=f;)i.push(iW(c,g)),g.setMonth(g.getMonth()+h);return e?i.reverse():i}(a),this.eachYearOfInterval=a=>{let b=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(a):function(a,b){let{start:c,end:d}=i2(void 0,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0),g.setMonth(0,1);let h=(void 0)??1;if(!h)return[];h<0&&(h=-h,e=!e);let i=[];for(;+g<=f;)i.push(iW(c,g)),g.setFullYear(g.getFullYear()+h);return e?i.reverse():i}(a),c=new Set(b.map(a=>this.getYear(a)));if(c.size===b.length)return b;let d=[];return c.forEach(a=>{d.push(new Date(a,0,1))}),d},this.endOfBroadcastWeek=a=>{let b,c,d,e,f,g;return this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):(b=jB(a,this),d=(c=this.startOfMonth(a)).getDay()>0?c.getDay():7,e=this.addDays(a,-d+1),f=this.addDays(e,34),g=this.getMonth(a)===this.getMonth(f)?5:4,this.addDays(b,7*g-1))},this.endOfISOWeek=a=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(a):i4(a,{...void 0,weekStartsOn:1}),this.endOfMonth=a=>{let b,c;return this.overrides?.endOfMonth?this.overrides.endOfMonth(a):(c=(b=iX(a,void 0)).getMonth(),b.setFullYear(b.getFullYear(),c+1,0),b.setHours(23,59,59,999),b)},this.endOfWeek=(a,b)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(a,b):i4(a,this.options),this.endOfYear=a=>{let b,c;return this.overrides?.endOfYear?this.overrides.endOfYear(a):(c=(b=iX(a,void 0)).getFullYear(),b.setFullYear(c+1,0,0),b.setHours(23,59,59,999),b)},this.format=(a,b,c)=>{let d=this.overrides?.format?this.overrides.format(a,b,this.options):function(a,b,c){let d=c?.locale??i3.locale??jb,e=c?.firstWeekContainsDate??c?.locale?.options?.firstWeekContainsDate??i3.firstWeekContainsDate??i3.locale?.options?.firstWeekContainsDate??1,f=c?.weekStartsOn??c?.locale?.options?.weekStartsOn??i3.weekStartsOn??i3.locale?.options?.weekStartsOn??0,g=iX(a,c?.in);if(!jv(g)&&"number"!=typeof g||isNaN(+iX(g)))throw RangeError("Invalid time value");let h=b.match(jx).map(a=>{let b=a[0];return"p"===b||"P"===b?(0,jr[b])(a,d.formatLong):a}).join("").match(jw).map(a=>{if("''"===a)return{isToken:!1,value:"'"};let b=a[0];if("'"===b){var c;let b;return{isToken:!1,value:(b=(c=a).match(jy))?b[1].replace(jz,"'"):c}}if(jl[b])return{isToken:!0,value:a};if(b.match(jA))throw RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:a}});d.localize.preprocessor&&(h=d.localize.preprocessor(g,h));let i={firstWeekContainsDate:e,weekStartsOn:f,locale:d};return h.map(e=>{if(!e.isToken)return e.value;let f=e.value;return(!c?.useAdditionalWeekYearTokens&&jt.test(f)||!c?.useAdditionalDayOfYearTokens&&js.test(f))&&function(a,b,c){var d,e,f;let g,h=(d=a,e=b,f=c,g="Y"===d[0]?"years":"days of the month",`Use \`${d.toLowerCase()}\` instead of \`${d}\` (in \`${e}\`) for formatting ${g} to the input \`${f}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(h),ju.includes(a))throw RangeError(h)}(f,b,String(a)),(0,jl[f[0]])(g,f,d.localize,i)}).join("")}(a,b,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(d):d},this.getISOWeek=a=>this.overrides?.getISOWeek?this.overrides.getISOWeek(a):jg(a),this.getMonth=(a,b)=>{var c;return this.overrides?.getMonth?this.overrides.getMonth(a,this.options):(c=this.options,iX(a,c?.in).getMonth())},this.getYear=(a,b)=>{var c;return this.overrides?.getYear?this.overrides.getYear(a,this.options):(c=this.options,iX(a,c?.in).getFullYear())},this.getWeek=(a,b)=>this.overrides?.getWeek?this.overrides.getWeek(a,this.options):ji(a,this.options),this.isAfter=(a,b)=>this.overrides?.isAfter?this.overrides.isAfter(a,b):+iX(a)>+iX(b),this.isBefore=(a,b)=>this.overrides?.isBefore?this.overrides.isBefore(a,b):+iX(a)<+iX(b),this.isDate=a=>this.overrides?.isDate?this.overrides.isDate(a):jv(a),this.isSameDay=(a,b)=>this.overrides?.isSameDay?this.overrides.isSameDay(a,b):function(a,b,c){let[d,e]=i_(void 0,a,b);return+i0(d)==+i0(e)}(a,b),this.isSameMonth=(a,b)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(a,b):function(a,b,c){let[d,e]=i_(void 0,a,b);return d.getFullYear()===e.getFullYear()&&d.getMonth()===e.getMonth()}(a,b),this.isSameYear=(a,b)=>this.overrides?.isSameYear?this.overrides.isSameYear(a,b):function(a,b,c){let[d,e]=i_(void 0,a,b);return d.getFullYear()===e.getFullYear()}(a,b),this.max=a=>{let b,c;return this.overrides?.max?this.overrides.max(a):(c=void 0,a.forEach(a=>{c||"object"!=typeof a||(c=iW.bind(null,a));let d=iX(a,c);(!b||b<d||isNaN(+d))&&(b=d)}),iW(c,b||NaN))},this.min=a=>{let b,c;return this.overrides?.min?this.overrides.min(a):(c=void 0,a.forEach(a=>{c||"object"!=typeof a||(c=iW.bind(null,a));let d=iX(a,c);(!b||b>d||isNaN(+d))&&(b=d)}),iW(c,b||NaN))},this.setMonth=(a,b)=>{let c,d,e,f,g,h,i,j,k;return this.overrides?.setMonth?this.overrides.setMonth(a,b):(d=(c=iX(a,void 0)).getFullYear(),e=c.getDate(),(f=iW(a,0)).setFullYear(d,b,15),f.setHours(0,0,0,0),h=(g=iX(f,void 0)).getFullYear(),i=g.getMonth(),(j=iW(g,0)).setFullYear(h,i+1,0),j.setHours(0,0,0,0),k=j.getDate(),c.setMonth(b,Math.min(e,k)),c)},this.setYear=(a,b)=>{let c;return this.overrides?.setYear?this.overrides.setYear(a,b):isNaN(+(c=iX(a,void 0)))?iW(a,NaN):(c.setFullYear(b),c)},this.startOfBroadcastWeek=(a,b)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):jB(a,this),this.startOfDay=a=>this.overrides?.startOfDay?this.overrides.startOfDay(a):i0(a),this.startOfISOWeek=a=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(a):je(a),this.startOfMonth=a=>{let b;return this.overrides?.startOfMonth?this.overrides.startOfMonth(a):((b=iX(a,void 0)).setDate(1),b.setHours(0,0,0,0),b)},this.startOfWeek=(a,b)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(a,this.options):jd(a,this.options),this.startOfYear=a=>this.overrides?.startOfYear?this.overrides.startOfYear(a):jc(a),this.options={locale:jb,...a},this.overrides=b}getDigitMap(){let{numerals:a="latn"}=this.options,b=new Intl.NumberFormat("en-US",{numberingSystem:a}),c={};for(let a=0;a<10;a++)c[a.toString()]=b.format(a);return c}replaceDigits(a){let b=this.getDigitMap();return a.replace(/\d/g,a=>b[a]||a)}formatNumber(a){return this.replaceDigits(a.toString())}getMonthYearOrder(){let a=this.options.locale?.code;return a&&jC.yearFirstLocales.has(a)?"year-first":"month-first"}formatMonthYear(a){let{locale:b,timeZone:c,numerals:d}=this.options,e=b?.code;if(e&&jC.yearFirstLocales.has(e))try{return new Intl.DateTimeFormat(e,{month:"long",year:"numeric",timeZone:c,numberingSystem:d}).format(a)}catch{}let f="year-first"===this.getMonthYearOrder()?"y LLLL":"LLLL y";return this.format(a,f)}}jC.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);let jD=new jC;function jE(a,b,c=!1,d=jD){let{from:e,to:f}=a,{differenceInCalendarDays:g,isSameDay:h}=d;return e&&f?(0>g(f,e)&&([e,f]=[f,e]),g(b,e)>=+!!c&&g(f,b)>=+!!c):!c&&f?h(f,b):!c&&!!e&&h(e,b)}function jF(a){return!!(a&&"object"==typeof a&&"before"in a&&"after"in a)}function jG(a){return!!(a&&"object"==typeof a&&"from"in a)}function jH(a){return!!(a&&"object"==typeof a&&"after"in a)}function jI(a){return!!(a&&"object"==typeof a&&"before"in a)}function jJ(a){return!!(a&&"object"==typeof a&&"dayOfWeek"in a)}function jK(a,b){return Array.isArray(a)&&a.every(b.isDate)}function jL(a,b,c=jD){let d=Array.isArray(b)?b:[b],{isSameDay:e,differenceInCalendarDays:f,isAfter:g}=c;return d.some(b=>{if("boolean"==typeof b)return b;if(c.isDate(b))return e(a,b);if(jK(b,c))return b.includes(a);if(jG(b))return jE(b,a,!1,c);if(jJ(b))return Array.isArray(b.dayOfWeek)?b.dayOfWeek.includes(a.getDay()):b.dayOfWeek===a.getDay();if(jF(b)){let c=f(b.before,a),d=f(b.after,a),e=c>0,h=d<0;return g(b.before,b.after)?h&&e:e||h}return jH(b)?f(a,b.after)>0:jI(b)?f(b.before,a)>0:"function"==typeof b&&b(a)})}function jM(a){return F.default.createElement("button",{...a})}function jN(a){return F.default.createElement("span",{...a})}function jO(a){let{size:b=24,orientation:c="left",className:d}=a;return F.default.createElement("svg",{className:d,width:b,height:b,viewBox:"0 0 24 24"},"up"===c&&F.default.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===c&&F.default.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===c&&F.default.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===c&&F.default.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function jP(a){let{day:b,modifiers:c,...d}=a;return F.default.createElement("td",{...d})}function jQ(a){let{day:b,modifiers:c,...d}=a,e=F.default.useRef(null);return F.default.useEffect(()=>{c.focused&&e.current?.focus()},[c.focused]),F.default.createElement("button",{ref:e,...d})}function jR(a){let{options:b,className:c,components:d,classNames:e,...f}=a,g=[e[z.Dropdown],c].join(" "),h=b?.find(({value:a})=>a===f.value);return F.default.createElement("span",{"data-disabled":f.disabled,className:e[z.DropdownRoot]},F.default.createElement(d.Select,{className:g,...f},b?.map(({value:a,label:b,disabled:c})=>F.default.createElement(d.Option,{key:a,value:a,disabled:c},b))),F.default.createElement("span",{className:e[z.CaptionLabel],"aria-hidden":!0},h?.label,F.default.createElement(d.Chevron,{orientation:"down",size:18,className:e[z.Chevron]})))}function jS(a){return F.default.createElement("div",{...a})}function jT(a){return F.default.createElement("div",{...a})}function jU(a){let{calendarMonth:b,displayIndex:c,...d}=a;return F.default.createElement("div",{...d},a.children)}function jV(a){let{calendarMonth:b,displayIndex:c,...d}=a;return F.default.createElement("div",{...d})}function jW(a){return F.default.createElement("table",{...a})}function jX(a){return F.default.createElement("div",{...a})}(u=z||(z={})).Root="root",u.Chevron="chevron",u.Day="day",u.DayButton="day_button",u.CaptionLabel="caption_label",u.Dropdowns="dropdowns",u.Dropdown="dropdown",u.DropdownRoot="dropdown_root",u.Footer="footer",u.MonthGrid="month_grid",u.MonthCaption="month_caption",u.MonthsDropdown="months_dropdown",u.Month="month",u.Months="months",u.Nav="nav",u.NextMonthButton="button_next",u.PreviousMonthButton="button_previous",u.Week="week",u.Weeks="weeks",u.Weekday="weekday",u.Weekdays="weekdays",u.WeekNumber="week_number",u.WeekNumberHeader="week_number_header",u.YearsDropdown="years_dropdown",(v=A||(A={})).disabled="disabled",v.hidden="hidden",v.outside="outside",v.focused="focused",v.today="today",(w=B||(B={})).range_end="range_end",w.range_middle="range_middle",w.range_start="range_start",w.selected="selected",(x=C||(C={})).weeks_before_enter="weeks_before_enter",x.weeks_before_exit="weeks_before_exit",x.weeks_after_enter="weeks_after_enter",x.weeks_after_exit="weeks_after_exit",x.caption_after_enter="caption_after_enter",x.caption_after_exit="caption_after_exit",x.caption_before_enter="caption_before_enter",x.caption_before_exit="caption_before_exit",a.s([],66502),a.i(66502),a.s(["Button",()=>jM],3128),a.i(3128),a.s(["CaptionLabel",()=>jN],58583),a.i(58583),a.s(["Chevron",()=>jO],85790),a.i(85790),a.s(["Day",()=>jP],44619),a.i(44619),a.s(["DayButton",()=>jQ],71819),a.i(71819),a.s(["Dropdown",()=>jR],94006),a.i(94006),a.s(["DropdownNav",()=>jS],86466),a.i(86466),a.s(["Footer",()=>jT],58575),a.i(58575),a.s(["Month",()=>jU],19223),a.i(19223),a.s(["MonthCaption",()=>jV],51380),a.i(51380),a.s(["MonthGrid",()=>jW],51710),a.i(51710),a.s(["Months",()=>jX],4630),a.i(4630);let jY=(0,F.createContext)(void 0);function jZ(){let a=(0,F.useContext)(jY);if(void 0===a)throw Error("useDayPicker() must be used within a custom component.");return a}function j$(a){let{components:b}=jZ();return F.default.createElement(b.Dropdown,{...a})}function j_(a){let{onPreviousClick:b,onNextClick:c,previousMonth:d,nextMonth:e,...f}=a,{components:g,classNames:h,labels:{labelPrevious:i,labelNext:j}}=jZ(),k=(0,F.useCallback)(a=>{e&&c?.(a)},[e,c]),l=(0,F.useCallback)(a=>{d&&b?.(a)},[d,b]);return F.default.createElement("nav",{...f},F.default.createElement(g.PreviousMonthButton,{type:"button",className:h[z.PreviousMonthButton],tabIndex:d?void 0:-1,"aria-disabled":!d||void 0,"aria-label":i(d),onClick:l},F.default.createElement(g.Chevron,{disabled:!d||void 0,className:h[z.Chevron],orientation:"left"})),F.default.createElement(g.NextMonthButton,{type:"button",className:h[z.NextMonthButton],tabIndex:e?void 0:-1,"aria-disabled":!e||void 0,"aria-label":j(e),onClick:k},F.default.createElement(g.Chevron,{disabled:!e||void 0,orientation:"right",className:h[z.Chevron]})))}function j0(a){let{components:b}=jZ();return F.default.createElement(b.Button,{...a})}function j1(a){return F.default.createElement("option",{...a})}function j2(a){let{components:b}=jZ();return F.default.createElement(b.Button,{...a})}function j3(a){let{rootRef:b,...c}=a;return F.default.createElement("div",{...c,ref:b})}function j4(a){return F.default.createElement("select",{...a})}function j5(a){let{week:b,...c}=a;return F.default.createElement("tr",{...c})}function j6(a){return F.default.createElement("th",{...a})}function j7(a){return F.default.createElement("thead",{"aria-hidden":!0},F.default.createElement("tr",{...a}))}function j8(a){let{week:b,...c}=a;return F.default.createElement("th",{...c})}function j9(a){return F.default.createElement("th",{...a})}function ka(a){return F.default.createElement("tbody",{...a})}function kb(a){let{components:b}=jZ();return F.default.createElement(b.Dropdown,{...a})}a.s(["MonthsDropdown",()=>j$],9474),a.i(9474),a.s(["Nav",()=>j_],54844),a.i(54844),a.s(["NextMonthButton",()=>j0],87701),a.i(87701),a.s(["Option",()=>j1],42382),a.i(42382),a.s(["PreviousMonthButton",()=>j2],41402),a.i(41402),a.s(["Root",()=>j3],312),a.i(312),a.s(["Select",()=>j4],52619),a.i(52619),a.s(["Week",()=>j5],3095),a.i(3095),a.s(["Weekday",()=>j6],87721),a.i(87721),a.s(["Weekdays",()=>j7],6406),a.i(6406),a.s(["WeekNumber",()=>j8],10892),a.i(10892),a.s(["WeekNumberHeader",()=>j9],90154),a.i(90154),a.s(["Weeks",()=>ka],62942),a.i(62942),a.s(["YearsDropdown",()=>kb],27110),a.i(27110),a.s(["Button",()=>jM,"CaptionLabel",()=>jN,"Chevron",()=>jO,"Day",()=>jP,"DayButton",()=>jQ,"Dropdown",()=>jR,"DropdownNav",()=>jS,"Footer",()=>jT,"Month",()=>jU,"MonthCaption",()=>jV,"MonthGrid",()=>jW,"Months",()=>jX,"MonthsDropdown",()=>j$,"Nav",()=>j_,"NextMonthButton",()=>j0,"Option",()=>j1,"PreviousMonthButton",()=>j2,"Root",()=>j3,"Select",()=>j4,"Week",()=>j5,"WeekNumber",()=>j8,"WeekNumberHeader",()=>j9,"Weekday",()=>j6,"Weekdays",()=>j7,"Weeks",()=>ka,"YearsDropdown",()=>kb],30952);var kc=a.i(30952);function kd(a,b,c){return(c??new jC(b)).formatMonthYear(a)}function ke(a,b,c){return(c??new jC(b)).format(a,"d")}function kf(a,b=jD){return b.format(a,"LLLL")}function kg(a,b,c){return(c??new jC(b)).format(a,"cccccc")}function kh(a,b=jD){return a<10?b.formatNumber(`0${a.toLocaleString()}`):b.formatNumber(`${a.toLocaleString()}`)}function ki(){return""}function kj(a,b=jD){return b.format(a,"yyyy")}a.s([],64652),a.i(64652),a.s(["formatCaption",()=>kd,"formatMonthCaption",0,kd],29),a.i(29),a.s(["formatDay",()=>ke],82648),a.i(82648),a.s(["formatMonthDropdown",()=>kf],4156),a.i(4156),a.s(["formatWeekdayName",()=>kg],79596),a.i(79596),a.s(["formatWeekNumber",()=>kh],991),a.i(991),a.s(["formatWeekNumberHeader",()=>ki],51973),a.i(51973),a.s(["formatYearCaption",0,kj,"formatYearDropdown",()=>kj],98960),a.i(98960),a.s(["formatCaption",()=>kd,"formatDay",()=>ke,"formatMonthCaption",0,kd,"formatMonthDropdown",()=>kf,"formatWeekNumber",()=>kh,"formatWeekNumberHeader",()=>ki,"formatWeekdayName",()=>kg,"formatYearCaption",0,kj,"formatYearDropdown",()=>kj],21256);var kk=a.i(21256);function kl(a,b,c,d){let e=(d??new jC(c)).format(a,"PPPP");return b.today&&(e=`Today, ${e}`),b.selected&&(e=`${e}, selected`),e}function km(a,b,c){return(c??new jC(b)).formatMonthYear(a)}function kn(a,b,c,d){let e=(d??new jC(c)).format(a,"PPPP");return b?.today&&(e=`Today, ${e}`),e}function ko(a){return"Choose the Month"}function kp(){return""}function kq(a){return"Go to the Next Month"}function kr(a){return"Go to the Previous Month"}function ks(a,b,c){return(c??new jC(b)).format(a,"cccc")}function kt(a,b){return`Week ${a}`}function ku(a){return"Week Number"}function kv(a){return"Choose the Year"}a.s([],39326),a.i(39326),a.s(["labelDay",0,kl,"labelDayButton",()=>kl],13681),a.i(13681),a.s(["labelCaption",0,km,"labelGrid",()=>km],54471),a.i(54471),a.s(["labelGridcell",()=>kn],17011),a.i(17011),a.s(["labelMonthDropdown",()=>ko],59538),a.i(59538),a.s(["labelNav",()=>kp],49739),a.i(49739),a.s(["labelNext",()=>kq],40517),a.i(40517),a.s(["labelPrevious",()=>kr],6162),a.i(6162),a.s(["labelWeekday",()=>ks],83894),a.i(83894),a.s(["labelWeekNumber",()=>kt],64272),a.i(64272),a.s(["labelWeekNumberHeader",()=>ku],94704),a.i(94704),a.s(["labelYearDropdown",()=>kv],20630),a.i(20630),a.s(["labelCaption",0,km,"labelDay",0,kl,"labelDayButton",()=>kl,"labelGrid",()=>km,"labelGridcell",()=>kn,"labelMonthDropdown",()=>ko,"labelNav",()=>kp,"labelNext",()=>kq,"labelPrevious",()=>kr,"labelWeekNumber",()=>kt,"labelWeekNumberHeader",()=>ku,"labelWeekday",()=>ks,"labelYearDropdown",()=>kv],33698);var kw=a.i(33698);let kx=a=>a instanceof HTMLElement?a:null,ky=a=>[...a.querySelectorAll("[data-animated-month]")??[]],kz=a=>kx(a.querySelector("[data-animated-caption]")),kA=a=>kx(a.querySelector("[data-animated-weeks]"));function kB(a,b,c,d){let{month:e,defaultMonth:f,today:g=d.today(),numberOfMonths:h=1}=a,i=e||f||g,{differenceInCalendarMonths:j,addMonths:k,startOfMonth:l}=d;return c&&j(c,i)<h-1&&(i=k(c,-1*(h-1))),b&&0>j(i,b)&&(i=b),l(i)}class kC{constructor(a,b,c=jD){this.date=a,this.displayMonth=b,this.outside=!!(b&&!c.isSameMonth(a,b)),this.dateLib=c,this.isoDate=c.format(a,"yyyy-MM-dd"),this.displayMonthId=c.format(b,"yyyy-MM"),this.dateMonthId=c.format(a,"yyyy-MM")}isEqualTo(a){return this.dateLib.isSameDay(a.date,this.date)&&this.dateLib.isSameMonth(a.displayMonth,this.displayMonth)}}class kD{constructor(a,b){this.date=a,this.weeks=b}}class kE{constructor(a,b){this.days=b,this.weekNumber=a}}function kF(a,b){let[c,d]=(0,F.useState)(a);return[void 0===b?c:b,d]}function kG(a){return!a[A.disabled]&&!a[A.hidden]&&!a[A.outside]}function kH(a,b,c=jD){return jE(a,b.from,!1,c)||jE(a,b.to,!1,c)||jE(b,a.from,!1,c)||jE(b,a.to,!1,c)}function kI(a,b){return a instanceof iU&&a.timeZone===b?a:new iU(a,b)}function kJ(a,b){return"boolean"==typeof a||"function"==typeof a?a:a instanceof Date?kI(a,b):Array.isArray(a)?a.map(a=>a instanceof Date?kI(a,b):a):jG(a)?{...a,from:a.from?kI(a.from,b):a.from,to:a.to?kI(a.to,b):a.to}:jF(a)?{before:kI(a.before,b),after:kI(a.after,b)}:jH(a)?{after:kI(a.after,b)}:jI(a)?{before:kI(a.before,b)}:a}function kK(a,b){return a?Array.isArray(a)?a.map(a=>kJ(a,b)):kJ(a,b):a}function kL(a){var b;let c,d=a,e=d.timeZone;if(e&&((d={...a,timeZone:e}).today&&(d.today=kI(d.today,e)),d.month&&(d.month=kI(d.month,e)),d.defaultMonth&&(d.defaultMonth=kI(d.defaultMonth,e)),d.startMonth&&(d.startMonth=kI(d.startMonth,e)),d.endMonth&&(d.endMonth=kI(d.endMonth,e)),"single"===d.mode&&d.selected?d.selected=kI(d.selected,e):"multiple"===d.mode&&d.selected?d.selected=d.selected?.map(a=>kI(a,e)):"range"===d.mode&&d.selected&&(d.selected={from:d.selected.from?kI(d.selected.from,e):d.selected.from,to:d.selected.to?kI(d.selected.to,e):d.selected.to}),void 0!==d.disabled&&(d.disabled=kK(d.disabled,e)),void 0!==d.hidden&&(d.hidden=kK(d.hidden,e)),d.modifiers)){let a={};Object.keys(d.modifiers).forEach(b=>{a[b]=kK(d.modifiers?.[b],e)}),d.modifiers=a}let{components:f,formatters:g,labels:h,dateLib:i,locale:j,classNames:k}=(0,F.useMemo)(()=>{var a,b;let c={...jb,...d.locale};return{dateLib:new jC({locale:c,weekStartsOn:d.broadcastCalendar?1:d.weekStartsOn,firstWeekContainsDate:d.firstWeekContainsDate,useAdditionalWeekYearTokens:d.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:d.useAdditionalDayOfYearTokens,timeZone:d.timeZone,numerals:d.numerals},d.dateLib),components:(a=d.components,{...kc,...a}),formatters:(b=d.formatters,b?.formatMonthCaption&&!b.formatCaption&&(b.formatCaption=b.formatMonthCaption),b?.formatYearCaption&&!b.formatYearDropdown&&(b.formatYearDropdown=b.formatYearCaption),{...kk,...b}),labels:{...kw,...d.labels},locale:c,classNames:{...function(){let a={};for(let b in z)a[z[b]]=`rdp-${z[b]}`;for(let b in A)a[A[b]]=`rdp-${A[b]}`;for(let b in B)a[B[b]]=`rdp-${B[b]}`;for(let b in C)a[C[b]]=`rdp-${C[b]}`;return a}(),...d.classNames}}},[d.locale,d.broadcastCalendar,d.weekStartsOn,d.firstWeekContainsDate,d.useAdditionalWeekYearTokens,d.useAdditionalDayOfYearTokens,d.timeZone,d.numerals,d.dateLib,d.components,d.formatters,d.labels,d.classNames]);d.today||(d={...d,today:i.today()});let{captionLayout:l,mode:m,navLayout:n,numberOfMonths:o=1,onDayBlur:p,onDayClick:q,onDayFocus:r,onDayKeyDown:s,onDayMouseEnter:t,onDayMouseLeave:u,onNextClick:v,onPrevClick:w,showWeekNumber:x,styles:y}=d,{formatCaption:E,formatDay:G,formatMonthDropdown:H,formatWeekNumber:I,formatWeekNumberHeader:J,formatWeekdayName:K,formatYearDropdown:L}=g,M=function(a,b){let[c,d]=function(a,b){let{startMonth:c,endMonth:d}=a,{startOfYear:e,startOfDay:f,startOfMonth:g,endOfMonth:h,addYears:i,endOfYear:j,newDate:k,today:l}=b,{fromYear:m,toYear:n,fromMonth:o,toMonth:p}=a;!c&&o&&(c=o),!c&&m&&(c=b.newDate(m,0,1)),!d&&p&&(d=p),!d&&n&&(d=k(n,11,31));let q="dropdown"===a.captionLayout||"dropdown-years"===a.captionLayout;return c?c=g(c):m?c=k(m,0,1):!c&&q&&(c=e(i(a.today??l(),-100))),d?d=h(d):n?d=k(n,11,31):!d&&q&&(d=j(a.today??l())),[c?f(c):c,d?f(d):d]}(a,b),{startOfMonth:e,endOfMonth:f}=b,g=kB(a,c,d,b),[h,i]=kF(g,a.month?g:void 0);(0,F.useEffect)(()=>{i(kB(a,c,d,b))},[a.timeZone]);let{months:j,weeks:k,days:l,previousMonth:m,nextMonth:n}=(0,F.useMemo)(()=>{let e,g=function(a,b,c,d){let{numberOfMonths:e=1}=c,f=[];for(let c=0;c<e;c++){let e=d.addMonths(a,c);if(b&&e>b)break;f.push(e)}return f}(h,d,{numberOfMonths:a.numberOfMonths},b),i=function(a,b,c,d){let e=a[0],f=a[a.length-1],{ISOWeek:g,fixedWeeks:h,broadcastCalendar:i}=c??{},{addDays:j,differenceInCalendarDays:k,differenceInCalendarMonths:l,endOfBroadcastWeek:m,endOfISOWeek:n,endOfMonth:o,endOfWeek:p,isAfter:q,startOfBroadcastWeek:r,startOfISOWeek:s,startOfWeek:t}=d,u=i?r(e,d):g?s(e):t(e),v=k(i?m(f):g?n(o(f)):p(o(f)),u),w=l(f,e)+1,x=[];for(let a=0;a<=v;a++){let c=j(u,a);if(b&&q(c,b))break;x.push(c)}let y=(i?35:42)*w;if(h&&x.length<y){let a=y-x.length;for(let b=0;b<a;b++){let a=j(x[x.length-1],1);x.push(a)}}return x}(g,a.endMonth?f(a.endMonth):void 0,{ISOWeek:a.ISOWeek,fixedWeeks:a.fixedWeeks,broadcastCalendar:a.broadcastCalendar},b),j=function(a,b,c,d){let{addDays:e,endOfBroadcastWeek:f,endOfISOWeek:g,endOfMonth:h,endOfWeek:i,getISOWeek:j,getWeek:k,startOfBroadcastWeek:l,startOfISOWeek:m,startOfWeek:n}=d,o=a.reduce((a,o)=>{let p=c.broadcastCalendar?l(o,d):c.ISOWeek?m(o):n(o),q=c.broadcastCalendar?f(o):c.ISOWeek?g(h(o)):i(h(o)),r=b.filter(a=>a>=p&&a<=q),s=c.broadcastCalendar?35:42;if(c.fixedWeeks&&r.length<s){let a=b.filter(a=>{let b=s-r.length;return a>q&&a<=e(q,b)});r.push(...a)}let t=r.reduce((a,b)=>{let e=c.ISOWeek?j(b):k(b),f=a.find(a=>a.weekNumber===e),g=new kC(b,o,d);return f?f.days.push(g):a.push(new kE(e,[g])),a},[]),u=new kD(o,t);return a.push(u),a},[]);return c.reverseMonths?o.reverse():o}(g,i,{broadcastCalendar:a.broadcastCalendar,fixedWeeks:a.fixedWeeks,ISOWeek:a.ISOWeek,reverseMonths:a.reverseMonths},b),k=j.reduce((a,b)=>a.concat(b.weeks.slice()),[]),l=(e=[],j.reduce((a,b)=>{let c=b.weeks.reduce((a,b)=>a.concat(b.days.slice()),e.slice());return a.concat(c.slice())},e.slice()));return{months:j,weeks:k,days:l,previousMonth:function(a,b,c,d){if(c.disableNavigation)return;let{pagedNavigation:e,numberOfMonths:f}=c,{startOfMonth:g,addMonths:h,differenceInCalendarMonths:i}=d,j=g(a);if(!b||!(0>=i(j,b)))return h(j,-(e?f??1:1))}(h,c,a,b),nextMonth:function(a,b,c,d){if(c.disableNavigation)return;let{pagedNavigation:e,numberOfMonths:f=1}=c,{startOfMonth:g,addMonths:h,differenceInCalendarMonths:i}=d,j=g(a);if(!b||!(i(b,a)<f))return h(j,e?f:1)}(h,d,a,b)}},[b,h.getTime(),d?.getTime(),c?.getTime(),a.disableNavigation,a.broadcastCalendar,a.endMonth?.getTime(),a.fixedWeeks,a.ISOWeek,a.numberOfMonths,a.pagedNavigation,a.reverseMonths]),{disableNavigation:o,onMonthChange:p}=a,q=a=>{if(o)return;let b=e(a);c&&b<e(c)&&(b=e(c)),d&&b>e(d)&&(b=e(d)),i(b),p?.(b)};return{months:j,weeks:k,days:l,navStart:c,navEnd:d,previousMonth:m,nextMonth:n,goToMonth:q,goToDay:a=>{k.some(b=>b.days.some(b=>b.isEqualTo(a)))||q(a.date)}}}(d,i),{days:N,months:O,navStart:P,navEnd:Q,previousMonth:R,nextMonth:S,goToMonth:T}=M,U=function(a,b,c,d,e){let{disabled:f,hidden:g,modifiers:h,showOutsideDays:i,broadcastCalendar:j,today:k=e.today()}=b,{isSameDay:l,isSameMonth:m,startOfMonth:n,isBefore:o,endOfMonth:p,isAfter:q}=e,r=c&&n(c),s=d&&p(d),t={[A.focused]:[],[A.outside]:[],[A.disabled]:[],[A.hidden]:[],[A.today]:[]},u={};for(let b of a){let{date:a,displayMonth:c}=b,d=!!(c&&!m(a,c)),n=!!(r&&o(a,r)),p=!!(s&&q(a,s)),v=!!(f&&jL(a,f,e)),w=!!(g&&jL(a,g,e))||n||p||!j&&!i&&d||j&&!1===i&&d,x=l(a,k);d&&t.outside.push(b),v&&t.disabled.push(b),w&&t.hidden.push(b),x&&t.today.push(b),h&&Object.keys(h).forEach(c=>{let d=h?.[c];d&&jL(a,d,e)&&(u[c]?u[c].push(b):u[c]=[b])})}return a=>{let b={[A.focused]:!1,[A.disabled]:!1,[A.hidden]:!1,[A.outside]:!1,[A.today]:!1},c={};for(let c in t){let d=t[c];b[c]=d.some(b=>b===a)}for(let b in u)c[b]=u[b].some(b=>b===a);return{...b,...c}}}(N,d,P,Q,i),{isSelected:V,select:W,selected:X}=function(a,b){let c=function(a,b){let{selected:c,required:d,onSelect:e}=a,[f,g]=kF(c,e?c:void 0),h=e?c:f,{isSameDay:i}=b;return{selected:h,select:(a,b,c)=>{let f=a;return!d&&h&&h&&i(a,h)&&(f=void 0),e||g(f),e?.(f,a,b,c),f},isSelected:a=>!!h&&i(h,a)}}(a,b),d=function(a,b){let{selected:c,required:d,onSelect:e}=a,[f,g]=kF(c,e?c:void 0),h=e?c:f,{isSameDay:i}=b,j=a=>h?.some(b=>i(b,a))??!1,{min:k,max:l}=a;return{selected:h,select:(a,b,c)=>{let f=[...h??[]];if(j(a)){if(h?.length===k||d&&h?.length===1)return;f=h?.filter(b=>!i(b,a))}else f=h?.length===l?[a]:[...f,a];return e||g(f),e?.(f,a,b,c),f},isSelected:j}}(a,b),e=function(a,b){let{disabled:c,excludeDisabled:d,selected:e,required:f,onSelect:g}=a,[h,i]=kF(e,g?e:void 0),j=g?e:h;return{selected:j,select:(e,h,k)=>{let{min:l,max:m}=a,n=e?function(a,b,c=0,d=0,e=!1,f=jD){let g,{from:h,to:i}=b||{},{isSameDay:j,isAfter:k,isBefore:l}=f;if(h||i){if(h&&!i)g=j(h,a)?0===c?{from:h,to:a}:e?{from:h,to:void 0}:void 0:l(a,h)?{from:a,to:h}:{from:h,to:a};else if(h&&i)if(j(h,a)&&j(i,a))g=e?{from:h,to:i}:void 0;else if(j(h,a))g={from:h,to:c>0?void 0:a};else if(j(i,a))g={from:a,to:c>0?void 0:a};else if(l(a,h))g={from:a,to:i};else if(k(a,h))g={from:h,to:a};else if(k(a,i))g={from:h,to:a};else throw Error("Invalid range")}else g={from:a,to:c>0?void 0:a};if(g?.from&&g?.to){let b=f.differenceInCalendarDays(g.to,g.from);d>0&&b>d?g={from:a,to:void 0}:c>1&&b<c&&(g={from:a,to:void 0})}return g}(e,j,l,m,f,b):void 0;return d&&c&&n?.from&&n.to&&function(a,b,c=jD){let d=Array.isArray(b)?b:[b];if(d.filter(a=>"function"!=typeof a).some(b=>"boolean"==typeof b?b:c.isDate(b)?jE(a,b,!1,c):jK(b,c)?b.some(b=>jE(a,b,!1,c)):jG(b)?!!b.from&&!!b.to&&kH(a,{from:b.from,to:b.to},c):jJ(b)?function(a,b,c=jD){let d=Array.isArray(b)?b:[b],e=a.from,f=Math.min(c.differenceInCalendarDays(a.to,a.from),6);for(let a=0;a<=f;a++){if(d.includes(e.getDay()))return!0;e=c.addDays(e,1)}return!1}(a,b.dayOfWeek,c):jF(b)?c.isAfter(b.before,b.after)?kH(a,{from:c.addDays(b.after,1),to:c.addDays(b.before,-1)},c):jL(a.from,b,c)||jL(a.to,b,c):!!(jH(b)||jI(b))&&(jL(a.from,b,c)||jL(a.to,b,c))))return!0;let e=d.filter(a=>"function"==typeof a);if(e.length){let b=a.from,d=c.differenceInCalendarDays(a.to,a.from);for(let a=0;a<=d;a++){if(e.some(a=>a(b)))return!0;b=c.addDays(b,1)}}return!1}({from:n.from,to:n.to},c,b)&&(n.from=e,n.to=void 0),g||i(n),g?.(n,e,h,k),n},isSelected:a=>j&&jE(j,a,!1,b)}}(a,b);switch(a.mode){case"single":return c;case"multiple":return d;case"range":return e;default:return}}(d,i)??{},{blur:Y,focused:Z,isFocusTarget:$,moveFocus:_,setFocused:aa}=function(a,b,c,d,e){let{autoFocus:f}=a,[g,h]=(0,F.useState)(),i=function(a,b,c,d){let e,f=-1;for(let g of a){let a=b(g);kG(a)&&(a[A.focused]&&f<D.FocusedModifier?(e=g,f=D.FocusedModifier):d?.isEqualTo(g)&&f<D.LastFocused?(e=g,f=D.LastFocused):c(g.date)&&f<D.Selected?(e=g,f=D.Selected):a[A.today]&&f<D.Today&&(e=g,f=D.Today))}return e||(e=a.find(a=>kG(b(a)))),e}(b.days,c,d||(()=>!1),g),[j,k]=(0,F.useState)(f?i:void 0);return{isFocusTarget:a=>!!i?.isEqualTo(a),setFocused:k,focused:j,blur:()=>{h(j),k(void 0)},moveFocus:(c,d)=>{if(!j)return;let f=function a(b,c,d,e,f,g,h,i=0){if(i>365)return;let j=function(a,b,c,d,e,f,g){let{ISOWeek:h,broadcastCalendar:i}=f,{addDays:j,addMonths:k,addWeeks:l,addYears:m,endOfBroadcastWeek:n,endOfISOWeek:o,endOfWeek:p,max:q,min:r,startOfBroadcastWeek:s,startOfISOWeek:t,startOfWeek:u}=g,v=({day:j,week:l,month:k,year:m,startOfWeek:a=>i?s(a,g):h?t(a):u(a),endOfWeek:a=>i?n(a):h?o(a):p(a)})[a](c,"after"===b?1:-1);return"before"===b&&d?v=q([d,v]):"after"===b&&e&&(v=r([e,v])),v}(b,c,d.date,e,f,g,h),k=!!(g.disabled&&jL(j,g.disabled,h)),l=!!(g.hidden&&jL(j,g.hidden,h)),m=new kC(j,j,h);return k||l?a(b,c,m,e,f,g,h,i+1):m}(c,d,j,b.navStart,b.navEnd,a,e);if(f){if(a.disableNavigation&&!b.days.some(a=>a.isEqualTo(f)))return;b.goToDay(f),k(f)}}}}(d,M,U,V??(()=>!1),i),{labelDayButton:ab,labelGridcell:ac,labelGrid:ad,labelMonthDropdown:ae,labelNav:af,labelPrevious:ag,labelNext:ah,labelWeekday:ai,labelWeekNumber:aj,labelWeekNumberHeader:ak,labelYearDropdown:al}=h,am=(0,F.useMemo)(()=>(function(a,b,c,d){let e=d??a.today(),f=c?a.startOfBroadcastWeek(e,a):b?a.startOfISOWeek(e):a.startOfWeek(e),g=[];for(let b=0;b<7;b++){let c=a.addDays(f,b);g.push(c)}return g})(i,d.ISOWeek,d.broadcastCalendar,d.today),[i,d.ISOWeek,d.broadcastCalendar,d.today]),an=void 0!==m||void 0!==q,ao=(0,F.useCallback)(()=>{R&&(T(R),w?.(R))},[R,T,w]),ap=(0,F.useCallback)(()=>{S&&(T(S),v?.(S))},[T,S,v]),aq=(0,F.useCallback)((a,b)=>c=>{c.preventDefault(),c.stopPropagation(),aa(a),W?.(a.date,b,c),q?.(a.date,b,c)},[W,q,aa]),ar=(0,F.useCallback)((a,b)=>c=>{aa(a),r?.(a.date,b,c)},[r,aa]),as=(0,F.useCallback)((a,b)=>c=>{Y(),p?.(a.date,b,c)},[Y,p]),at=(0,F.useCallback)((a,b)=>c=>{let e={ArrowLeft:[c.shiftKey?"month":"day","rtl"===d.dir?"after":"before"],ArrowRight:[c.shiftKey?"month":"day","rtl"===d.dir?"before":"after"],ArrowDown:[c.shiftKey?"year":"week","after"],ArrowUp:[c.shiftKey?"year":"week","before"],PageUp:[c.shiftKey?"year":"month","before"],PageDown:[c.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(e[c.key]){c.preventDefault(),c.stopPropagation();let[a,b]=e[c.key];_(a,b)}s?.(a.date,b,c)},[_,s,d.dir]),au=(0,F.useCallback)((a,b)=>c=>{t?.(a.date,b,c)},[t]),av=(0,F.useCallback)((a,b)=>c=>{u?.(a.date,b,c)},[u]),aw=(0,F.useCallback)(a=>b=>{let c=Number(b.target.value);T(i.setMonth(i.startOfMonth(a),c))},[i,T]),ax=(0,F.useCallback)(a=>b=>{let c=Number(b.target.value);T(i.setYear(i.startOfMonth(a),c))},[i,T]),{className:ay,style:az}=(0,F.useMemo)(()=>({className:[k[z.Root],d.className].filter(Boolean).join(" "),style:{...y?.[z.Root],...d.style}}),[k,d.className,d.style,y]),aA=(c={"data-mode":(b=d).mode??void 0,"data-required":"required"in b?b.required:void 0,"data-multiple-months":b.numberOfMonths&&b.numberOfMonths>1||void 0,"data-week-numbers":b.showWeekNumber||void 0,"data-broadcast-calendar":b.broadcastCalendar||void 0,"data-nav-layout":b.navLayout||void 0},Object.entries(b).forEach(([a,b])=>{a.startsWith("data-")&&(c[a]=b)}),c),aB=(0,F.useRef)(null);!function(a,b,{classNames:c,months:d,focused:e,dateLib:f}){let g=(0,F.useRef)(null),h=(0,F.useRef)(d),i=(0,F.useRef)(!1);(0,F.useLayoutEffect)(()=>{let j=h.current;if(h.current=d,!b||!a.current||!(a.current instanceof HTMLElement)||0===d.length||0===j.length||d.length!==j.length)return;let k=f.isSameMonth(d[0].date,j[0].date),l=f.isAfter(d[0].date,j[0].date),m=l?c[C.caption_after_enter]:c[C.caption_before_enter],n=l?c[C.weeks_after_enter]:c[C.weeks_before_enter],o=g.current,p=a.current.cloneNode(!0);if(p instanceof HTMLElement?(ky(p).forEach(a=>{if(!(a instanceof HTMLElement))return;let b=kx(a.querySelector("[data-animated-month]"));b&&a.contains(b)&&a.removeChild(b);let c=kz(a);c&&c.classList.remove(m);let d=kA(a);d&&d.classList.remove(n)}),g.current=p):g.current=null,i.current||k||e)return;let q=o instanceof HTMLElement?ky(o):[],r=ky(a.current);if(r?.every(a=>a instanceof HTMLElement)&&q&&q.every(a=>a instanceof HTMLElement)){i.current=!0;let b=[];a.current.style.isolation="isolate";let d=kx(a.current.querySelector("[data-animated-nav]"));d&&(d.style.zIndex="1"),r.forEach((e,f)=>{let g=q[f];if(!g)return;e.style.position="relative",e.style.overflow="hidden";let h=kz(e);h&&h.classList.add(m);let j=kA(e);j&&j.classList.add(n);let k=()=>{i.current=!1,a.current&&(a.current.style.isolation=""),d&&(d.style.zIndex=""),h&&h.classList.remove(m),j&&j.classList.remove(n),e.style.position="",e.style.overflow="",e.contains(g)&&e.removeChild(g)};b.push(k),g.style.pointerEvents="none",g.style.position="absolute",g.style.overflow="hidden",g.setAttribute("aria-hidden","true");let o=kx(g.querySelector("[data-animated-weekdays]"));o&&(o.style.opacity="0");let p=kz(g);p&&(p.classList.add(l?c[C.caption_before_exit]:c[C.caption_after_exit]),p.addEventListener("animationend",k));let r=kA(g);r&&r.classList.add(l?c[C.weeks_before_exit]:c[C.weeks_after_exit]),e.insertBefore(g,e.firstChild)})}})}(aB,!!d.animate,{classNames:k,months:O,focused:Z,dateLib:i});let aC={dayPickerProps:d,selected:X,select:W,isSelected:V,months:O,nextMonth:S,previousMonth:R,goToMonth:T,getModifiers:U,components:f,classNames:k,styles:y,labels:h,formatters:g};return F.default.createElement(jY.Provider,{value:aC},F.default.createElement(f.Root,{rootRef:d.animate?aB:void 0,className:ay,style:az,dir:d.dir,id:d.id,lang:d.lang,nonce:d.nonce,title:d.title,role:d.role,"aria-label":d["aria-label"],"aria-labelledby":d["aria-labelledby"],...aA},F.default.createElement(f.Months,{className:k[z.Months],style:y?.[z.Months]},!d.hideNavigation&&!n&&F.default.createElement(f.Nav,{"data-animated-nav":d.animate?"true":void 0,className:k[z.Nav],style:y?.[z.Nav],"aria-label":af(),onPreviousClick:ao,onNextClick:ap,previousMonth:R,nextMonth:S}),O.map((a,b)=>{let c,e;return F.default.createElement(f.Month,{"data-animated-month":d.animate?"true":void 0,className:k[z.Month],style:y?.[z.Month],key:b,displayIndex:b,calendarMonth:a},"around"===n&&!d.hideNavigation&&0===b&&F.default.createElement(f.PreviousMonthButton,{type:"button",className:k[z.PreviousMonthButton],tabIndex:R?void 0:-1,"aria-disabled":!R||void 0,"aria-label":ag(R),onClick:ao,"data-animated-button":d.animate?"true":void 0},F.default.createElement(f.Chevron,{disabled:!R||void 0,className:k[z.Chevron],orientation:"rtl"===d.dir?"right":"left"})),F.default.createElement(f.MonthCaption,{"data-animated-caption":d.animate?"true":void 0,className:k[z.MonthCaption],style:y?.[z.MonthCaption],calendarMonth:a,displayIndex:b},l?.startsWith("dropdown")?F.default.createElement(f.DropdownNav,{className:k[z.Dropdowns],style:y?.[z.Dropdowns]},(c="dropdown"===l||"dropdown-months"===l?F.default.createElement(f.MonthsDropdown,{key:"month",className:k[z.MonthsDropdown],"aria-label":ae(),classNames:k,components:f,disabled:!!d.disableNavigation,onChange:aw(a.date),options:function(a,b,c,d,e){let{startOfMonth:f,startOfYear:g,endOfYear:h,eachMonthOfInterval:i,getMonth:j}=e;return i({start:g(a),end:h(a)}).map(a=>{let g=d.formatMonthDropdown(a,e);return{value:j(a),label:g,disabled:b&&a<f(b)||c&&a>f(c)||!1}})}(a.date,P,Q,g,i),style:y?.[z.Dropdown],value:i.getMonth(a.date)}):F.default.createElement("span",{key:"month"},H(a.date,i)),e="dropdown"===l||"dropdown-years"===l?F.default.createElement(f.YearsDropdown,{key:"year",className:k[z.YearsDropdown],"aria-label":al(i.options),classNames:k,components:f,disabled:!!d.disableNavigation,onChange:ax(a.date),options:function(a,b,c,d,e=!1){if(!a||!b)return;let{startOfYear:f,endOfYear:g,eachYearOfInterval:h,getYear:i}=d,j=h({start:f(a),end:g(b)});return e&&j.reverse(),j.map(a=>{let b=c.formatYearDropdown(a,d);return{value:i(a),label:b,disabled:!1}})}(P,Q,g,i,!!d.reverseYears),style:y?.[z.Dropdown],value:i.getYear(a.date)}):F.default.createElement("span",{key:"year"},L(a.date,i)),"year-first"===i.getMonthYearOrder()?[e,c]:[c,e]),F.default.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},E(a.date,i.options,i))):F.default.createElement(f.CaptionLabel,{className:k[z.CaptionLabel],role:"status","aria-live":"polite"},E(a.date,i.options,i))),"around"===n&&!d.hideNavigation&&b===o-1&&F.default.createElement(f.NextMonthButton,{type:"button",className:k[z.NextMonthButton],tabIndex:S?void 0:-1,"aria-disabled":!S||void 0,"aria-label":ah(S),onClick:ap,"data-animated-button":d.animate?"true":void 0},F.default.createElement(f.Chevron,{disabled:!S||void 0,className:k[z.Chevron],orientation:"rtl"===d.dir?"left":"right"})),b===o-1&&"after"===n&&!d.hideNavigation&&F.default.createElement(f.Nav,{"data-animated-nav":d.animate?"true":void 0,className:k[z.Nav],style:y?.[z.Nav],"aria-label":af(),onPreviousClick:ao,onNextClick:ap,previousMonth:R,nextMonth:S}),F.default.createElement(f.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===m||"range"===m,"aria-label":ad(a.date,i.options,i)||void 0,className:k[z.MonthGrid],style:y?.[z.MonthGrid]},!d.hideWeekdays&&F.default.createElement(f.Weekdays,{"data-animated-weekdays":d.animate?"true":void 0,className:k[z.Weekdays],style:y?.[z.Weekdays]},x&&F.default.createElement(f.WeekNumberHeader,{"aria-label":ak(i.options),className:k[z.WeekNumberHeader],style:y?.[z.WeekNumberHeader],scope:"col"},J()),am.map(a=>F.default.createElement(f.Weekday,{"aria-label":ai(a,i.options,i),className:k[z.Weekday],key:String(a),style:y?.[z.Weekday],scope:"col"},K(a,i.options,i)))),F.default.createElement(f.Weeks,{"data-animated-weeks":d.animate?"true":void 0,className:k[z.Weeks],style:y?.[z.Weeks]},a.weeks.map(a=>F.default.createElement(f.Week,{className:k[z.Week],key:a.weekNumber,style:y?.[z.Week],week:a},x&&F.default.createElement(f.WeekNumber,{week:a,style:y?.[z.WeekNumber],"aria-label":aj(a.weekNumber,{locale:j}),className:k[z.WeekNumber],scope:"row",role:"rowheader"},I(a.weekNumber,i)),a.days.map(a=>{let{date:b}=a,c=U(a);if(c[A.focused]=!c.hidden&&!!Z?.isEqualTo(a),c[B.selected]=V?.(b)||c.selected,jG(X)){let{from:a,to:d}=X;c[B.range_start]=!!(a&&d&&i.isSameDay(b,a)),c[B.range_end]=!!(a&&d&&i.isSameDay(b,d)),c[B.range_middle]=jE(X,b,!0,i)}let e=function(a,b={},c={}){let d={...b?.[z.Day]};return Object.entries(a).filter(([,a])=>!0===a).forEach(([a])=>{d={...d,...c?.[a]}}),d}(c,y,d.modifiersStyles),g=function(a,b,c={}){return Object.entries(a).filter(([,a])=>!0===a).reduce((a,[d])=>(c[d]?a.push(c[d]):b[A[d]]?a.push(b[A[d]]):b[B[d]]&&a.push(b[B[d]]),a),[b[z.Day]])}(c,k,d.modifiersClassNames),h=an||c.hidden?void 0:ac(b,c,i.options,i);return F.default.createElement(f.Day,{key:`${a.isoDate}_${a.displayMonthId}`,day:a,modifiers:c,className:g.join(" "),style:e,role:"gridcell","aria-selected":c.selected||void 0,"aria-label":h,"data-day":a.isoDate,"data-month":a.outside?a.dateMonthId:void 0,"data-selected":c.selected||void 0,"data-disabled":c.disabled||void 0,"data-hidden":c.hidden||void 0,"data-outside":a.outside||void 0,"data-focused":c.focused||void 0,"data-today":c.today||void 0},!c.hidden&&an?F.default.createElement(f.DayButton,{className:k[z.DayButton],style:y?.[z.DayButton],type:"button",day:a,modifiers:c,disabled:!c.focused&&c.disabled||void 0,"aria-disabled":c.focused&&c.disabled||void 0,tabIndex:$(a)?0:-1,"aria-label":ab(b,c,i.options,i),onClick:aq(a,c),onBlur:as(a,c),onFocus:ar(a,c),onKeyDown:at(a,c),onMouseEnter:au(a,c),onMouseLeave:av(a,c)},G(b,i.options,i)):!c.hidden&&G(a.date,i.options,i))}))))))})),d.footer&&F.default.createElement(f.Footer,{className:k[z.Footer],style:y?.[z.Footer],role:"status","aria-live":"polite"},d.footer)))}(y=D||(D={}))[y.Today=0]="Today",y[y.Selected=1]="Selected",y[y.LastFocused=2]="LastFocused",y[y.FocusedModifier=3]="FocusedModifier";var kM=a.i(68114),kN=a.i(99570);function kO({className:a,classNames:b,showOutsideDays:c=!0,...d}){return(0,E.jsx)(kL,{showOutsideDays:c,className:(0,kM.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,kM.cn)((0,kN.buttonVariants)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,kM.cn)((0,kN.buttonVariants)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...b},components:{IconLeft:a=>(0,E.jsx)(iJ,{className:"h-4 w-4",...a}),IconRight:a=>(0,E.jsx)(iK,{className:"h-4 w-4",...a})},...d})}kO.displayName="Calendar";var kP=a.i(7554),kQ=a.i(70121),kR=a.i(50104),kS=a.i(96743),kT=a.i(86228),kU=a.i(22297),kV=a.i(92843),kW=a.i(4691),kX=a.i(92616),kY=a.i(77192),kZ=a.i(30553),k$=Symbol("radix.slottable");function k_(a){return F.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===k$}var k0=a.i(25152),k1=a.i(41852),k2=a.i(52081),k3="Popover",[k4,k5]=(0,kR.createContextScope)(k3,[kW.createPopperScope]),k6=(0,kW.createPopperScope)(),[k7,k8]=k4(k3),k9=a=>{let{__scopePopover:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:g=!1}=a,h=k6(b),i=F.useRef(null),[j,k]=F.useState(!1),[l,m]=(0,k0.useControllableState)({prop:d,defaultProp:e??!1,onChange:f,caller:k3});return(0,E.jsx)(kW.Root,{...h,children:(0,E.jsx)(k7,{scope:b,contentId:(0,kV.useId)(),triggerRef:i,open:l,onOpenChange:m,onOpenToggle:F.useCallback(()=>m(a=>!a),[m]),hasCustomAnchor:j,onCustomAnchorAdd:F.useCallback(()=>k(!0),[]),onCustomAnchorRemove:F.useCallback(()=>k(!1),[]),modal:g,children:c})})};k9.displayName=k3;var la="PopoverAnchor";F.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=k8(la,c),f=k6(c),{onCustomAnchorAdd:g,onCustomAnchorRemove:h}=e;return F.useEffect(()=>(g(),()=>h()),[g,h]),(0,E.jsx)(kW.Anchor,{...f,...d,ref:b})}).displayName=la;var lb="PopoverTrigger",lc=F.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=k8(lb,c),f=k6(c),g=(0,kQ.useComposedRefs)(b,e.triggerRef),h=(0,E.jsx)(kZ.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":lo(e.open),...d,ref:g,onClick:(0,kP.composeEventHandlers)(a.onClick,e.onOpenToggle)});return e.hasCustomAnchor?h:(0,E.jsx)(kW.Anchor,{asChild:!0,...f,children:h})});lc.displayName=lb;var ld="PopoverPortal",[le,lf]=k4(ld,{forceMount:void 0}),lg=a=>{let{__scopePopover:b,forceMount:c,children:d,container:e}=a,f=k8(ld,b);return(0,E.jsx)(le,{scope:b,forceMount:c,children:(0,E.jsx)(kY.Presence,{present:c||f.open,children:(0,E.jsx)(kX.Portal,{asChild:!0,container:e,children:d})})})};lg.displayName=ld;var lh="PopoverContent",li=F.forwardRef((a,b)=>{let c=lf(lh,a.__scopePopover),{forceMount:d=c.forceMount,...e}=a,f=k8(lh,a.__scopePopover);return(0,E.jsx)(kY.Presence,{present:d||f.open,children:f.modal?(0,E.jsx)(lk,{...e,ref:b}):(0,E.jsx)(ll,{...e,ref:b})})});li.displayName=lh;var lj=((s=F.forwardRef((a,b)=>{let{children:c,...d}=a;if(F.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==F.Fragment&&(h.ref=b?(0,kQ.composeRefs)(b,g):g),F.cloneElement(c,h)}return F.Children.count(c)>1?F.Children.only(null):null})).displayName="PopoverContent.RemoveScroll.SlotClone",q=s,(r=F.forwardRef((a,b)=>{let{children:c,...d}=a,e=F.Children.toArray(c),f=e.find(k_);if(f){let a=f.props.children,c=e.map(b=>b!==f?b:F.Children.count(a)>1?F.Children.only(null):F.isValidElement(a)?a.props.children:null);return(0,E.jsx)(q,{...d,ref:b,children:F.isValidElement(a)?F.cloneElement(a,void 0,c):null})}return(0,E.jsx)(q,{...d,ref:b,children:c})})).displayName="PopoverContent.RemoveScroll.Slot",r),lk=F.forwardRef((a,b)=>{let c=k8(lh,a.__scopePopover),d=F.useRef(null),e=(0,kQ.useComposedRefs)(b,d),f=F.useRef(!1);return F.useEffect(()=>{let a=d.current;if(a)return(0,k1.hideOthers)(a)},[]),(0,E.jsx)(k2.RemoveScroll,{as:lj,allowPinchZoom:!0,children:(0,E.jsx)(lm,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,kP.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),f.current||c.triggerRef.current?.focus()}),onPointerDownOutside:(0,kP.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;f.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,kP.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),ll=F.forwardRef((a,b)=>{let c=k8(lh,a.__scopePopover),d=F.useRef(!1),e=F.useRef(!1);return(0,E.jsx)(lm,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),lm=F.forwardRef((a,b)=>{let{__scopePopover:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,disableOutsidePointerEvents:g,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:j,onInteractOutside:k,...l}=a,m=k8(lh,c),n=k6(c);return(0,kT.useFocusGuards)(),(0,E.jsx)(kU.FocusScope,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,E.jsx)(kS.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:g,onInteractOutside:k,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:j,onDismiss:()=>m.onOpenChange(!1),children:(0,E.jsx)(kW.Content,{"data-state":lo(m.open),role:"dialog",id:m.contentId,...n,...l,ref:b,style:{...l.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ln="PopoverClose";function lo(a){return a?"open":"closed"}F.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=k8(ln,c);return(0,E.jsx)(kZ.Primitive.button,{type:"button",...d,ref:b,onClick:(0,kP.composeEventHandlers)(a.onClick,()=>e.onOpenChange(!1))})}).displayName=ln,F.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=k6(c);return(0,E.jsx)(kW.Arrow,{...e,...d,ref:b})}).displayName="PopoverArrow";let lp=F.forwardRef(({className:a,align:b="center",sideOffset:c=4,...d},e)=>(0,E.jsx)(lg,{children:(0,E.jsx)(li,{ref:e,align:b,sideOffset:c,className:(0,kM.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})}));lp.displayName=li.displayName;let lq=(0,iv.getFirestore)(V.app),lr=(0,iw.getStorage)(V.app);function ls({postData:a}){if(!a)return null;let{postType:b,content:c,question:d,pollOptions:e,mediaUrl:f,backgroundColor:g,fontStyle:h,title:i,caption:j}=a;return(0,E.jsxs)("div",{className:"mb-6",children:[(0,E.jsxs)("h4",{className:"font-bold text-sm text-accent-cyan mb-2 flex items-center gap-2",children:[(0,E.jsx)(iI.Eye,{size:16})," Post Preview"]}),(0,E.jsxs)("div",{className:"border border-glass-border rounded-2xl p-4 bg-black/20",children:["text"===b&&(0,E.jsx)("div",{className:`w-full min-h-[100px] p-4 rounded-lg flex items-center justify-center text-center ${h||"font-body"}`,style:{backgroundColor:g||"transparent",backgroundImage:a.backgroundImage?`url(${a.backgroundImage})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:(0,E.jsx)("p",{className:"text-lg",children:c})}),("media"===b||"flash"===b)&&f&&f.length>0&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{className:"font-bold",children:i}),(0,E.jsx)("p",{className:"text-sm text-gray-400",children:j}),(0,E.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2",children:f.map((b,c)=>a.mediaFiles[c]?.type.startsWith("video/")?(0,E.jsx)("video",{src:b,className:"w-full h-auto rounded-md aspect-square object-cover"},c):(0,E.jsx)("img",{src:b,alt:"preview",className:"w-full h-auto rounded-md aspect-square object-cover"},c))})]}),"poll"===b&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{className:"font-bold mb-2",children:d}),(0,E.jsx)("div",{className:"flex flex-col gap-2",children:a.options?.map((a,b)=>(0,E.jsx)("div",{className:"p-2 border border-glass-border rounded-full text-sm text-center",children:a.text},b))})]}),"live"===b&&(0,E.jsxs)("div",{className:"text-center",children:[(0,E.jsx)("p",{className:"font-bold text-red-500",children:"LIVE"}),(0,E.jsx)("p",{children:i||"Live Stream"})]})]})]})}function lt({onNext:a,onBack:b,postData:c}){let[d,e]=(0,F.useState)(!1),[f,g]=(0,F.useState)(),[h,i]=(0,F.useState)("12:00"),[j,k]=(0,F.useState)(!1),[l,m]=(0,F.useState)(null),n=(0,G.useRouter)(),o=async a=>{let b=V.auth.currentUser;if(!b)throw Error("User not logged in");return Promise.all(a.map(async a=>{let c=`${b.uid}-${Date.now()}-${a.name}`,d=(0,iw.ref)(lr,`posts/${b.uid}/${c}`),e=await (0,iw.uploadBytes)(d,a);return(0,iw.getDownloadURL)(e.ref)}))},p=async()=>{k(!0),m(null);let a=V.auth.currentUser;if(!a){alert("You must be logged in to post."),k(!1);return}try{let b,e=[];c.mediaFiles&&c.mediaFiles.length>0&&(e=await o(c.mediaFiles));let g={...c,mediaUrl:e},i=(0,iv.doc)(lq,"users",a.uid),j=await (0,iv.getDoc)(i);if(!j.exists())throw Error("User profile not found!");let k=j.data();if(d&&f&&"live"!==c.postType){let[a,c]=h.split(":"),d=new Date(f);d.setHours(parseInt(a,10)),d.setMinutes(parseInt(c,10)),b=iv.Timestamp.fromDate(d)}else b=(0,iv.serverTimestamp)();let l="live"===c.postType?`${a.uid}-${Date.now()}`:null,m="flash"===c.postType?"flashes":"posts",p=(c.hashtags||"").split(" ").map(a=>a.replace("#","")).filter(Boolean),q={userId:a.uid,displayName:k.name||a.displayName,username:k.username,avatar_url:k.avatar_url,type:c.postType,content:c.content||c.caption||c.question||c.title||"",hashtags:p,createdAt:(0,iv.serverTimestamp)(),publishAt:b,notificationSent:!1,location:c.location||null,mood:c.mood||null,isPortrait:c.isPortrait||!1,videoDuration:c.videoDuration||0,isVideo:c.isVideo||!1,viewCount:0,..."text"===c.postType&&{backgroundColor:c.backgroundColor||null,backgroundImage:c.backgroundImage||null,fontStyle:c.fontStyle||null},..."media"===c.postType&&{mediaUrl:g.mediaUrl&&g.mediaUrl.length>0?g.mediaUrl.length>1?g.mediaUrl:g.mediaUrl[0]:null,title:c.title||"",description:c.description||""},..."flash"===c.postType&&{mediaUrl:g.mediaUrl&&g.mediaUrl.length>0?g.mediaUrl[0]:null,song:c.song||null,expiresAt:new Date(Date.now()+864e5),caption:c.caption||""},..."poll"===c.postType&&{pollOptions:c.options.map(a=>a.text)},..."live"===c.postType&&{livekitRoom:l,title:c.title||"Live Stream",status:d&&"live"!==c.postType?"scheduled":"live"}};await (0,iv.addDoc)((0,iv.collection)(lq,m),q),"live"===c.postType&&l?n.push(`/broadcast/${encodeURIComponent(l)}`):n.push("/home")}catch(a){console.error("Error publishing post:",a),m(a.message)}finally{k(!1)}},q="flash"!==c.postType&&"live"!==c.postType;return(0,E.jsxs)(H.motion.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,E.jsxs)("div",{className:"glass-card p-8",children:[(0,E.jsx)("h2",{className:"text-2xl font-headline text-accent-pink mb-4",children:"Step 2: Publish"}),(0,E.jsx)(ls,{postData:c}),(0,E.jsx)("p",{className:"text-gray-400 mb-6 text-sm",children:"You're ready to publish now or schedule your post for later."}),l&&(0,E.jsxs)(H.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500 text-red-300 p-4 rounded-lg mb-6 flex items-center gap-3",children:[(0,E.jsx)(iG,{size:24}),(0,E.jsxs)("div",{children:[(0,E.jsx)("h4",{className:"font-bold",children:"Publishing Error"}),(0,E.jsx)("p",{className:"text-sm",children:l})]})]}),q&&(0,E.jsxs)("div",{className:"mt-6",children:[(0,E.jsxs)("div",{className:"flex items-center justify-between",children:[(0,E.jsx)("h4",{className:"font-bold text-accent-cyan mb-2",children:"Scheduling"}),(0,E.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,E.jsx)("input",{type:"checkbox",checked:d,onChange:a=>e(a.target.checked),className:"sr-only peer"}),(0,E.jsx)("div",{className:"w-11 h-6 bg-gray-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-accent-cyan peer-checked:after:translate-x-full after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-cyan"})]})]}),d&&(0,E.jsxs)(H.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex flex-col md:flex-row gap-4 mt-4",children:[(0,E.jsxs)(k9,{children:[(0,E.jsx)(lc,{asChild:!0,children:(0,E.jsxs)("button",{className:"btn-glass flex-1 justify-start text-left font-normal",children:[(0,E.jsx)(iH,{className:"mr-2 h-4 w-4"}),f?f.toLocaleDateString():(0,E.jsx)("span",{children:"Pick a date"})]})}),(0,E.jsx)(lp,{className:"w-auto p-0 glass-card",children:(0,E.jsx)(kO,{mode:"single",selected:f,onSelect:g,initialFocus:!0,disabled:a=>a<new Date(new Date().setDate(new Date().getDate()-1))})})]}),(0,E.jsx)("input",{type:"time",value:h,onChange:a=>i(a.target.value),className:"input-glass"})]})]})]}),(0,E.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,E.jsxs)("button",{className:"btn-glass flex items-center gap-2",onClick:b,disabled:j,children:[(0,E.jsx)(iB.ArrowLeft,{})," Back"]}),(0,E.jsxs)("button",{className:"btn-glass bg-green-500 text-white flex items-center gap-2 disabled:bg-gray-500",onClick:p,disabled:j,children:[j?"Publishing...":d&&f&&q?"Schedule Post":"Publish Now"," ",(0,E.jsx)(iF.CheckCircle,{})]})]})]})}function lu(){let a=(0,G.useSearchParams)(),b=(0,G.useRouter)(),c=a.get("type")||void 0,d=a.get("imageUrl"),[e,f]=(0,F.useState)({postType:c,songId:a.get("songId"),mediaUrl:d?[d]:[],mediaFiles:[]}),[g,h]=(0,F.useState)(1),[i,j]=(0,F.useState)(c),[k,l]=(0,F.useState)(!!c);(0,F.useEffect)(()=>{c&&!k&&p(c)},[c,k]);let m=a=>{f(b=>({...b,...a})),h(a=>a+1)},n=()=>{h(a=>a-1)},o=a=>{f(b=>({...b,...a}))},p=c=>{j(c),f({postType:c,songId:a.get("songId"),mediaUrl:[],mediaFiles:[]}),h(1),l(!0),b.push(`/create?type=${c}${a.get("songId")?`&songId=${a.get("songId")}`:""}`,{scroll:!1})},q=[(0,E.jsx)(iA,{onNext:m,postType:i,postData:e,onDataChange:o},"step1"),(0,E.jsx)(iE,{onNext:m,onBack:n,postData:e,onDataChange:o},"step2"),(0,E.jsx)(lt,{onBack:n,postData:e},"step3")];return(0,E.jsxs)("div",{className:"w-full max-w-4xl mx-auto flex flex-col items-center p-4 min-h-screen",children:[(0,E.jsx)("h1",{className:"text-3xl font-headline font-bold text-accent-cyan mb-8",children:"Create Your Vibe"}),!k&&(0,E.jsxs)(H.motion.div,{className:"flex flex-col md:flex-row gap-4 mb-8 w-full md:w-auto",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},children:[(0,E.jsxs)(H.motion.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>p("text"),className:`w-full p-4 rounded-lg font-bold text-lg flex items-center justify-start gap-4 transition-colors glass-card ${"text"===i?"bg-accent-cyan text-black":"bg-transparent text-gray-300"}`,children:[(0,E.jsx)(J.AlignLeft,{}),"Text Post"]}),(0,E.jsxs)(H.motion.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>p("flash"),className:`w-full p-4 rounded-lg font-bold text-lg flex items-center justify-start gap-4 transition-colors glass-card ${"flash"===i?"bg-accent-cyan text-black":"bg-transparent text-gray-300"}`,children:[(0,E.jsx)(N.Zap,{}),"Flash"]}),(0,E.jsxs)(H.motion.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>p("media"),className:`w-full p-4 rounded-lg font-bold text-lg flex items-center justify-start gap-4 transition-colors glass-card ${"media"===i?"bg-accent-cyan text-black":"bg-transparent text-gray-300"}`,children:[(0,E.jsx)(K.Image,{}),"Media"]}),(0,E.jsxs)(H.motion.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>p("live"),className:`w-full p-4 rounded-lg font-bold text-lg flex items-center justify-start gap-4 transition-colors glass-card ${"live"===i?"bg-red-500 text-black":"bg-transparent text-red-400"}`,children:[(0,E.jsx)(M.Radio,{}),"Live"]}),(0,E.jsxs)(H.motion.button,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},onClick:()=>p("poll"),className:`w-full p-4 rounded-lg font-bold text-lg flex items-center justify-start gap-4 transition-colors glass-card ${"poll"===i?"bg-accent-cyan text-black":"bg-transparent text-gray-300"}`,children:[(0,E.jsx)(L.BarChart3,{}),"Poll"]})]}),k&&i&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"w-full max-w-lg mb-8",children:[(0,E.jsx)("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400",children:["Details","Filter","Publish"].map(a=>(0,E.jsx)("span",{children:a},a))}),(0,E.jsx)("div",{className:"relative w-full h-4 mt-1",children:(0,E.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 200 10",preserveAspectRatio:"none",className:"absolute top-0 left-0",children:[(0,E.jsxs)("defs",{children:[(0,E.jsx)("clipPath",{id:"heptagonClip",children:(0,E.jsx)("path",{d:"M0,5 L20,0 L90,2 L150,0 L200,5 L160,10 L80,9 L30,10 Z"})}),(0,E.jsxs)("linearGradient",{id:"paint0_linear_7_9",x1:"0",y1:"5",x2:"200",y2:"5",gradientUnits:"userSpaceOnUse",children:[(0,E.jsx)("stop",{stopColor:"var(--accent-pink)"}),(0,E.jsx)("stop",{offset:"1",stopColor:"var(--accent-cyan)"})]})]}),(0,E.jsxs)("g",{clipPath:"url(#heptagonClip)",children:[(0,E.jsx)("rect",{x:"0",y:"0",width:"200",height:"10",className:"text-black/20",fill:"currentColor"}),(0,E.jsx)(H.motion.rect,{x:"0",y:"0",height:"10",fill:"url(#paint0_linear_7_9)",initial:{width:0},animate:{width:(g-1)/2*200},transition:{duration:.5,ease:"easeInOut"}})]})]})})]}),(0,E.jsx)(I.AnimatePresence,{mode:"wait",children:(0,E.jsx)(H.motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full max-w-2xl",children:q[g-1]},g)})]})]})}function lv(){return(0,E.jsx)(F.Suspense,{fallback:(0,E.jsx)("div",{children:"Loading..."}),children:(0,E.jsx)(lu,{})})}a.s(["default",()=>lv],55185)}];

//# sourceMappingURL=src_app_create_page_tsx_b2798102._.js.map