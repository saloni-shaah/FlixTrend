module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d.TEMPORARY="temporary",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(72131)),g=a.r(67009),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},90845,a=>{"use strict";var b=a.i(87924),c=a.i(24677);function d(){return(0,b.jsx)("div",{className:"relative w-full h-96 flex flex-col items-center justify-center text-center overflow-hidden rounded-2xl bg-black/50 p-4",children:(0,b.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[(0,b.jsx)(c.FlixTrendLogo,{size:80}),(0,b.jsx)("h1",{className:"text-3xl font-headline text-accent-cyan font-bold mt-4 animate-glow",children:"FlixTrend"}),(0,b.jsx)("p",{className:"mt-4 text-sm text-gray-400 max-w-sm animate-pulse",children:"Loading the latest vibes from across the universe..."})]})})}a.s(["VibeSpaceLoader",()=>d])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},40296,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(210),f=a.i(90166),g=a.i(16201),h=a.i(25408);a.i(69387);var i=a.i(60574),j=a.i(90845);function k(){let[a,k]=(0,c.useState)(h.auth.currentUser),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)("1000"),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{let a=h.auth.onAuthStateChanged(a=>{if(k(a),a){let b=(0,i.doc)(h.db,"users",a.uid),c=(0,i.onSnapshot)(b,a=>{a.exists()&&m(a.data()),o(!1)});return()=>c()}o(!1)});return()=>a()},[]),(0,c.useEffect)(()=>{"function"==typeof window.onGooglePayLoaded&&window.onGooglePayLoaded();let b=async b=>{s(!0);let{token:c,amount:d}=b.detail;if(console.log("Processing payment on client...",{token:c,paidAmount:d}),a&&d)try{let b=(0,i.doc)(h.db,"users",a.uid);await (0,i.updateDoc)(b,{credits:(0,i.increment)(parseFloat(d))}),u(!0)}catch(a){console.error("Error updating credits:",a),alert("There was an error updating your credits.")}s(!1)};return window.addEventListener("paymentSuccess",b),()=>window.removeEventListener("paymentSuccess",b)},[a]),n)?(0,b.jsx)(j.VibeSpaceLoader,{}):a&&l?t?(0,b.jsx)("div",{className:"w-full max-w-lg mx-auto flex flex-col items-center p-4 text-center mt-12",children:(0,b.jsxs)("div",{className:"glass-card p-8",children:[(0,b.jsx)(g.CheckCircle,{className:"mx-auto text-green-400 mb-4",size:64}),(0,b.jsx)("h2",{className:"text-2xl font-headline font-bold text-green-400",children:"Payment Successful!"}),(0,b.jsx)("p",{className:"text-gray-300 mt-2",children:"Your ad credits have been updated."}),(0,b.jsx)(d.default,{href:"/ad-studio",children:(0,b.jsx)("span",{className:"btn-glass bg-accent-cyan text-black mt-6 inline-block",children:"Back to Dashboard"})})]})}):(0,b.jsxs)("div",{className:"w-full max-w-lg mx-auto flex flex-col items-center p-4 mt-12",children:[(0,b.jsx)(d.default,{href:"/ad-studio",children:(0,b.jsxs)("span",{className:"btn-glass flex items-center gap-2 mb-8 self-start",children:[(0,b.jsx)(e.ArrowLeft,{})," Back to Dashboard"]})}),(0,b.jsxs)("div",{className:"w-full glass-card p-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-headline font-bold text-accent-pink mb-2 text-center",children:"Add Funds"}),(0,b.jsx)("p",{className:"text-center text-gray-400 mb-8",children:"Add credits to your advertising account."}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("p",{className:"font-bold text-accent-cyan",children:"Current Balance"}),(0,b.jsxs)("p",{className:"text-4xl font-bold",children:["â‚¹",l?.credits?.toLocaleString("en-IN")||"0"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"amount",className:"font-bold text-accent-cyan",children:"Amount to Add (INR)"}),(0,b.jsxs)("div",{className:"relative mt-2",children:[(0,b.jsx)(f.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,b.jsx)("input",{type:"number",id:"amount",name:"amount",value:p,onChange:a=>q(a.target.value),className:"input-glass w-full pl-12 text-lg",min:"100",step:"100"})]})]}),(0,b.jsx)("div",{className:"mt-8 flex justify-center",children:(0,b.jsx)("div",{id:"gpay-container","data-amount":p})}),r&&(0,b.jsx)("div",{className:"text-center text-accent-cyan mt-4 animate-pulse",children:"Processing payment..."})]})]}):(0,b.jsx)("div",{className:"text-center p-8",children:"Please log in to manage billing."})}a.s(["default",()=>k])}];

//# sourceMappingURL=_7f4c6c19._.js.map