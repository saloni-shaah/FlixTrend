module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d.TEMPORARY="temporary",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(72131)),g=a.r(67009),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},93482,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(25408);a.i(30485);var g=a.i(31052),h=a.i(46271);function i(){let a=(0,d.useRouter)(),[e,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{(async()=>{if((0,g.isSignInWithEmailLink)(f.auth,window.location.href)){let b=window.localStorage.getItem("emailForSignIn");b||(b=window.prompt("Please provide your email for confirmation"));try{b&&(await (0,g.signInWithEmailLink)(f.auth,b,window.location.href),window.localStorage.removeItem("emailForSignIn"),a.push("/home?new=true"))}catch(a){i("Failed to sign in. The link may have expired or been used already."),console.error("Sign In With Email Link Error:",a)}}else i("Invalid sign-in link.");k(!1)})()},[a]),(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 animate-fade-in",children:(0,b.jsxs)(h.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"glass-card p-8 w-full max-w-md flex flex-col items-center gap-6",children:[(0,b.jsx)("h2",{className:"text-3xl font-headline font-bold text-accent-pink mb-2 text-center",children:j?"Completing Sign In...":"Sign In Complete"}),j&&(0,b.jsx)("div",{className:"text-accent-cyan",children:"Please wait while we sign you in."}),e&&(0,b.jsx)("div",{className:"text-red-400 text-center animate-bounce mt-2",children:e}),!j&&!e&&(0,b.jsx)("div",{className:"text-accent-cyan",children:"You have been successfully signed in!"})]})})}function j({onClose:a}){let[d,e]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),o=async a=>{if(a.preventDefault(),j(""),l(""),!d)return void j("Please enter your email address.");n(!0);try{await (0,g.sendPasswordResetEmail)(f.auth,d),l("Password reset email sent! Please check your inbox (and spam folder).")}catch(a){"auth/user-not-found"===a.code?j("No account found with that email address."):j("Failed to send reset email. Please try again."),console.error("Password Reset Error:",a)}n(!1)};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:a,children:(0,b.jsxs)(h.motion.form,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"glass-card p-8 w-full max-w-md flex flex-col gap-4",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h2",{className:"text-2xl font-headline font-bold text-accent-cyan mb-2 text-center",children:"Reset Password"}),(0,b.jsx)("p",{className:"text-gray-400 text-center text-sm mb-4",children:"Enter your email to receive a password reset link."}),(0,b.jsx)("input",{type:"email",placeholder:"Email",className:"input-glass w-full",value:d,onChange:a=>e(a.target.value),required:!0}),i&&(0,b.jsx)("div",{className:"text-red-400 text-center animate-bounce mt-2",children:i}),k&&(0,b.jsx)("div",{className:"text-accent-cyan text-center mt-2",children:k}),(0,b.jsx)("button",{type:"submit",className:"btn-glass mt-4 bg-accent-cyan/80 text-black",disabled:m,children:m?"Sending...":"Send Reset Link"}),(0,b.jsx)("button",{type:"button",className:"text-center text-sm text-gray-400 mt-2 hover:underline",onClick:a,children:"Back to Login"})]})})}function k(){let[a,i]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),w=(0,d.useRouter)(),x=async b=>{b.preventDefault(),n(""),p(!0);try{await (0,g.signInWithEmailAndPassword)(f.auth,a,k),w.push("/home?new=true")}catch(a){n(a.message)}p(!1)},y=async()=>{if(!a)return void n("Please enter your email to receive a sign-in link.");n(""),v(!0);let b={url:`${window.location.origin}/login?finish=true`,handleCodeInApp:!0};try{await (0,g.sendSignInLinkToEmail)(f.auth,a,b),window.localStorage.setItem("emailForSignIn",a),alert("A sign-in link has been sent to your email address.")}catch(a){n(a.message)}v(!1)};return(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 animate-fade-in",children:[(0,b.jsxs)(h.motion.form,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:x,className:"glass-card p-8 w-full max-w-md flex flex-col gap-6",children:[(0,b.jsx)("h2",{className:"text-3xl font-headline font-bold text-accent-pink mb-2 text-center",children:"Welcome Back"}),(0,b.jsx)("p",{className:"text-accent-cyan text-center mb-4",children:"Login to FlixTrend"}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("input",{type:"email",placeholder:"Email",className:"input-glass w-full",value:a,onChange:a=>i(a.target.value),required:!0}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:q?"text":"password",placeholder:"Password",className:"input-glass w-full",value:k,onChange:a=>l(a.target.value)}),(0,b.jsx)("button",{type:"button",onClick:()=>r(!q),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-white",children:q?"Hide":"Show"})]})]}),(0,b.jsx)("div",{className:"text-right -mt-2",children:(0,b.jsx)("button",{type:"button",onClick:()=>t(!0),className:"text-xs text-accent-cyan hover:underline",children:"Forgot Password?"})}),m&&(0,b.jsx)("div",{className:"text-red-400 text-center animate-bounce mt-2",children:m}),(0,b.jsx)(h.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"btn-glass mt-4 bg-accent-pink/80",disabled:o,children:o?"Logging in...":"Login"}),(0,b.jsxs)("div",{className:"relative flex py-2 items-center",children:[(0,b.jsx)("div",{className:"flex-grow border-t border-gray-600"}),(0,b.jsx)("span",{className:"flex-shrink mx-4 text-gray-400",children:"Or"}),(0,b.jsx)("div",{className:"flex-grow border-t border-gray-600"})]}),(0,b.jsx)(h.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:y,className:"btn-glass bg-accent-cyan/80 text-black",disabled:u,children:u?"Sending link...":"Login with Email Link"}),(0,b.jsxs)("div",{className:"text-center mt-2",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Don\\'t have an account? "}),(0,b.jsx)(e.default,{href:"/signup",className:"text-accent-cyan hover:underline",children:"Sign up"})]}),(0,b.jsxs)("div",{className:"text-center mt-2 text-xs text-gray-400",children:[(0,b.jsx)(e.default,{href:"/terms",className:"hover:text-accent-cyan hover:underline",children:"Terms of Service"}),(0,b.jsx)("span",{className:"mx-2",children:"|"}),(0,b.jsx)(e.default,{href:"/privacy",className:"hover:text-accent-cyan hover:underline",children:"Privacy Policy"})]})]}),s&&(0,b.jsx)(j,{onClose:()=>t(!1)})]})}function l(){return(0,d.useSearchParams)().get("finish")?(0,b.jsx)(i,{}):(0,b.jsx)(k,{})}function m(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:(0,b.jsx)(l,{})})}a.s(["default",()=>m],93482)}];

//# sourceMappingURL=_7e6d74c1._.js.map