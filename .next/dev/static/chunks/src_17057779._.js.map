{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/admin/AdminDashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase'; // Assuming you have a firebase config file\n\n// This is a placeholder for a real authentication hook\nconst useAuth = () => {\n  // In a real app, you'd get the user from your auth provider\n  const [user, setUser] = useState({ uid: 'some-user-id', role: 'founder' }); //- FOR TESTING, REMOVE LATER\n  return { user };\n};\n\nexport default function AdminDashboard() {\n  const { user } = useAuth();\n  const [prompt, setPrompt] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isFounder, setIsFounder] = useState(false);\n\n  useEffect(() => {\n    async function checkUserRole() {\n      if (user) {\n        const userDocRef = doc(db, 'users', user.uid);\n        const userDoc = await getDoc(userDocRef);\n        if (userDoc.exists()) {\n          const userData = userDoc.data();\n          setIsFounder(userData.role === 'founder');\n        }\n      }\n      setIsLoading(false);\n    }\n\n    checkUserRole();\n  }, [user]);\n\n  useEffect(() => {\n    async function fetchPrompt() {\n      const promptDocRef = doc(db, 'prompts', 'current');\n      const promptDoc = await getDoc(promptDocRef);\n      if (promptDoc.exists()) {\n        setPrompt(promptDoc.data().text);\n      }\n    }\n\n    fetchPrompt();\n  }, []);\n\n  const handleSavePrompt = async () => {\n    const promptDocRef = doc(db, 'prompts', 'current');\n    await setDoc(promptDocRef, { text: prompt });\n    alert('Prompt saved!');\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!isFounder) {\n    return <div>You do not have permission to access this page.</div>;\n  }\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h1 className=\"text-2xl font-bold mb-4\">Admin Dashboard</h1>\n      <div className=\"flex flex-col gap-4\">\n        <textarea\n          className=\"p-2 border rounded\"\n          rows={4}\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          placeholder=\"Enter the new prompt for the drop\"\n        />\n        <button\n          className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n          onClick={handleSavePrompt}\n        >\n          Save Prompt\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;;;;;;AAHA;;;;AAMA,uDAAuD;AACvD,MAAM,UAAU;;IACd,4DAA4D;IAC5D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;QAAE,KAAK;QAAgB,MAAM;IAAU,IAAI,6BAA6B;IACzG,OAAO;QAAE;IAAK;AAChB;GAJM;AAMS,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;oCAAC;YACR,eAAe;gBACb,IAAI,MAAM;oBACR,MAAM,aAAa,IAAA,yKAAG,EAAC,IAAI,SAAS,KAAK,GAAG;oBAC5C,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC;oBAC7B,IAAI,QAAQ,MAAM,IAAI;wBACpB,MAAM,WAAW,QAAQ,IAAI;wBAC7B,aAAa,SAAS,IAAI,KAAK;oBACjC;gBACF;gBACA,aAAa;YACf;YAEA;QACF;mCAAG;QAAC;KAAK;IAET,IAAA,0KAAS;oCAAC;YACR,eAAe;gBACb,MAAM,eAAe,IAAA,yKAAG,EAAC,IAAI,WAAW;gBACxC,MAAM,YAAY,MAAM,IAAA,4KAAM,EAAC;gBAC/B,IAAI,UAAU,MAAM,IAAI;oBACtB,UAAU,UAAU,IAAI,GAAG,IAAI;gBACjC;YACF;YAEA;QACF;mCAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB,MAAM,eAAe,IAAA,yKAAG,EAAC,IAAI,WAAW;QACxC,MAAM,IAAA,4KAAM,EAAC,cAAc;YAAE,MAAM;QAAO;QAC1C,MAAM;IACR;IAEA,IAAI,WAAW;QACb,qBAAO,6LAAC;sBAAI;;;;;;IACd;IAEA,IAAI,CAAC,WAAW;QACd,qBAAO,6LAAC;sBAAI;;;;;;IACd;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,MAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;;;;;;kCAEd,6LAAC;wBACC,WAAU;wBACV,SAAS;kCACV;;;;;;;;;;;;;;;;;;AAMT;IApEwB;;QACL;;;KADK"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/admin/page.tsx"],"sourcesContent":["'use client';\n\nimport AdminDashboard from '@/components/admin/AdminDashboard';\n\nexport default function AdminPage() {\n  return <AdminDashboard />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,2JAAc;;;;;AACxB;KAFwB"}}]
}