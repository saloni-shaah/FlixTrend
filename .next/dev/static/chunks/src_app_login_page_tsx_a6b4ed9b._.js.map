{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/login/page.tsx"],"sourcesContent":["\n\"use client\";\nimport React, { useState, Suspense } from \"react\";\nimport { useSearchParams } from 'next/navigation';\nimport Link from \"next/link\";\nimport { auth } from \"@/utils/firebaseClient\";\nimport { \n    signInWithEmailAndPassword, \n    sendPasswordResetEmail, \n    sendSignInLinkToEmail\n} from \"firebase/auth\";\nimport { useRouter } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\nimport LoginWithEmail from \"./LoginWithEmail\";\n\n// ... (ForgotPasswordModal remains the same)\n\nfunction LoginPageContent() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [passwordlessLoading, setPasswordlessLoading] = useState(false);\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      router.push(\"/home?new=true\");\n    } catch (err: any) {\n      let errorMessage = \"An unexpected error occurred. Please try again.\";\n      switch (err.code) {\n        case \"auth/wrong-password\":\n        case \"auth/invalid-credential\":\n          errorMessage = \"Incorrect email or password. Please try again.\";\n          break;\n        case \"auth/user-not-found\":\n          errorMessage = \"No account found with this email. Please sign up.\";\n          break;\n        case \"auth/invalid-email\":\n          errorMessage = \"Please enter a valid email address.\";\n          break;\n      }\n      setError(errorMessage);\n    }\n    setLoading(false);\n  };\n\n  const handlePasswordlessLogin = async () => {\n    if (!email) {\n      setError(\"Please enter your email to receive a sign-in link.\");\n      return;\n    }\n    setError(\"\");\n    setPasswordlessLoading(true);\n    const actionCodeSettings = {\n      url: `${window.location.origin}/login?finish=true`,\n      handleCodeInApp: true,\n    };\n    try {\n      await sendSignInLinkToEmail(auth, email, actionCodeSettings);\n      window.localStorage.setItem('emailForSignIn', email);\n      alert('A sign-in link has been sent to your email address.');\n    } catch (err: any) {\n      setError(err.message);\n    }\n    setPasswordlessLoading(false);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 animate-fade-in\">\n      <motion.form\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        onSubmit={handleSubmit}\n        className=\"glass-card p-8 w-full max-w-md flex flex-col gap-6\"\n      >\n        <div id=\"recaptcha-container\"></div>\n        <h2 className=\"text-3xl font-headline font-bold text-accent-pink mb-2 text-center\">Welcome Back</h2>\n        <p className=\"text-accent-cyan text-center mb-4\">Login to FlixTrend</p>\n        {/* ... (rest of the form remains the same) ... */}\n      </motion.form>\n      {showForgotPassword && <ForgotPasswordModal onClose={() => setShowForgotPassword(false)} />}\n    </div>\n  );\n}\n\n// ... (LoginHandler and LoginPage remain the same)\n"],"names":[],"mappings":";;AAEA;AAGA;AACA;AAAA;AAKA;AACA;;;AAXA;;;;;;AAcA,6CAA6C;AAE7C,SAAS;;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAC;IAC/D,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QACX,IAAI;YACF,MAAM,IAAA,2LAA0B,EAAC,yIAAI,EAAE,OAAO;YAC9C,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,IAAI,eAAe;YACnB,OAAQ,IAAI,IAAI;gBACd,KAAK;gBACL,KAAK;oBACH,eAAe;oBACf;gBACF,KAAK;oBACH,eAAe;oBACf;gBACF,KAAK;oBACH,eAAe;oBACf;YACJ;YACA,SAAS;QACX;QACA,WAAW;IACb;IAEA,MAAM,0BAA0B;QAC9B,IAAI,CAAC,OAAO;YACV,SAAS;YACT;QACF;QACA,SAAS;QACT,uBAAuB;QACvB,MAAM,qBAAqB;YACzB,KAAK,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,kBAAkB,CAAC;YAClD,iBAAiB;QACnB;QACA,IAAI;YACF,MAAM,IAAA,sLAAqB,EAAC,yIAAI,EAAE,OAAO;YACzC,OAAO,YAAY,CAAC,OAAO,CAAC,kBAAkB;YAC9C,MAAM;QACR,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO;QACtB;QACA,uBAAuB;IACzB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uMAAM,CAAC,IAAI;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,UAAU;gBACV,WAAU;;kCAEV,6LAAC;wBAAI,IAAG;;;;;;kCACR,6LAAC;wBAAG,WAAU;kCAAqE;;;;;;kCACnF,6LAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;YAGlD,oCAAsB,6LAAC;gBAAoB,SAAS,IAAM,sBAAsB;;;;;;;;;;;;AAGvF,EAEA,mDAAmD;GA5E1C;;QAQQ,kJAAS;;;KARjB"}}]
}