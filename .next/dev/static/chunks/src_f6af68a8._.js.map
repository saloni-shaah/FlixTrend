{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/games/TicTacToe.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { X, Circle, RotateCcw } from 'lucide-react';\n\nconst lines = [\n    [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows\n    [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns\n    [0, 4, 8], [2, 4, 6], // diagonals\n];\n\nfunction calculateWinner(squares: ('X' | 'O' | null)[]) {\n    for (let i = 0; i < lines.length; i++) {\n        const [a, b, c] = lines[i];\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n            return { winner: squares[a], line: lines[i] };\n        }\n    }\n    return null;\n}\n\n\nfunction Square({ value, onSquareClick, isWinning }: { value: 'X' | 'O' | null, onSquareClick: () => void, isWinning: boolean }) {\n  return (\n    <button \n        className={`w-20 h-20 md:w-24 md:h-24 bg-black/20 flex items-center justify-center transition-all duration-300 ${isWinning ? 'bg-brand-gold/30' : 'hover:bg-accent-cyan/10'}`}\n        onClick={onSquareClick}\n    >\n        {value === 'X' && <X className={`w-12 h-12 transition-colors ${isWinning ? 'text-white' : 'text-accent-pink'}`} />}\n        {value === 'O' && <Circle className={`w-12 h-12 transition-colors ${isWinning ? 'text-white' : 'text-accent-cyan'}`} />}\n    </button>\n  );\n}\n\nfunction Board({ squares, onPlay, xIsNext, winningLine }: { squares: ('X' | 'O' | null)[], onPlay: (i:number) => void, xIsNext: boolean, winningLine: number[] | null }) {\n    const winnerInfo = calculateWinner(squares);\n    const winner = winnerInfo?.winner;\n    \n    let status;\n    if (winner) {\n        status = 'Winner: ' + winner;\n    } else if (squares.every(Boolean)) {\n        status = 'Draw!';\n    } else {\n        status = `Next player: ${xIsNext ? 'X' : 'O'}`;\n    }\n\n    function handleClick(i: number) {\n        if (calculateWinner(squares) || squares[i]) {\n            return;\n        }\n        onPlay(i);\n    }\n    \n    return (\n        <div className=\"flex flex-col items-center gap-4\">\n             <div className={`font-bold text-xl transition-colors ${winner ? 'text-brand-gold' : 'text-gray-300'}`}>{status}</div>\n            <div className=\"grid grid-cols-3 gap-1 bg-accent-cyan/20 p-1 rounded-lg relative\">\n                {squares.map((square, i) => (\n                    <Square key={i} value={square} onSquareClick={() => handleClick(i)} isWinning={winningLine?.includes(i) || false}/>\n                ))}\n                 {winningLine && (\n                    <svg className=\"absolute inset-0 w-full h-full pointer-events-none\" viewBox=\"0 0 100 100\">\n                        <line \n                            x1={getCoord(winningLine[0]).x} y1={getCoord(winningLine[0]).y}\n                            x2={getCoord(winningLine[2]).x} y2={getCoord(winningLine[2]).y}\n                            stroke=\"var(--brand-gold)\" \n                            strokeWidth=\"2\"\n                            strokeLinecap=\"round\"\n                        />\n                    </svg>\n                )}\n            </div>\n        </div>\n    );\n}\n\nfunction getCoord(index: number) {\n    const col = index % 3;\n    const row = Math.floor(index / 3);\n    const x = col * 33.33 + 16.66;\n    const y = row * 33.33 + 16.66;\n    return { x, y };\n}\n\n\nfunction OfflineGame() {\n    const [history, setHistory] = useState([Array(9).fill(null)]);\n    const [currentMove, setCurrentMove] = useState(0);\n    const xIsNext = currentMove % 2 === 0;\n    const currentSquares = history[currentMove];\n    const winnerInfo = calculateWinner(currentSquares);\n\n    function handlePlay(nextSquares: ('X' | 'O' | null)[]) {\n        const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];\n        setHistory(nextHistory);\n        setCurrentMove(nextHistory.length - 1);\n    }\n\n    function onSquareClick(i: number) {\n        const nextSquares = currentSquares.slice();\n        nextSquares[i] = xIsNext ? 'X' : 'O';\n        handlePlay(nextSquares);\n    }\n\n    const resetGame = () => {\n      setHistory([Array(9).fill(null)]);\n      setCurrentMove(0);\n    }\n    \n    return (\n        <div className=\"flex flex-col items-center gap-6\">\n            <Board squares={currentSquares} onPlay={onSquareClick} xIsNext={xIsNext} winningLine={winnerInfo?.line || null}/>\n            <button onClick={resetGame} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2\">\n                <RotateCcw size={16}/> Reset Game\n            </button>\n             {winnerInfo && (\n                <div className=\"text-center\">\n                    <h3 className=\"text-2xl font-bold text-brand-gold animate-bounce\">✨ Winner! ✨</h3>\n                    <p className=\"text-gray-300\">Congratulations to Player {winnerInfo.winner}!</p>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport function TicTacToe() {\n    return (\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"w-full max-w-md glass-card p-8 flex flex-col items-center gap-6\"\n        >\n            <h2 className=\"text-3xl font-headline text-accent-pink\">Tic-Tac-Toe</h2>\n            <OfflineGame />\n        </motion.div>\n    )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;;;AAHA;;;;AAKA,MAAM,QAAQ;IACV;QAAC;QAAG;QAAG;KAAE;IAAE;QAAC;QAAG;QAAG;KAAE;IAAE;QAAC;QAAG;QAAG;KAAE;IAC/B;QAAC;QAAG;QAAG;KAAE;IAAE;QAAC;QAAG;QAAG;KAAE;IAAE;QAAC;QAAG;QAAG;KAAE;IAC/B;QAAC;QAAG;QAAG;KAAE;IAAE;QAAC;QAAG;QAAG;KAAE;CACvB;AAED,SAAS,gBAAgB,OAA6B;IAClD,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACnC,MAAM,CAAC,GAAG,GAAG,EAAE,GAAG,KAAK,CAAC,EAAE;QAC1B,IAAI,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,EAAE,KAAK,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,EAAE,KAAK,OAAO,CAAC,EAAE,EAAE;YACtE,OAAO;gBAAE,QAAQ,OAAO,CAAC,EAAE;gBAAE,MAAM,KAAK,CAAC,EAAE;YAAC;QAChD;IACJ;IACA,OAAO;AACX;AAGA,SAAS,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,SAAS,EAA8E;IAC7H,qBACE,6LAAC;QACG,WAAW,CAAC,mGAAmG,EAAE,YAAY,qBAAqB,2BAA2B;QAC7K,SAAS;;YAER,UAAU,qBAAO,6LAAC,oMAAC;gBAAC,WAAW,CAAC,4BAA4B,EAAE,YAAY,eAAe,oBAAoB;;;;;;YAC7G,UAAU,qBAAO,6LAAC,mNAAM;gBAAC,WAAW,CAAC,4BAA4B,EAAE,YAAY,eAAe,oBAAoB;;;;;;;;;;;;AAG3H;KAVS;AAYT,SAAS,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAiH;IACnK,MAAM,aAAa,gBAAgB;IACnC,MAAM,SAAS,YAAY;IAE3B,IAAI;IACJ,IAAI,QAAQ;QACR,SAAS,aAAa;IAC1B,OAAO,IAAI,QAAQ,KAAK,CAAC,UAAU;QAC/B,SAAS;IACb,OAAO;QACH,SAAS,CAAC,aAAa,EAAE,UAAU,MAAM,KAAK;IAClD;IAEA,SAAS,YAAY,CAAS;QAC1B,IAAI,gBAAgB,YAAY,OAAO,CAAC,EAAE,EAAE;YACxC;QACJ;QACA,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACV,6LAAC;gBAAI,WAAW,CAAC,oCAAoC,EAAE,SAAS,oBAAoB,iBAAiB;0BAAG;;;;;;0BACzG,6LAAC;gBAAI,WAAU;;oBACV,QAAQ,GAAG,CAAC,CAAC,QAAQ,kBAClB,6LAAC;4BAAe,OAAO;4BAAQ,eAAe,IAAM,YAAY;4BAAI,WAAW,aAAa,SAAS,MAAM;2BAA9F;;;;;oBAEf,6BACE,6LAAC;wBAAI,WAAU;wBAAqD,SAAQ;kCACxE,cAAA,6LAAC;4BACG,IAAI,SAAS,WAAW,CAAC,EAAE,EAAE,CAAC;4BAAE,IAAI,SAAS,WAAW,CAAC,EAAE,EAAE,CAAC;4BAC9D,IAAI,SAAS,WAAW,CAAC,EAAE,EAAE,CAAC;4BAAE,IAAI,SAAS,WAAW,CAAC,EAAE,EAAE,CAAC;4BAC9D,QAAO;4BACP,aAAY;4BACZ,eAAc;;;;;;;;;;;;;;;;;;;;;;;AAO1C;MAzCS;AA2CT,SAAS,SAAS,KAAa;IAC3B,MAAM,MAAM,QAAQ;IACpB,MAAM,MAAM,KAAK,KAAK,CAAC,QAAQ;IAC/B,MAAM,IAAI,MAAM,QAAQ;IACxB,MAAM,IAAI,MAAM,QAAQ;IACxB,OAAO;QAAE;QAAG;IAAE;AAClB;AAGA,SAAS;;IACL,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;QAAC,MAAM,GAAG,IAAI,CAAC;KAAM;IAC5D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,UAAU,cAAc,MAAM;IACpC,MAAM,iBAAiB,OAAO,CAAC,YAAY;IAC3C,MAAM,aAAa,gBAAgB;IAEnC,SAAS,WAAW,WAAiC;QACjD,MAAM,cAAc;eAAI,QAAQ,KAAK,CAAC,GAAG,cAAc;YAAI;SAAY;QACvE,WAAW;QACX,eAAe,YAAY,MAAM,GAAG;IACxC;IAEA,SAAS,cAAc,CAAS;QAC5B,MAAM,cAAc,eAAe,KAAK;QACxC,WAAW,CAAC,EAAE,GAAG,UAAU,MAAM;QACjC,WAAW;IACf;IAEA,MAAM,YAAY;QAChB,WAAW;YAAC,MAAM,GAAG,IAAI,CAAC;SAAM;QAChC,eAAe;IACjB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAM,SAAS;gBAAgB,QAAQ;gBAAe,SAAS;gBAAS,aAAa,YAAY,QAAQ;;;;;;0BAC1G,6LAAC;gBAAO,SAAS;gBAAW,WAAU;;kCAClC,6LAAC,gOAAS;wBAAC,MAAM;;;;;;oBAAK;;;;;;;YAExB,4BACE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,6LAAC;wBAAE,WAAU;;4BAAgB;4BAA2B,WAAW,MAAM;4BAAC;;;;;;;;;;;;;;;;;;;AAK9F;GAtCS;MAAA;AAwCF,SAAS;IACZ,qBACI,6LAAC,uMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,OAAO;QAAK;QACnC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,WAAU;;0BAER,6LAAC;gBAAG,WAAU;0BAA0C;;;;;;0BACxD,6LAAC;;;;;;;;;;;AAGb;MAXgB"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/games/Snake.tsx"],"sourcesContent":["\n\"use client\";\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { RotateCcw, ArrowUp, ArrowDown, ArrowLeft, ArrowRight, Apple, Trophy } from 'lucide-react';\n\nconst GRID_SIZE = 20;\nconst TILE_SIZE = 20; // in pixels\n\ntype Direction = 'UP' | 'DOWN' | 'LEFT' | 'RIGHT';\n\nconst getRandomCoordinate = (snakeBody: {x: number, y: number}[]) => {\n    let coordinate;\n    do {\n        coordinate = {\n            x: Math.floor(Math.random() * GRID_SIZE),\n            y: Math.floor(Math.random() * GRID_SIZE),\n        };\n    } while (snakeBody.some(segment => segment.x === coordinate.x && segment.y === coordinate.y));\n    return coordinate;\n};\n\nexport function Snake() {\n    const [snake, setSnake] = useState([{ x: 10, y: 10 }]);\n    const [food, setFood] = useState(getRandomCoordinate(snake));\n    const [direction, setDirection] = useState<Direction>('RIGHT');\n    const [speed, setSpeed] = useState<number | null>(200);\n    const [gameOver, setGameOver] = useState(false);\n    const [score, setScore] = useState(0);\n    const [highScore, setHighScore] = useState(0);\n\n    const gameLoopRef = useRef<NodeJS.Timeout | null>(null);\n    const touchStartRef = useRef<{ x: number, y: number } | null>(null);\n\n\n    // Load high score from local storage\n    useEffect(() => {\n        const storedHighScore = localStorage.getItem('snakeHighScore');\n        if (storedHighScore) {\n            setHighScore(parseInt(storedHighScore, 10));\n        }\n    }, []);\n\n    const changeDirection = useCallback((newDir: Direction) => {\n        setDirection(currentDir => {\n             if (newDir === 'UP' && currentDir !== 'DOWN') return 'UP';\n             if (newDir === 'DOWN' && currentDir !== 'UP') return 'DOWN';\n             if (newDir === 'LEFT' && currentDir !== 'RIGHT') return 'LEFT';\n             if (newDir === 'RIGHT' && currentDir !== 'LEFT') return 'RIGHT';\n             return currentDir;\n        });\n    }, []);\n\n    const handleKeyDown = useCallback((e: KeyboardEvent) => {\n        e.preventDefault(); // Prevent page scrolling with arrow keys\n        switch (e.key) {\n            case 'ArrowUp': changeDirection('UP'); break;\n            case 'ArrowDown': changeDirection('DOWN'); break;\n            case 'ArrowLeft': changeDirection('LEFT'); break;\n            case 'ArrowRight': changeDirection('RIGHT'); break;\n        }\n    }, [changeDirection]);\n\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [handleKeyDown]);\n    \n    const handleTouchStart = (e: React.TouchEvent) => {\n        touchStartRef.current = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n    };\n\n    const handleTouchEnd = (e: React.TouchEvent) => {\n        if (!touchStartRef.current) return;\n        const deltaX = e.changedTouches[0].clientX - touchStartRef.current.x;\n        const deltaY = e.changedTouches[0].clientY - touchStartRef.current.y;\n        \n        if (Math.abs(deltaX) > Math.abs(deltaY)) { // Horizontal swipe\n            if (deltaX > 30) changeDirection('RIGHT');\n            else if (deltaX < -30) changeDirection('LEFT');\n        } else { // Vertical swipe\n            if (deltaY > 30) changeDirection('DOWN');\n            else if (deltaY < -30) changeDirection('UP');\n        }\n        touchStartRef.current = null;\n    };\n\n\n    const resetGame = () => {\n        setSnake([{ x: 10, y: 10 }]);\n        setFood(getRandomCoordinate([{ x: 10, y: 10 }]));\n        setDirection('RIGHT');\n        setGameOver(false);\n        setScore(0);\n        setSpeed(200);\n    };\n\n    const runGame = useCallback(() => {\n        if (gameOver) return;\n\n        setSnake(prevSnake => {\n            const newSnake = [...prevSnake];\n            const head = { ...newSnake[0] };\n\n            switch (direction) {\n                case 'UP': head.y -= 1; break;\n                case 'DOWN': head.y += 1; break;\n                case 'LEFT': head.x -= 1; break;\n                case 'RIGHT': head.x += 1; break;\n            }\n\n            // Wall collision\n            if (head.x < 0 || head.x >= GRID_SIZE || head.y < 0 || head.y >= GRID_SIZE) {\n                setGameOver(true);\n                setSpeed(null);\n                return prevSnake;\n            }\n            \n            // Self collision\n            for (let i = 1; i < newSnake.length; i++) {\n                if (head.x === newSnake[i].x && head.y === newSnake[i].y) {\n                    setGameOver(true);\n                    setSpeed(null);\n                    return prevSnake;\n                }\n            }\n            \n            newSnake.unshift(head);\n\n            // Food collision\n            if (head.x === food.x && head.y === food.y) {\n                const newScore = score + 10;\n                setScore(newScore);\n                if (newScore > highScore) {\n                    setHighScore(newScore);\n                    localStorage.setItem('snakeHighScore', newScore.toString());\n                }\n                setFood(getRandomCoordinate(newSnake));\n                // Increase speed slightly\n                setSpeed(s => Math.max(50, s! * 0.95));\n            } else {\n                newSnake.pop();\n            }\n\n            return newSnake;\n        });\n    }, [direction, food, gameOver, score, highScore]);\n\n\n    useEffect(() => {\n        if (speed !== null && !gameOver) {\n            if (gameLoopRef.current) clearInterval(gameLoopRef.current);\n            gameLoopRef.current = setInterval(runGame, speed);\n        } else if (gameLoopRef.current) {\n            clearInterval(gameLoopRef.current);\n        }\n        return () => {\n            if (gameLoopRef.current) clearInterval(gameLoopRef.current);\n        };\n    }, [runGame, speed, gameOver]);\n\n\n    return (\n        <motion.div \n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"w-full max-w-md glass-card p-6 flex flex-col items-center gap-6\"\n        >\n             <h2 className=\"text-3xl font-headline text-accent-green\">Snake</h2>\n\n            <div className=\"flex justify-between w-full font-bold\">\n                <motion.span animate={{ scale: [1, 1.2, 1] }} transition={{ duration: 0.3, times: [0, 0.5, 1] }} key={score} className=\"text-accent-cyan text-lg\">\n                    Score: {score}\n                </motion.span>\n                <span className=\"text-accent-pink text-lg\">High Score: {highScore}</span>\n            </div>\n\n            <div \n                className=\"grid bg-black/30 border-2 border-accent-cyan/20 relative shadow-[0_0_15px_rgba(0,240,255,0.3)] touch-none\"\n                style={{\n                    gridTemplateColumns: `repeat(${GRID_SIZE}, ${TILE_SIZE}px)`,\n                    gridTemplateRows: `repeat(${GRID_SIZE}, ${TILE_SIZE}px)`,\n                    width: `${GRID_SIZE * TILE_SIZE}px`,\n                    height: `${GRID_SIZE * TILE_SIZE}px`,\n                }}\n                onTouchStart={handleTouchStart}\n                onTouchEnd={handleTouchEnd}\n            >\n                {snake.map((segment, index) => (\n                    <div \n                        key={index} \n                        className={`w-full h-full rounded-sm transition-colors duration-200 ${index === 0 ? 'bg-accent-green shadow-[0_0_8px_rgba(57,255,20,0.7)]' : 'bg-green-400/80'}`} \n                        style={{\n                            gridColumnStart: segment.x + 1,\n                            gridRowStart: segment.y + 1,\n                        }}\n                    />\n                ))}\n                 <div\n                    className=\"flex items-center justify-center text-red-500\"\n                    style={{\n                        gridColumnStart: food.x + 1,\n                        gridRowStart: food.y + 1,\n                    }}\n                 >\n                    <Apple className=\"animate-pulse drop-shadow-[0_0_5px_rgba(255,50,50,0.8)]\"/>\n                 </div>\n            </div>\n\n            {gameOver && (\n                <motion.div \n                    initial={{opacity: 0, y: 10}} \n                    animate={{opacity: 1, y: 0}}\n                    className=\"text-center bg-red-500/10 p-4 rounded-xl border border-red-500/30\"\n                >\n                    <Trophy className=\"mx-auto text-brand-gold mb-2\" size={32}/>\n                    <h3 className=\"text-2xl font-bold text-red-500\">Game Over!</h3>\n                    <p className=\"text-gray-300\">Your final score is {score}.</p>\n                    {score > 0 && score === highScore && <p className=\"font-bold text-brand-gold animate-pulse\">New High Score!</p>}\n                </motion.div>\n            )}\n            \n            <div className=\"flex flex-col items-center gap-4\">\n                {/* Hide controls on mobile, show on medium screens and up */}\n                <div className=\"hidden md:grid grid-cols-3 gap-2\">\n                    <div />\n                    <button className=\"btn-glass p-4\" onClick={() => changeDirection('UP')}><ArrowUp/></button>\n                    <div />\n                    <button className=\"btn-glass p-4\" onClick={() => changeDirection('LEFT')}><ArrowLeft/></button>\n                    <button className=\"btn-glass p-4\" onClick={() => changeDirection('DOWN')}><ArrowDown/></button>\n                    <button className=\"btn-glass p-4\" onClick={() => changeDirection('RIGHT')}><ArrowRight/></button>\n                </div>\n\n                <button onClick={resetGame} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-4\">\n                    <RotateCcw size={16}/> New Game\n                </button>\n            </div>\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 832, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/games/2048.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { RotateCcw, Trophy } from 'lucide-react';\n\nconst GRID_SIZE = 4;\n\nconst TILE_COLORS: { [key: number]: string } = {\n  2: 'bg-gray-700 text-gray-200',\n  4: 'bg-gray-600 text-gray-100',\n  8: 'bg-orange-500 text-white',\n  16: 'bg-orange-600 text-white',\n  32: 'bg-red-500 text-white',\n  64: 'bg-red-600 text-white',\n  128: 'bg-yellow-400 text-black shadow-lg shadow-yellow-400/50',\n  256: 'bg-yellow-500 text-black shadow-lg shadow-yellow-500/50',\n  512: 'bg-yellow-600 text-black shadow-lg shadow-yellow-600/50',\n  1024: 'bg-purple-500 text-white shadow-lg shadow-purple-500/50',\n  2048: 'bg-purple-600 text-white shadow-lg shadow-purple-600/50',\n};\n\nconst createEmptyBoard = () => Array(GRID_SIZE).fill(null).map(() => Array(GRID_SIZE).fill(0));\n\nconst addRandomTile = (board: number[][]) => {\n    const newBoard = board.map(row => [...row]);\n    let added = false;\n    while (!added) {\n        const row = Math.floor(Math.random() * GRID_SIZE);\n        const col = Math.floor(Math.random() * GRID_SIZE);\n        if (newBoard[row][col] === 0) {\n            newBoard[row][col] = Math.random() < 0.9 ? 2 : 4;\n            added = true;\n        }\n    }\n    return newBoard;\n};\n\nconst slide = (row: number[]) => {\n    const arr = row.filter(val => val);\n    const missing = GRID_SIZE - arr.length;\n    const zeros = Array(missing).fill(0);\n    return arr.concat(zeros);\n};\n\nconst combine = (row: number[]) => {\n    let scoreToAdd = 0;\n    for (let i = 0; i < GRID_SIZE - 1; i++) {\n        if (row[i] !== 0 && row[i] === row[i + 1]) {\n            row[i] *= 2;\n            scoreToAdd += row[i];\n            row[i + 1] = 0;\n        }\n    }\n    return { newRow: row, score: scoreToAdd };\n};\n\nconst rotate = (board: number[][]) => {\n    const newBoard = createEmptyBoard();\n    for (let i = 0; i < GRID_SIZE; i++) {\n        for (let j = 0; j < GRID_SIZE; j++) {\n            newBoard[i][j] = board[j][i];\n        }\n    }\n    return newBoard;\n};\n\nconst flip = (board: number[][]) => {\n    return board.map(row => row.slice().reverse());\n};\n\nconst moveLeft = (board: number[][]) => {\n    let totalScore = 0;\n    const newBoard = board.map(row => {\n        let newRow = slide(row);\n        const { newRow: combinedRow, score } = combine(newRow);\n        totalScore += score;\n        return slide(combinedRow);\n    });\n    return { board: newBoard, score: totalScore };\n};\n\nconst moveRight = (board: number[][]) => {\n    const flippedBoard = flip(board);\n    const { board: newBoard, score } = moveLeft(flippedBoard);\n    return { board: flip(newBoard), score: score };\n};\n\nconst moveUp = (board: number[][]) => {\n    const rotatedBoard = rotate(board);\n    const { board: newBoard, score } = moveLeft(rotatedBoard);\n    return { board: rotate(rotate(rotate(newBoard))), score: score };\n};\n\nconst moveDown = (board: number[][]) => {\n    const rotatedBoard = rotate(board);\n    const { board: newBoard, score } = moveRight(rotatedBoard);\n    return { board: rotate(rotate(rotate(newBoard))), score: score };\n};\n\n\nexport function Game2048() {\n    const [board, setBoard] = useState(addRandomTile(addRandomTile(createEmptyBoard())));\n    const [score, setScore] = useState(0);\n    const [highScore, setHighScore] = useState(0);\n    const [gameOver, setGameOver] = useState(false);\n    const [gameWon, setGameWon] = useState(false);\n    const touchStartRef = useRef<{ x: number, y: number } | null>(null);\n\n    useEffect(() => {\n        const storedHighScore = localStorage.getItem('2048HighScore');\n        if (storedHighScore) {\n            setHighScore(parseInt(storedHighScore, 10));\n        }\n    }, []);\n\n    const resetGame = useCallback(() => {\n        setBoard(addRandomTile(addRandomTile(createEmptyBoard())));\n        setScore(0);\n        setGameOver(false);\n        setGameWon(false);\n    }, []);\n\n    const isGameOver = (board: number[][]): boolean => {\n        for (let i = 0; i < GRID_SIZE; i++) {\n            for (let j = 0; j < GRID_SIZE; j++) {\n                if (board[i][j] === 0) return false;\n                if (i < GRID_SIZE - 1 && board[i][j] === board[i + 1][j]) return false;\n                if (j < GRID_SIZE - 1 && board[i][j] === board[i][j + 1]) return false;\n            }\n        }\n        return true;\n    };\n    \n    const handleMove = (newBoard: number[][], scoreGained: number, moved: boolean) => {\n        if(moved) {\n            const boardWithNewTile = addRandomTile(newBoard);\n            setBoard(boardWithNewTile);\n            const newScore = score + scoreGained;\n            setScore(newScore);\n            if (newScore > highScore) {\n                setHighScore(newScore);\n                localStorage.setItem('2048HighScore', newScore.toString());\n            }\n\n            if (!gameWon && boardWithNewTile.some(row => row.includes(2048))) {\n                setGameWon(true);\n            }\n\n            if (isGameOver(boardWithNewTile)) {\n                setGameOver(true);\n            }\n        }\n    };\n\n    const handleKeyDown = useCallback((e: KeyboardEvent) => {\n        if (gameOver) return;\n        let result;\n        const originalBoard = JSON.stringify(board);\n\n        switch (e.key) {\n            case 'ArrowLeft': result = moveLeft(board); break;\n            case 'ArrowRight': result = moveRight(board); break;\n            case 'ArrowUp': result = moveUp(board); break;\n            case 'ArrowDown': result = moveDown(board); break;\n            default: return;\n        }\n        \n        e.preventDefault();\n        const moved = JSON.stringify(result.board) !== originalBoard;\n        handleMove(result.board, result.score, moved);\n\n    }, [board, score, highScore, gameOver, gameWon]);\n    \n    useEffect(() => {\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [handleKeyDown]);\n    \n    const handleTouchStart = (e: React.TouchEvent) => {\n        touchStartRef.current = { x: e.touches[0].clientX, y: e.touches[0].clientY };\n    };\n\n    const handleTouchEnd = (e: React.TouchEvent) => {\n        if (!touchStartRef.current || gameOver) return;\n        const deltaX = e.changedTouches[0].clientX - touchStartRef.current.x;\n        const deltaY = e.changedTouches[0].clientY - touchStartRef.current.y;\n        \n        if (Math.abs(deltaX) < 30 && Math.abs(deltaY) < 30) return;\n\n        let result;\n        const originalBoard = JSON.stringify(board);\n        \n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\n            if (deltaX > 0) result = moveRight(board);\n            else result = moveLeft(board);\n        } else {\n            if (deltaY > 0) result = moveDown(board);\n            else result = moveUp(board);\n        }\n        \n        const moved = JSON.stringify(result.board) !== originalBoard;\n        handleMove(result.board, result.score, moved);\n        touchStartRef.current = null;\n    };\n\n\n    return (\n        <motion.div \n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"w-full max-w-md glass-card p-6 flex flex-col items-center gap-6\"\n        >\n            <h2 className=\"text-3xl font-headline text-accent-cyan\">2048</h2>\n\n             <div className=\"flex justify-between w-full font-bold\">\n                <motion.span animate={{ scale: [1, 1.2, 1] }} transition={{ duration: 0.3, times: [0, 0.5, 1] }} key={score} className=\"text-accent-cyan text-lg\">\n                    Score: {score}\n                </motion.span>\n                <span className=\"text-accent-pink text-lg\">High Score: {highScore}</span>\n            </div>\n\n            <div \n                className=\"grid grid-cols-4 gap-2 bg-black/30 border-2 border-accent-cyan/20 p-2 rounded-lg relative touch-none\"\n                onTouchStart={handleTouchStart}\n                onTouchEnd={handleTouchEnd}\n            >\n                {board.map((row, i) =>\n                    row.map((val, j) => (\n                        <div key={`${i}-${j}`} className={`w-20 h-20 md:w-24 md:h-24 rounded-md flex items-center justify-center font-bold text-2xl md:text-3xl ${val === 0 ? 'bg-gray-800/50' : TILE_COLORS[val] || 'bg-gray-500'}`}>\n                           <AnimatePresence>\n                             {val !== 0 && (\n                                <motion.div\n                                    key={val}\n                                    initial={{ scale: 0.5, opacity: 0 }}\n                                    animate={{ scale: 1, opacity: 1 }}\n                                    exit={{ scale: 0.5, opacity: 0 }}\n                                >\n                                    {val}\n                                </motion.div>\n                             )}\n                           </AnimatePresence>\n                        </div>\n                    ))\n                )}\n                 {(gameOver || gameWon) && (\n                    <motion.div \n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-center p-4 rounded-lg z-10\"\n                    >\n                        <Trophy className={`mx-auto mb-2 ${gameWon && !gameOver ? 'text-brand-gold' : 'text-gray-500'}`} size={32}/>\n                        <h3 className={`text-2xl font-bold ${gameWon && !gameOver ? 'text-green-400' : 'text-red-500'}`}>{gameWon && !gameOver ? \"You Win!\" : \"Game Over!\"}</h3>\n                        <p className=\"text-gray-300\">Your final score is {score}.</p>\n                        {gameWon && !gameOver && <p className=\"text-sm text-gray-400\">Keep going to get an even higher score!</p>}\n                         {gameWon && !gameOver && (\n                            <button onClick={() => setGameWon(false)} className=\"btn-glass bg-accent-purple/20 text-accent-purple text-sm mt-2\">\n                                Keep Playing\n                            </button>\n                        )}\n                    </motion.div>\n                )}\n            </div>\n            \n            <button onClick={resetGame} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-4\">\n                <RotateCcw size={16}/> New Game\n            </button>\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1269, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/games/Match3.tsx"],"sourcesContent":["\n\"use client\";\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { RotateCcw, Star, Gem, Trophy, Move } from 'lucide-react';\n\nconst GRID_SIZE = 8;\nconst TILE_COLORS = ['#FF3CAC', '#00F0FF', '#39FF14', '#FFB400', '#BF00FF', '#FF5F6D'];\n\n// --- LEVEL DEFINITIONS ---\nconst levels = [\n  { level: 1, goal: { type: 'score', value: 1000 }, moves: 20 },\n  { level: 2, goal: { type: 'score', value: 2500 }, moves: 25 },\n  { level: 3, goal: { type: 'clearColor', colorIndex: 2, value: 15 }, moves: 30 }, // Clear 15 green gems\n];\n\nconst hasMatches = (board: (number | null)[][]) => {\n    for (let r = 0; r < GRID_SIZE; r++) {\n        for (let c = 0; c < GRID_SIZE; c++) {\n            if (c < GRID_SIZE - 2 && board[r][c] !== null && board[r][c] === board[r][c + 1] && board[r][c] === board[r][c + 2]) return true;\n            if (r < GRID_SIZE - 2 && board[r][c] !== null && board[r][c] === board[r + 1][c] && board[r][c] === board[r + 2][c]) return true;\n        }\n    }\n    return false;\n}\n\nconst createInitialBoard = () => {\n    const newBoard = Array(GRID_SIZE).fill(null).map(() => Array(GRID_SIZE).fill(null));\n    for (let r = 0; r < GRID_SIZE; r++) {\n        for (let c = 0; c < GRID_SIZE; c++) {\n            newBoard[r][c] = Math.floor(Math.random() * TILE_COLORS.length);\n        }\n    }\n    // Prevent initial matches\n    if (hasMatches(newBoard)) {\n        return createInitialBoard(); // Recurse until a match-free board is made\n    }\n    return newBoard;\n};\n\n\nexport function Match3() {\n    const [currentLevel, setCurrentLevel] = useState(0);\n    const [board, setBoard] = useState<(number | null)[][]>(createInitialBoard());\n    const [score, setScore] = useState(0);\n    const [highScore, setHighScore] = useState(0);\n    const [movesLeft, setMovesLeft] = useState(levels[currentLevel].moves);\n    const [gameState, setGameState] = useState<'playing' | 'won' | 'lost'>('playing');\n    const [goalProgress, setGoalProgress] = useState(0);\n\n    const [selectedTile, setSelectedTile] = useState<{r: number, c: number} | null>(null);\n\n    useEffect(() => {\n        const storedHighScore = localStorage.getItem('match3HighScore');\n        if (storedHighScore) setHighScore(parseInt(storedHighScore, 10));\n    }, []);\n    \n    const checkMatches = useCallback((currentBoard: (number | null)[][]) => {\n        const matches = new Set<string>();\n        // Horizontal\n        for (let r = 0; r < GRID_SIZE; r++) {\n            for (let c = 0; c < GRID_SIZE - 2; c++) {\n                if (currentBoard[r][c] !== null && currentBoard[r][c] === currentBoard[r][c + 1] && currentBoard[r][c] === currentBoard[r][c + 2]) {\n                    matches.add(`${r}-${c}`);\n                    matches.add(`${r}-${c + 1}`);\n                    matches.add(`${r}-${c + 2}`);\n                }\n            }\n        }\n        // Vertical\n        for (let c = 0; c < GRID_SIZE; c++) {\n            for (let r = 0; r < GRID_SIZE - 2; r++) {\n                if (currentBoard[r][c] !== null && currentBoard[r][c] === currentBoard[r + 1][c] && currentBoard[r][c] === currentBoard[r + 2][c]) {\n                    matches.add(`${r}-${c}`);\n                    matches.add(`${r + 1}-${c}`);\n                    matches.add(`${r + 2}-${c}`);\n                }\n            }\n        }\n        return matches;\n    }, []);\n    \n    const dropAndRefill = useCallback((boardAfterClear: (number | null)[][]) => {\n        const newBoard = boardAfterClear.map(row => [...row]);\n        for (let c = 0; c < GRID_SIZE; c++) {\n            let emptyCount = 0;\n            for (let r = GRID_SIZE - 1; r >= 0; r--) {\n                if (newBoard[r][c] === null) {\n                    emptyCount++;\n                } else if (emptyCount > 0) {\n                    newBoard[r + emptyCount][c] = newBoard[r][c];\n                    newBoard[r][c] = null;\n                }\n            }\n            for (let r = 0; r < emptyCount; r++) {\n                newBoard[r][c] = Math.floor(Math.random() * TILE_COLORS.length);\n            }\n        }\n        return newBoard;\n    }, []);\n\n    const processMatches = useCallback((currentBoard: (number | null)[][]): { newBoard: (number | null)[][], scoreGained: number, clearedColors: {[key: number]: number} } => {\n        let matches = checkMatches(currentBoard);\n        if (matches.size === 0) return { newBoard: currentBoard, scoreGained: 0, clearedColors: {} };\n\n        let scoreGained = 0;\n        let clearedColors: {[key: number]: number} = {};\n        const boardAfterClear = currentBoard.map(row => [...row]);\n\n        matches.forEach(key => {\n            const [r, c] = key.split('-').map(Number);\n            const colorIndex = boardAfterClear[r][c];\n            if (colorIndex !== null) {\n                clearedColors[colorIndex] = (clearedColors[colorIndex] || 0) + 1;\n                boardAfterClear[r][c] = null;\n                scoreGained += 10;\n            }\n        });\n        \n        const refilledBoard = dropAndRefill(boardAfterClear);\n\n        // Chain reaction\n        const chainedResult = processMatches(refilledBoard);\n        \n        let finalClearedColors = { ...clearedColors };\n        for (const color in chainedResult.clearedColors) {\n            finalClearedColors[color] = (finalClearedColors[color] || 0) + chainedResult.clearedColors[color];\n        }\n        \n        return {\n            newBoard: chainedResult.newBoard,\n            scoreGained: scoreGained + chainedResult.scoreGained,\n            clearedColors: finalClearedColors\n        };\n\n    }, [checkMatches, dropAndRefill]);\n\n    const handleSwap = (r1: number, c1: number, r2: number, c2: number) => {\n        if (gameState !== 'playing' || movesLeft <= 0) return;\n        \n        const dr = Math.abs(r1 - r2);\n        const dc = Math.abs(c1 - c2);\n\n        if (dr + dc !== 1) return; // Not an adjacent swap\n\n        const newBoard = board.map(row => [...row]);\n        [newBoard[r1][c1], newBoard[r2][c2]] = [newBoard[r2][c2], newBoard[r1][c1]];\n\n        const { newBoard: boardAfterMatches, scoreGained, clearedColors } = processMatches(newBoard);\n\n        if (scoreGained > 0) {\n            setBoard(boardAfterMatches);\n            const newScore = score + scoreGained;\n            setScore(newScore);\n            if (newScore > highScore) {\n                setHighScore(newScore);\n                localStorage.setItem('match3HighScore', newScore.toString());\n            }\n\n            const levelGoal = levels[currentLevel].goal;\n            if (levelGoal.type === 'clearColor') {\n                setGoalProgress(prev => prev + (clearedColors[levelGoal.colorIndex] || 0));\n            } else {\n                setGoalProgress(newScore);\n            }\n            \n            setMovesLeft(moves => moves - 1);\n        }\n        // If swap is invalid, we could swap them back visually, but for simplicity, we do nothing.\n    };\n\n    const handleTileClick = (r: number, c: number) => {\n        if (gameState !== 'playing') return;\n\n        if (!selectedTile) {\n            setSelectedTile({ r, c });\n        } else {\n            handleSwap(selectedTile.r, selectedTile.c, r, c);\n            setSelectedTile(null); // Reset selection after attempting a swap\n        }\n    };\n    \n    useEffect(() => {\n        if (gameState !== 'playing') return;\n        \n        const levelGoal = levels[currentLevel].goal;\n        let goalMet = false;\n        if (levelGoal.type === 'score' && score >= levelGoal.value) goalMet = true;\n        if (levelGoal.type === 'clearColor' && goalProgress >= levelGoal.value) goalMet = true;\n\n        if (goalMet) {\n            setGameState('won');\n        } else if (movesLeft <= 0) {\n            setGameState('lost');\n        }\n\n    }, [score, movesLeft, goalProgress, currentLevel, gameState]);\n\n\n    const resetGame = (levelIndex = 0) => {\n        setCurrentLevel(levelIndex);\n        setBoard(createInitialBoard());\n        setScore(levelIndex > 0 ? score : 0);\n        setMovesLeft(levels[levelIndex].moves);\n        setGameState('playing');\n        setGoalProgress(0);\n        setSelectedTile(null);\n    };\n\n    const level = levels[currentLevel];\n\n    return (\n         <motion.div \n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"w-full max-w-md glass-card p-6 flex flex-col items-center gap-4\"\n        >\n            <h2 className=\"text-3xl font-headline text-accent-pink\">Match-3 Madness</h2>\n            <div className=\"flex justify-between w-full font-bold text-lg\">\n                <span className=\"text-accent-cyan flex items-center gap-2\"><Star size={18}/> Score: {score}</span>\n                <span className=\"text-accent-pink flex items-center gap-2\"><Move size={18}/> Moves: {movesLeft}</span>\n            </div>\n             <div className=\"w-full text-center bg-black/20 p-2 rounded-lg\">\n                <p className=\"font-bold text-brand-gold\">Level {level.level}: {\n                    level.goal.type === 'score' ? `Reach ${level.goal.value} points` : `Clear ${level.goal.value} green gems`\n                }</p>\n                {level.goal.type === 'clearColor' && (\n                    <div className=\"w-full bg-gray-600 rounded-full h-2.5 mt-1\">\n                        <div className=\"bg-green-400 h-2.5 rounded-full\" style={{ width: `${Math.min(100, (goalProgress / level.goal.value) * 100)}%` }}></div>\n                    </div>\n                )}\n            </div>\n\n            <div \n                className=\"grid gap-1 bg-black/30 border-2 border-accent-cyan/20 p-1 rounded-lg relative\"\n                style={{ gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)`}}\n            >\n                <AnimatePresence>\n                {board.map((row, r) => row.map((colorIndex, c) => (\n                    <motion.div\n                        key={`${r}-${c}`}\n                        layoutId={`${r}-${c}`}\n                        initial={{ scale: 0 }}\n                        animate={{ scale: 1 }}\n                        exit={{ scale: 0 }}\n                        transition={{ duration: 0.3 }}\n                        className={`w-full aspect-square rounded-md flex items-center justify-center cursor-pointer transition-all ${selectedTile?.r === r && selectedTile?.c === c ? 'ring-2 ring-white scale-110' : ''}`}\n                        style={{ backgroundColor: colorIndex !== null ? TILE_COLORS[colorIndex] : 'transparent' }}\n                        onClick={() => handleTileClick(r, c)}\n                    >\n                       <Gem className=\"text-white/50\" />\n                    </motion.div>\n                )))}\n                </AnimatePresence>\n                 {(gameState === 'won' || gameState === 'lost') && (\n                    <motion.div \n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-center p-4 rounded-lg z-10\"\n                    >\n                        <Trophy className={`mx-auto mb-2 ${gameState === 'won' ? 'text-brand-gold' : 'text-gray-500'}`} size={32}/>\n                        <h3 className={`text-2xl font-bold ${gameState === 'won' ? 'text-green-400' : 'text-red-500'}`}>{gameState === 'won' ? 'Level Complete!' : 'Game Over'}</h3>\n                        <p className=\"text-gray-300\">Your score: {score}</p>\n                        <div className=\"flex gap-2 mt-4\">\n                        {gameState === 'won' && levels[currentLevel + 1] && (\n                            <button onClick={() => resetGame(currentLevel + 1)} className=\"btn-glass bg-green-500\">Next Level</button>\n                        )}\n                        <button onClick={() => resetGame(currentLevel)} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2\">\n                            <RotateCcw size={16}/> {gameState === 'won' ? 'Play Again' : 'Try Again'}\n                        </button>\n                        </div>\n                    </motion.div>\n                )}\n            </div>\n            <button onClick={() => resetGame(currentLevel)} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-4\">\n                <RotateCcw size={16}/> Reset Game\n            </button>\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1798, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/games/BrickBreaker.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { RotateCcw, Trophy, Heart } from 'lucide-react';\n\n// --- GAME CONFIGURATION ---\nconst BRICK_ROW_COUNT = 5;\nconst BRICK_COLUMN_COUNT = 10;\nconst PADDLE_WIDTH = 100;\nconst PADDLE_HEIGHT = 15;\nconst BALL_RADIUS = 8;\nconst INITIAL_LIVES = 3;\n\nconst BRICK_COLORS = ['#FF3CAC', '#BF00FF', '#00F0FF', '#39FF14', '#FFB400'];\n\nconst levelLayouts = [\n  // Level 1: Solid Wall with varied colors\n  Array(BRICK_ROW_COUNT).fill(0).map((_, r) => Array(BRICK_COLUMN_COUNT).fill(0).map((_, c) => ({ status: 1, color: BRICK_COLORS[(r + c) % BRICK_COLORS.length] }))),\n  // Level 2: Pyramid\n  [\n    [0,0,0,0,1,1,0,0,0,0],\n    [0,0,0,1,1,1,1,0,0,0],\n    [0,0,1,1,1,1,1,1,0,0],\n    [0,1,1,1,1,1,1,1,1,0],\n    [1,1,1,1,1,1,1,1,1,1],\n  ].map((row, r) => row.map(cell => ({ status: cell, color: BRICK_COLORS[r % BRICK_COLORS.length] }))),\n  // Level 3: Checkered\n  Array(BRICK_ROW_COUNT).fill(0).map((_, r) => \n    Array(BRICK_COLUMN_COUNT).fill(0).map((_, c) => ({ status: (r + c) % 2, color: BRICK_COLORS[c % BRICK_COLORS.length] }))\n  )\n];\n\nexport function BrickBreaker() {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const [level, setLevel] = useState(0);\n    const [score, setScore] = useState(0);\n    const [highScore, setHighScore] = useState(0);\n    const [lives, setLives] = useState(INITIAL_LIVES);\n    const [gameState, setGameState] = useState<'start' | 'playing' | 'paused' | 'won' | 'lost'>('start');\n\n    // Use refs for state that changes every frame to avoid re-renders\n    const ballRef = useRef({ x: 0, y: 0, dx: 4, dy: -4 });\n    const paddleRef = useRef({ x: 0 });\n    const bricksRef = useRef(JSON.parse(JSON.stringify(levelLayouts[level])));\n\n    const resetBallAndPaddle = useCallback(() => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        paddleRef.current.x = (canvas.width - PADDLE_WIDTH) / 2;\n        ballRef.current = { x: canvas.width / 2, y: canvas.height - 50, dx: 4, dy: -4 };\n    }, []);\n\n    const resetLevel = useCallback((levelIndex: number) => {\n        bricksRef.current = JSON.parse(JSON.stringify(levelLayouts[levelIndex]));\n        setLevel(levelIndex);\n        setLives(INITIAL_LIVES);\n        setScore(0);\n        resetBallAndPaddle();\n        setGameState('start');\n    }, [resetBallAndPaddle]);\n\n    useEffect(() => {\n        const storedHighScore = localStorage.getItem('brickBreakerHighScore');\n        if (storedHighScore) setHighScore(parseInt(storedHighScore));\n        resetBallAndPaddle(); // Initial position\n    }, [resetBallAndPaddle]);\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return;\n\n        let animationFrameId: number;\n\n        const draw = () => {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            \n            // Draw Bricks\n            bricksRef.current.forEach((row: any[], r: number) => {\n                row.forEach((brick: { status: number; color: string }, c: number) => {\n                    if (brick.status === 1) {\n                        const brickX = c * (canvas.width / BRICK_COLUMN_COUNT);\n                        const brickY = r * 30 + 30;\n                        const brickWidth = canvas.width / BRICK_COLUMN_COUNT;\n                        const brickHeight = 25;\n                        \n                        ctx.beginPath();\n                        ctx.rect(brickX + 2, brickY + 2, brickWidth - 4, brickHeight - 4);\n                        ctx.fillStyle = brick.color || BRICK_COLORS[r % BRICK_COLORS.length];\n                        ctx.fill();\n                        ctx.closePath();\n                    }\n                });\n            });\n\n            // Draw Ball\n            ctx.beginPath();\n            ctx.arc(ballRef.current.x, ballRef.current.y, BALL_RADIUS, 0, Math.PI * 2);\n            ctx.fillStyle = '#00F0FF';\n            ctx.shadowColor = '#00F0FF';\n            ctx.shadowBlur = 10;\n            ctx.fill();\n            ctx.closePath();\n            ctx.shadowBlur = 0;\n\n            // Draw Paddle\n            ctx.beginPath();\n            ctx.rect(paddleRef.current.x, canvas.height - PADDLE_HEIGHT - 10, PADDLE_WIDTH, PADDLE_HEIGHT);\n            ctx.fillStyle = '#FF3CAC';\n            ctx.shadowColor = '#FF3CAC';\n            ctx.shadowBlur = 10;\n            ctx.fill();\n            ctx.closePath();\n            ctx.shadowBlur = 0;\n        };\n\n        const update = () => {\n            const ball = ballRef.current;\n            const paddle = paddleRef.current;\n            const bricks = bricksRef.current;\n\n            // Collision Detection\n            bricks.forEach((row: any[], r: number) => {\n                row.forEach((brick: { status: number; }, c: number) => {\n                    if (brick.status === 1) {\n                        const brickX = c * (canvas.width / BRICK_COLUMN_COUNT);\n                        const brickY = r * 30 + 30;\n                        const brickWidth = canvas.width / BRICK_COLUMN_COUNT;\n                        const brickHeight = 25;\n                        \n                        if (ball.x > brickX && ball.x < brickX + brickWidth && ball.y > brickY && ball.y < brickY + brickHeight) {\n                            ball.dy = -ball.dy;\n                            brick.status = 0;\n                            setScore(s => {\n                                const newScore = s + 10;\n                                if (newScore > highScore) {\n                                    setHighScore(newScore);\n                                    localStorage.setItem('brickBreakerHighScore', newScore.toString());\n                                }\n                                return newScore;\n                            });\n                        }\n                    }\n                });\n            });\n\n            ball.x += ball.dx;\n            ball.y += ball.dy;\n\n            // Wall collision\n            if (ball.x > canvas.width - BALL_RADIUS || ball.x < BALL_RADIUS) {\n                ball.dx = -ball.dx;\n            }\n            if (ball.y < BALL_RADIUS) {\n                ball.dy = -ball.dy;\n                // FIX: Prevent ball getting stuck at top\n                if (Math.abs(ball.dy) < 1) {\n                    ball.dy = 2;\n                }\n            } else if (ball.y > canvas.height - PADDLE_HEIGHT - 10 - BALL_RADIUS) {\n                if (ball.x > paddle.x && ball.x < paddle.x + PADDLE_WIDTH) {\n                    ball.dy = -ball.dy;\n                } else {\n                    setLives(l => {\n                        const newLives = l - 1;\n                        if (newLives <= 0) {\n                            setGameState('lost');\n                        } else {\n                            resetBallAndPaddle();\n                            setGameState('paused');\n                        }\n                        return newLives;\n                    });\n                }\n            }\n\n            if (bricks.every((row: any[]) => row.every(brick => brick.status === 0))) {\n                setGameState('won');\n            }\n        };\n\n        const gameLoop = () => {\n            if (gameState === 'playing') {\n                update();\n            }\n            draw();\n            animationFrameId = requestAnimationFrame(gameLoop);\n        };\n        \n        gameLoop();\n\n        return () => {\n            cancelAnimationFrame(animationFrameId);\n        };\n    }, [gameState, resetBallAndPaddle, highScore]);\n\n    const handleMouseMove = useCallback((e: React.MouseEvent) => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const relativeX = e.clientX - canvas.getBoundingClientRect().left;\n        if (relativeX > 0 && relativeX < canvas.width) {\n            paddleRef.current.x = Math.min(Math.max(relativeX - PADDLE_WIDTH / 2, 0), canvas.width - PADDLE_WIDTH);\n        }\n    }, []);\n    \n    const handleTouchMove = useCallback((e: React.TouchEvent) => {\n        e.preventDefault();\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const relativeX = e.touches[0].clientX - canvas.getBoundingClientRect().left;\n         if (relativeX > 0 && relativeX < canvas.width) {\n            paddleRef.current.x = Math.min(Math.max(relativeX - PADDLE_WIDTH / 2, 0), canvas.width - PADDLE_WIDTH);\n        }\n    }, []);\n    \n    const startGame = (e: React.MouseEvent | React.TouchEvent) => {\n        e.stopPropagation();\n        if (gameState === 'start' || gameState === 'paused') {\n            setGameState('playing');\n        }\n    }\n    \n    const goToNextLevel = () => {\n        const nextLevel = (level + 1) % levelLayouts.length;\n        resetLevel(nextLevel);\n    }\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"w-full max-w-2xl glass-card p-4 flex flex-col items-center gap-4\"\n        >\n            <h2 className=\"text-3xl font-headline text-accent-pink\">Brick Breaker</h2>\n            <div className=\"flex justify-between w-full font-bold text-lg\">\n                <span className=\"text-accent-cyan\">Score: {score}</span>\n                <span className=\"text-gray-400\">High Score: {highScore}</span>\n                <div className=\"flex items-center gap-2 text-accent-pink\">\n                    <Heart /> {lives}\n                </div>\n            </div>\n\n            <div className=\"relative w-full aspect-[4/3] bg-black/50 border-2 border-accent-cyan/20 rounded-lg shadow-[0_0_15px_rgba(0,240,255,0.3)]\">\n                <canvas\n                    ref={canvasRef}\n                    width={600}\n                    height={450}\n                    className=\"w-full h-full\"\n                    onMouseMove={handleMouseMove}\n                    onTouchMove={handleTouchMove}\n                />\n                 <AnimatePresence>\n                {(gameState !== 'playing') && (\n                    <motion.div \n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-center p-4 rounded-lg z-10 cursor-pointer\"\n                        onClick={startGame}\n                        onTouchStart={startGame}\n                    >\n                       {gameState === 'start' && <h3 className=\"text-2xl font-bold text-green-400 animate-pulse\">Tap to Start</h3>}\n                       {gameState === 'paused' && <h3 className=\"text-2xl font-bold text-yellow-400\">Paused - Tap to Resume</h3>}\n                       {gameState === 'lost' && (\n                           <>\n                               <Trophy className=\"mx-auto mb-2 text-gray-500\" size={32}/>\n                               <h3 className=\"text-2xl font-bold text-red-500\">Game Over!</h3>\n                               <p className=\"text-gray-300\">Your final score is {score}.</p>\n                               <button onClick={(e) => {e.stopPropagation(); resetLevel(level)}} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-4\">\n                                   <RotateCcw size={16}/> Try Again\n                               </button>\n                           </>\n                       )}\n                        {gameState === 'won' && (\n                           <>\n                               <Trophy className=\"mx-auto mb-2 text-brand-gold\" size={32}/>\n                               <h3 className=\"text-2xl font-bold text-green-400\">Level Complete!</h3>\n                               <p className=\"text-gray-300\">Final Score: {score}</p>\n                               <button onClick={(e) => {e.stopPropagation(); goToNextLevel()}} className=\"btn-glass bg-green-500/20 text-green-400 flex items-center gap-2 mt-4\">\n                                   Next Level\n                               </button>\n                           </>\n                       )}\n                    </motion.div>\n                )}\n                </AnimatePresence>\n            </div>\n             <button onClick={() => resetLevel(level)} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-2\">\n                <RotateCcw size={16}/> Reset Game\n            </button>\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2396, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/cricket-data.ts"],"sourcesContent":["export const iplTeams = [\n  { name: 'Chennai Super Kings', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/2/2b/Chennai_Super_Kings_Logo.svg/1200px-Chennai_Super_Kings_Logo.svg.png' },\n  { name: 'Mumbai Indians', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/c/c1/Mumbai_Indians_Logo.svg/1200px-Mumbai_Indians_Logo.svg.png' },\n  { name: 'Royal Challengers Bengaluru', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/2/2a/Royal_Challengers_Bangalore_2020.svg/1200px-Royal_Challengers_Bangalore_2020.svg.png' },\n  { name: 'Kolkata Knight Riders', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Kolkata_Knight_Riders_Logo.svg/1200px-Kolkata_Knight_Riders_Logo.svg.png' },\n  { name: 'Delhi Capitals', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/f/f5/Delhi_Capitals_Logo.svg/1200px-Delhi_Capitals_Logo.svg.png' },\n  { name: 'Punjab Kings', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/d/d4/Punjab_Kings_Logo.svg/1200px-Punjab_Kings_Logo.svg.png' },\n  { name: 'Rajasthan Royals', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/6/60/Rajasthan_Royals_Logo.svg/1200px-Rajasthan_Royals_Logo.svg.png' },\n  { name: 'Sunrisers Hyderabad', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/8/81/Sunrisers_Hyderabad.svg/1200px-Sunrisers_Hyderabad.svg.png' },\n  { name: 'Lucknow Super Giants', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/a/a9/Lucknow_Super_Giants_logo.svg/1200px-Lucknow_Super_Giants_logo.svg.png' },\n  { name: 'Gujarat Titans', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/b/b2/Gujarat_Titans_logo.svg/1200px-Gujarat_Titans_logo.svg.png' },\n];\n\nexport const internationalTeams = [\n  { name: 'India', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/8/8d/Board_of_Control_for_Cricket_in_India_logo.svg/1200px-Board_of_Control_for_Cricket_in_India_logo.svg.png' },\n  { name: 'Australia', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/Cricket_Australia_logo.svg/1200px-Cricket_Australia_logo.svg.png' },\n  { name: 'England', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/c/ce/England_and_Wales_Cricket_Board_logo.svg/1200px-England_and_Wales_Cricket_Board_logo.svg.png' },\n  { name: 'Pakistan', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/8/82/Pakistan_Cricket_Board_Logo.svg/1200px-Pakistan_Cricket_Board_Logo.svg.png' },\n  { name: 'South Africa', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/5/52/Cricket_South_Africa_logo.svg/1200px-Cricket_South_Africa_logo.svg.png' },\n  { name: 'New Zealand', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/1/17/New_Zealand_Cricket_logo.svg/1200px-New_Zealand_Cricket_logo.svg.png' },\n  { name: 'West Indies', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/5/56/Cricket_West_Indies_logo.svg/1200px-Cricket_West_Indies_logo.svg.png' },\n  { name: 'Sri Lanka', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/f/f1/Sri_Lanka_Cricket_logo.svg/1200px-Sri_Lanka_Cricket_logo.svg.png' },\n  { name: 'Bangladesh', logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/f/f2/Bangladesh_Cricket_Board_Logo.svg/1200px-Bangladesh_Cricket_Board_Logo.svg.png' },\n  { name: 'Afghanistan', logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Afghanistan_Cricket_Board_logo.svg/1200px-Afghanistan_Cricket_Board_logo.svg.png' },\n];\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,WAAW;IACtB;QAAE,MAAM;QAAuB,MAAM;IAA4H;IACjK;QAAE,MAAM;QAAkB,MAAM;IAAkH;IAClJ;QAAE,MAAM;QAA+B,MAAM;IAA4I;IACzL;QAAE,MAAM;QAAyB,MAAM;IAAgI;IACvK;QAAE,MAAM;QAAkB,MAAM;IAAkH;IAClJ;QAAE,MAAM;QAAgB,MAAM;IAA8G;IAC5I;QAAE,MAAM;QAAoB,MAAM;IAAsH;IACxJ;QAAE,MAAM;QAAuB,MAAM;IAAkH;IACvJ;QAAE,MAAM;QAAwB,MAAM;IAA8H;IACpK;QAAE,MAAM;QAAkB,MAAM;IAAkH;CACnJ;AAEM,MAAM,qBAAqB;IAChC;QAAE,MAAM;QAAS,MAAM;IAAgK;IACvL;QAAE,MAAM;QAAa,MAAM;IAAwH;IACnJ;QAAE,MAAM;QAAW,MAAM;IAAoJ;IAC7K;QAAE,MAAM;QAAY,MAAM;IAAkI;IAC5J;QAAE,MAAM;QAAgB,MAAM;IAA8H;IAC5J;QAAE,MAAM;QAAe,MAAM;IAA4H;IACzJ;QAAE,MAAM;QAAe,MAAM;IAA4H;IACzJ;QAAE,MAAM;QAAa,MAAM;IAAwH;IACnJ;QAAE,MAAM;QAAc,MAAM;IAAsI;IAClK;QAAE,MAAM;QAAe,MAAM;IAA6I;CAC3K"}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/games/CricketChallenge.tsx"],"sourcesContent":["\n'use client';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { RotateCcw, Play, Trophy, ArrowRight, Shield } from 'lucide-react';\nimport { iplTeams, internationalTeams } from '@/lib/cricket-data';\n\n// --- GAME CONFIGURATION ---\nconst PITCH_HEIGHT = 450;\nconst PITCH_WIDTH = 350;\nconst BAT_WIDTH = 20;\nconst BAT_HEIGHT = 80;\nconst BALL_SIZE = 15;\nconst SWEET_SPOT_Y = PITCH_HEIGHT - BAT_HEIGHT - 35;\nconst BALL_START_Y = 70;\nconst BALL_SPEED = 400; // pixels per second\n\nconst scoreMap = {\n    perfect: { runs: 6, text: \"SIX!\", color: \"text-green-400\" },\n    good: { runs: 4, text: \"FOUR!\", color: \"text-blue-400\" },\n    ok: { runs: 2, text: \"2 Runs\", color: \"text-yellow-400\" },\n    bad: { runs: 1, text: \"1 Run\", color: \"text-orange-400\" },\n};\n\ntype GameState = 'setup' | 'playing' | 'ballInPlay' | 'gameOver' | 'paused';\ntype Feedback = { text: string; color: string, ballPath?: { x: number, y: number } } | null;\ntype SetupStep = 'tournament' | 'team' | 'overs';\ntype Tournament = 'IPL' | 'ICC';\n\nconst Bat = ({ swinging }: { swinging: boolean }) => (\n     <motion.g\n        transform=\"translate(5, 8)\"\n        animate={{ rotate: swinging ? [-20, 80, -20] : -20 }}\n        transition={{ duration: 0.25, ease: \"easeInOut\" }}\n        style={{ originX: `10px`, originY: `70px` }}\n    >\n        <path d={`M0,0 L${BAT_WIDTH},0 L${BAT_WIDTH},${BAT_HEIGHT - 20} Q${BAT_WIDTH / 2},${BAT_HEIGHT} 0,${BAT_HEIGHT - 20} Z`} fill=\"#D2B48C\" stroke=\"#8B4513\" strokeWidth=\"2\" />\n    </motion.g>\n);\n\nconst Stumps = ({ y }: { y: number }) => (\n    <g transform={`translate(${PITCH_WIDTH/2 - 10}, ${y})`}>\n        <rect x=\"0\" y=\"0\" width=\"4\" height=\"30\" fill=\"white\" />\n        <rect x=\"8\" y=\"0\" width=\"4\" height=\"30\" fill=\"white\" />\n        <rect x=\"16\" y=\"0\" width=\"4\" height=\"30\" fill=\"white\" />\n        <rect x=\"0\" y=\"-2\" width=\"10\" height=\"3\" fill=\"#B22222\" />\n        <rect x=\"10\" y=\"-2\" width=\"10\" height=\"3\" fill=\"#B22222\" />\n    </g>\n);\n\nconst Bowler = () => (\n     <g transform={`translate(${PITCH_WIDTH/2 - 10}, 20)`}>\n        <circle cx=\"10\" cy=\"10\" r=\"8\" fill=\"#FFADAD\" />\n        <rect x=\"5\" y=\"18\" width=\"10\" height=\"25\" fill=\"#FFADAD\" />\n    </g>\n);\n\nconst Batsman = ({ swinging }: { swinging: boolean }) => (\n    <g transform={`translate(${PITCH_WIDTH/2 - 15}, ${PITCH_HEIGHT - 60})`}>\n        <circle cx=\"10\" cy=\"-25\" r=\"8\" fill=\"#F8F7F8\" />\n        <rect x=\"5\" y=\"-17\" width=\"10\" height=\"25\" fill=\"#F8F7F8\" />\n        <rect x=\"0\" y=\"8\" width=\"20\" height=\"4\" fill=\"#F8F7F8\" />\n        <rect x=\"3\" y=\"12\" width=\"5\" height=\"15\" fill=\"#F8F7F8\" />\n        <rect x=\"12\" y=\"12\" width=\"5\" height=\"15\" fill=\"#F8F7F8\" />\n        <Bat swinging={swinging} />\n    </g>\n);\n\n\nexport function CricketChallenge() {\n    const [gameState, setGameState] = useState<GameState>('setup');\n    const [setupStep, setSetupStep] = useState<SetupStep>('tournament');\n\n    // Game Config State\n    const [tournament, setTournament] = useState<Tournament | null>(null);\n    const [selectedTeam, setSelectedTeam] = useState<any | null>(null);\n    const [totalOvers, setTotalOvers] = useState(1);\n\n    const [score, setScore] = useState(0);\n    const [highScore, setHighScore] = useState(0);\n    const [ballsLeft, setBallsLeft] = useState(6);\n\n    const [ballPosition, setBallPosition] = useState({ x: PITCH_WIDTH / 2, y: BALL_START_Y });\n\n    const batSwingingRef = useRef(false);\n    const feedbackRef = useRef<Feedback>(null);\n    const animationFrameId = useRef<number>(0);\n    const lastTimeRef = useRef<number>(0);\n\n    useEffect(() => {\n        const storedHighScore = localStorage.getItem('cricketHighScore');\n        if (storedHighScore) setHighScore(parseInt(storedHighScore));\n    }, []);\n\n    const resetGame = () => {\n        setScore(0);\n        setBallsLeft(totalOvers * 6);\n        setBallPosition({ x: PITCH_WIDTH / 2, y: BALL_START_Y });\n        batSwingingRef.current = false;\n        feedbackRef.current = null;\n        setGameState('playing');\n        setTimeout(() => setGameState('ballInPlay'), 1000);\n    };\n\n    const handleConfigSelect = (step: SetupStep, value: any) => {\n        if (step === 'tournament') {\n            setTournament(value);\n            setSetupStep('team');\n        } else if (step === 'team') {\n            setSelectedTeam(value);\n            setSetupStep('overs');\n        } else if (step === 'overs') {\n            setTotalOvers(value);\n            setBallsLeft(value * 6);\n            setGameState('playing');\n            setTimeout(() => setGameState('ballInPlay'), 1000);\n        }\n    };\n    \n    const handleSwing = () => {\n        if (gameState !== 'ballInPlay' || batSwingingRef.current) return;\n\n        batSwingingRef.current = true;\n        setTimeout(() => { batSwingingRef.current = false; }, 300);\n\n        const impactDifference = Math.abs(ballPosition.y - SWEET_SPOT_Y);\n        let runsScored = 0;\n        let currentFeedback: Feedback;\n        \n        let ballPath = { x: 0, y: 0 };\n        const randomAngle = (Math.random() - 0.5) * Math.PI / 3; \n\n        if (impactDifference < 10) { runsScored = 6; currentFeedback = scoreMap.perfect; ballPath = { x: Math.sin(randomAngle) * 200, y: -250 };\n        } else if (impactDifference < 20) { runsScored = 4; currentFeedback = scoreMap.good; ballPath = { x: Math.sin(randomAngle) * 150, y: -200 };\n        } else if (impactDifference < 35) { runsScored = 2; currentFeedback = { text: `${runsScored} Runs`, color: \"text-yellow-400\"}; ballPath = { x: (Math.random() > 0.5 ? 1 : -1) * 80, y: -150 };\n        } else if (impactDifference < 50) { runsScored = 1; currentFeedback = { text: `${runsScored} Run`, color: \"text-orange-400\"}; ballPath = { x: (Math.random() > 0.5 ? 1 : -1) * 40, y: -100 };\n        } else { currentFeedback = { text: \"OUT!\", color: \"text-red-500\" }; }\n        \n        feedbackRef.current = {...currentFeedback, ballPath };\n        const newScore = score + runsScored;\n        setScore(newScore);\n\n        if (newScore > highScore) {\n            setHighScore(newScore);\n            localStorage.setItem('cricketHighScore', newScore.toString());\n        }\n\n        setGameState('paused'); \n    };\n\n     const gameLoop = useCallback((timestamp: number) => {\n        if (lastTimeRef.current === 0) lastTimeRef.current = timestamp;\n        const deltaTime = (timestamp - lastTimeRef.current) / 1000;\n        \n        if (gameState === 'ballInPlay') {\n            setBallPosition(prevPos => {\n                const newY = prevPos.y + BALL_SPEED * deltaTime;\n                if (newY > PITCH_HEIGHT) {\n                    feedbackRef.current = { text: \"Missed!\", color: \"text-red-500\" };\n                    setGameState('paused');\n                    return prevPos;\n                }\n                return { ...prevPos, y: newY };\n            });\n        }\n        lastTimeRef.current = timestamp;\n        animationFrameId.current = requestAnimationFrame(gameLoop);\n    }, [gameState]);\n\n    useEffect(() => {\n        animationFrameId.current = requestAnimationFrame(gameLoop);\n        return () => cancelAnimationFrame(animationFrameId.current);\n    }, [gameLoop]);\n\n    useEffect(() => {\n        if (gameState === 'paused') {\n            const timeout = setTimeout(() => {\n                if (ballsLeft - 1 <= 0) {\n                    setGameState('gameOver');\n                } else {\n                    setBallsLeft(b => b - 1);\n                    setBallPosition({ x: PITCH_WIDTH / 2, y: BALL_START_Y });\n                    feedbackRef.current = null;\n                    setGameState('playing');\n                    setTimeout(() => setGameState('ballInPlay'), 500);\n                }\n            }, 1500);\n            return () => clearTimeout(timeout);\n        }\n    }, [gameState, ballsLeft]);\n\n    const teamOptions = tournament === 'IPL' ? iplTeams : internationalTeams;\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"w-full max-w-lg glass-card p-4 flex flex-col items-center gap-4\"\n        >\n            <h2 className=\"text-3xl font-headline text-accent-green\">Super Over Challenge</h2>\n\n            {gameState === 'setup' ? (\n                <AnimatePresence mode=\"wait\">\n                    <motion.div\n                        key={setupStep}\n                        initial={{ opacity: 0, x: 50 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        exit={{ opacity: 0, x: -50 }}\n                        className=\"w-full\"\n                    >\n                        {setupStep === 'tournament' && (\n                            <div className=\"flex flex-col items-center gap-4\">\n                                <h3 className=\"text-xl font-bold text-accent-cyan\">Choose Tournament</h3>\n                                <button className=\"btn-glass w-full\" onClick={() => handleConfigSelect('tournament', 'IPL')}>IPL</button>\n                                <button className=\"btn-glass w-full\" onClick={() => handleConfigSelect('tournament', 'ICC')}>ICC World Cup</button>\n                            </div>\n                        )}\n                        {setupStep === 'team' && (\n                            <div>\n                                <h3 className=\"text-xl font-bold text-accent-cyan text-center mb-4\">Select Your Team</h3>\n                                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto\">\n                                    {teamOptions.map(team => (\n                                        <div key={team.name} className=\"glass-card p-3 text-center cursor-pointer hover:border-accent-pink\" onClick={() => handleConfigSelect('team', team)}>\n                                            <img src={team.logo} alt={team.name} className=\"w-20 h-20 mx-auto object-contain mb-2\"/>\n                                            <p className=\"font-bold text-sm\">{team.name}</p>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n                        {setupStep === 'overs' && (\n                            <div className=\"flex flex-col items-center gap-4\">\n                                <h3 className=\"text-xl font-bold text-accent-cyan\">Choose Format</h3>\n                                <button className=\"btn-glass w-full\" onClick={() => handleConfigSelect('overs', 1)}>Super Over (1 Over)</button>\n                                <button className=\"btn-glass w-full\" onClick={() => handleConfigSelect('overs', 6)}>Powerplay (6 Overs)</button>\n                                <button className=\"btn-glass w-full\" onClick={() => handleConfigSelect('overs', 20)}>T20 Match (20 Overs)</button>\n                                <button className=\"btn-glass w-full\" onClick={() => handleConfigSelect('overs', 50)}>ODI Match (50 Overs)</button>\n                            </div>\n                        )}\n                    </motion.div>\n                </AnimatePresence>\n            ) : (\n                <>\n                    <div className=\"flex justify-between items-center w-full font-bold text-lg\">\n                        <div className=\"flex items-center gap-2 text-accent-cyan\">\n                           {selectedTeam && <img src={selectedTeam.logo} alt={selectedTeam.name} className=\"w-8 h-8\"/>}\n                           <span>Score: {score}</span>\n                        </div>\n                        <span className=\"text-accent-pink\">Balls Left: {ballsLeft}</span>\n                    </div>\n\n                    <div \n                        className=\"relative cursor-pointer overflow-hidden rounded-lg bg-green-900/50\"\n                        style={{ width: PITCH_WIDTH, height: PITCH_HEIGHT }}\n                        onClick={handleSwing}\n                    >\n                        <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${PITCH_WIDTH} ${PITCH_HEIGHT}`}>\n                            <ellipse cx={PITCH_WIDTH/2} cy={PITCH_HEIGHT/2} rx={PITCH_WIDTH/2 - 10} ry={PITCH_HEIGHT/2 - 10} fill=\"#4C9A2A\" />\n                            <rect x={PITCH_WIDTH/2 - 40} y={0} width=\"80\" height={PITCH_HEIGHT} fill=\"#A0522D\" opacity=\"0.3\" />\n                            <rect x={PITCH_WIDTH/2 - 2} y=\"50\" width=\"4\" height={PITCH_HEIGHT - 100} fill=\"white\" opacity=\"0.4\" />\n                            <Stumps y={45} />\n                            <Stumps y={PITCH_HEIGHT - 65} />\n                            <Bowler />\n                            <Batsman swinging={batSwingingRef.current} />\n                        </svg>\n\n                        <motion.div\n                            className=\"absolute w-4 h-4 bg-white rounded-full shadow-lg\"\n                            animate={{ \n                                top: ballPosition.y - (BALL_SIZE/2), \n                                left: ballPosition.x - (BALL_SIZE/2),\n                            }}\n                            transition={{ duration: 0, ease: 'linear' }}\n                        />\n\n                        {feedbackRef.current?.ballPath && gameState === 'paused' && (\n                            <motion.div\n                                className=\"absolute w-5 h-5 bg-white rounded-full shadow-lg z-20\"\n                                initial={{ x: ballPosition.x - (BALL_SIZE/2), y: ballPosition.y - (BALL_SIZE/2) }}\n                                animate={{ \n                                    x: ballPosition.x + feedbackRef.current.ballPath.x, \n                                    y: ballPosition.y + feedbackRef.current.ballPath.y, \n                                    opacity: 0 \n                                }}\n                                transition={{ duration: 0.8, ease: \"easeOut\" }}\n                            />\n                        )}\n                    \n                        <AnimatePresence>\n                        {(gameState === 'gameOver') ? (\n                            <motion.div \n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-center p-4 z-10\"\n                            >\n                                <Trophy className=\"mx-auto mb-2 text-brand-gold\" size={32}/>\n                                <h3 className=\"text-2xl font-bold text-accent-cyan\">Game Over</h3>\n                                <p className=\"text-gray-300\">Your final score: {score}</p>\n                                {score > 0 && score >= highScore && <p className=\"font-bold text-brand-gold animate-pulse\">New High Score!</p>}\n                                <button onClick={() => setGameState('setup')} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-4\">\n                                    <RotateCcw size={16}/> Play Again\n                                </button>\n                            </motion.div>\n                        ) : feedbackRef.current && gameState === 'paused' && (\n                             <motion.div\n                                key={feedbackRef.current.text + score}\n                                initial={{ opacity: 0, scale: 0.5 }}\n                                animate={{ opacity: 1, scale: 1.5 }}\n                                exit={{ opacity: 0 }}\n                                className={`absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 text-4xl font-extrabold drop-shadow-lg ${feedbackRef.current.color}`}\n                            >\n                                {feedbackRef.current.text}\n                            </motion.div>\n                        )}\n                        </AnimatePresence>\n                    </div>\n                     <button onClick={() => setGameState('setup')} className=\"btn-glass bg-accent-purple/20 text-accent-purple flex items-center gap-2 mt-2\">\n                        <RotateCcw size={16}/> Change Settings\n                    </button>\n                </>\n            )}\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3420, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/AdBanner.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { getFirestore, collection, query, where, getDocs, orderBy, limit, startAfter } from \"firebase/firestore\";\nimport { app } from \"@/utils/firebaseClient\";\nimport Link from 'next/link';\n\nconst db = getFirestore(app);\n\nconst FlixTrendAd = ({ ad }: { ad: any }) => {\n    if (!ad?.creative) {\n        return null; // Don't render if creative is missing\n    }\n\n    const { creative } = ad;\n\n    return (\n         <div className=\"w-full glass-card p-4 my-4\">\n             <div className=\"flex items-center gap-2 mb-3\">\n                <div className=\"w-8 h-8 rounded-full bg-accent-purple overflow-hidden\">\n                    {/* In a real app, you'd show the advertiser's logo */}\n                    <img src={`https://api.dicebear.com/8.x/initials/svg?seed=${ad.campaign.name}`} alt=\"advertiser logo\" className=\"w-full h-full\" />\n                </div>\n                <div>\n                    <p className=\"text-sm font-bold\">{ad.campaign.name}</p>\n                    <p className=\"text-xs text-gray-400\">Sponsored</p>\n                </div>\n            </div>\n            {creative.type === 'image' && creative.mediaUrl && (\n                <img src={creative.mediaUrl} alt={creative.headline} className=\"rounded-lg w-full\" />\n            )}\n            {creative.type === 'video' && creative.mediaUrl && (\n                <video src={creative.mediaUrl} className=\"rounded-lg w-full\" controls />\n            )}\n            <div className=\"mt-3\">\n                <p className=\"font-bold text-accent-cyan\">{creative.headline}</p>\n                <p className=\"text-sm text-gray-300\">{creative.body}</p>\n                 <a href={creative.callToActionUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-xs text-accent-pink hover:underline mt-2 inline-block\">\n                    {creative.callToAction} &rarr;\n                </a>\n            </div>\n        </div>\n    )\n}\n\nexport default function AdBanner() {\n    const [ad, setAd] = useState<any>(null);\n\n    useEffect(() => {\n        const fetchAd = async () => {\n            try {\n                // This logic is simplified. A real ad server would be much more complex.\n                // 1. Get a random active campaign\n                const campaignsRef = collection(db, 'adCampaigns');\n                const q = query(campaignsRef, where('status', '==', 'active'), limit(10));\n                const campaignSnap = await getDocs(q);\n\n                if (campaignSnap.empty) {\n                    return; // No active campaigns\n                }\n\n                const campaigns = campaignSnap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n                const randomCampaign = campaigns[Math.floor(Math.random() * campaigns.length)];\n\n                // 2. Get a creative for that campaign\n                const creativesRef = collection(db, 'adCampaigns', randomCampaign.id, 'creatives');\n                const creativeSnap = await getDocs(query(creativesRef, limit(1)));\n                \n                if (creativeSnap.empty) {\n                     return; // No creative found\n                }\n\n                const randomCreative = { id: creativeSnap.docs[0].id, ...creativeSnap.docs[0].data() };\n\n                setAd({ campaign: randomCampaign, creative: randomCreative });\n\n            } catch (error) {\n                console.error(\"Error fetching FlixTrend ad:\", error);\n            }\n        }\n        fetchAd();\n    }, []);\n    \n    // If we have a direct-sold ad, render it. Otherwise, render nothing.\n    if (ad) {\n        return <FlixTrendAd ad={ad} />;\n    }\n\n    return null;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3627, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/AdModal.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X } from 'lucide-react';\nimport AdBanner from './AdBanner';\n\nexport default function AdModal({ onComplete }: { onComplete: () => void }) {\n    const [countdown, setCountdown] = useState(5);\n\n    useEffect(() => {\n        if (countdown <= 0) {\n            onComplete();\n            return;\n        }\n        const timer = setTimeout(() => setCountdown(c => c - 1), 1000);\n        return () => clearTimeout(timer);\n    }, [countdown, onComplete]);\n\n    return (\n        <AnimatePresence>\n            <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                className=\"fixed inset-0 z-[110] bg-black/80 backdrop-blur-md flex flex-col items-center justify-center p-4\"\n            >\n                <div className=\"absolute top-4 right-4 z-10\">\n                    {countdown > 0 ? (\n                        <span className=\"text-white bg-black/50 rounded-full px-3 py-1 text-sm\">You can skip in {countdown}</span>\n                    ) : (\n                        <button onClick={onComplete} className=\"text-white bg-black/50 rounded-full px-4 py-2 text-sm flex items-center gap-2\">\n                            Skip Ad <X size={16} />\n                        </button>\n                    )}\n                </div>\n                <div className=\"w-full max-w-sm\">\n                    <AdBanner />\n                </div>\n                <p className=\"text-xs text-gray-500 mt-4\">Sponsored Message</p>\n            </motion.div>\n        </AnimatePresence>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AACA;AACA;;;AALA;;;;;AAOe,SAAS,QAAQ,EAAE,UAAU,EAA8B;;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;6BAAC;YACN,IAAI,aAAa,GAAG;gBAChB;gBACA;YACJ;YACA,MAAM,QAAQ;2CAAW,IAAM;mDAAa,CAAA,IAAK,IAAI;;0CAAI;YACzD;qCAAO,IAAM,aAAa;;QAC9B;4BAAG;QAAC;QAAW;KAAW;IAE1B,qBACI,6LAAC,+MAAe;kBACZ,cAAA,6LAAC,uMAAM,CAAC,GAAG;YACP,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,WAAU;;8BAEV,6LAAC;oBAAI,WAAU;8BACV,YAAY,kBACT,6LAAC;wBAAK,WAAU;;4BAAwD;4BAAiB;;;;;;6CAEzF,6LAAC;wBAAO,SAAS;wBAAY,WAAU;;4BAAgF;0CAC3G,6LAAC,oMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAI7B,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,4IAAQ;;;;;;;;;;8BAEb,6LAAC;oBAAE,WAAU;8BAA6B;;;;;;;;;;;;;;;;;AAI1D;GApCwB;KAAA"}},
    {"offset": {"line": 3757, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/GamePlayer.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { ArrowLeft } from \"lucide-react\";\nimport React from \"react\";\n\nexport function GamePlayer({ game, onBack }: { game: any; onBack: () => void }) {\n  return (\n    <div className=\"w-full flex flex-col items-center\">\n      <div className=\"w-full max-w-4xl flex items-center justify-between mb-4\">\n        <div>\n            <h2 className=\"text-2xl font-headline font-bold text-accent-cyan\">{game.title}</h2>\n            <p className=\"text-sm text-gray-400\">by {game.username}</p>\n        </div>\n        <button className=\"btn-glass flex items-center gap-2\" onClick={onBack}>\n          <ArrowLeft size={16}/> Back to Games\n        </button>\n      </div>\n      <div className=\"w-full max-w-4xl aspect-video bg-black rounded-lg overflow-hidden border-2 border-accent-cyan\">\n        <iframe\n          src={game.gameUrl}\n          sandbox=\"allow-scripts allow-same-origin\" // Security: This is crucial. It isolates the iframe content.\n          className=\"w-full h-full border-0\"\n          title={game.title}\n        />\n      </div>\n       <p className=\"text-center text-gray-400 mt-4 max-w-4xl\">{game.description}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAFA;;;AAKO,SAAS,WAAW,EAAE,IAAI,EAAE,MAAM,EAAqC;IAC5E,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAqD,KAAK,KAAK;;;;;;0CAC7E,6LAAC;gCAAE,WAAU;;oCAAwB;oCAAI,KAAK,QAAQ;;;;;;;;;;;;;kCAE1D,6LAAC;wBAAO,WAAU;wBAAoC,SAAS;;0CAC7D,6LAAC,gOAAS;gCAAC,MAAM;;;;;;4BAAK;;;;;;;;;;;;;0BAG1B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,KAAK,KAAK,OAAO;oBACjB,SAAQ;oBACR,WAAU;oBACV,OAAO,KAAK,KAAK;;;;;;;;;;;0BAGpB,6LAAC;gBAAE,WAAU;0BAA4C,KAAK,WAAW;;;;;;;;;;;;AAGhF;KAvBgB"}},
    {"offset": {"line": 3866, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/GamesHub.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { ArrowLeft, Gamepad2 } from 'lucide-react';\nimport { TicTacToe } from './games/TicTacToe';\nimport { Snake } from './games/Snake';\nimport { Game2048 } from './games/2048';\nimport { Match3 } from './games/Match3';\nimport { BrickBreaker } from './games/BrickBreaker';\nimport { CricketChallenge } from './games/CricketChallenge';\nimport AdModal from './AdModal';\nimport { getFirestore, collection, onSnapshot, query, orderBy } from 'firebase/firestore';\nimport { app } from '@/utils/firebaseClient';\nimport { GamePlayer } from './GamePlayer';\n\nconst db = getFirestore(app);\n\n\nconst games = [\n    {\n        id: 'tic-tac-toe',\n        name: \"Tic-Tac-Toe\",\n        description: \"The classic offline and online game. Challenge a friend to a match.\",\n        component: TicTacToe\n    },\n    {\n        id: 'snake',\n        name: \"Snake\",\n        description: \"A timeless arcade classic. Guide the snake to eat the food and grow longer, but don't hit the walls or yourself!\",\n        component: Snake\n    },\n    {\n        id: '2048',\n        name: \"2048\",\n        description: \"An addictive puzzle game. Swipe to slide tiles and combine them to reach the 2048 tile!\",\n        component: Game2048\n    },\n    {\n        id: 'match3',\n        name: \"Match-3 Madness\",\n        description: \"A colorful and addictive gem-matching puzzle game with levels and objectives.\",\n        component: Match3\n    },\n    {\n        id: 'brick-breaker',\n        name: \"Brick Breaker\",\n        description: \"A classic arcade challenge. Break all the bricks with the ball and paddle to clear levels.\",\n        component: BrickBreaker\n    },\n    {\n        id: 'cricket-challenge',\n        name: \"Super Over Challenge\",\n        description: \"A fast-paced cricket batting game. Choose your team and format, and score as many runs as you can!\",\n        component: CricketChallenge\n    }\n];\n\nexport function GamesHub() {\n    const [activeGame, setActiveGame] = useState<any>(null);\n    const [showAd, setShowAd] = useState(false);\n    const [gameToStart, setGameToStart] = useState<any>(null);\n    const [developerGames, setDeveloperGames] = useState<any[]>([]);\n\n    useEffect(() => {\n        const q = query(collection(db, \"games\"), orderBy(\"createdAt\", \"desc\"));\n        const unsub = onSnapshot(q, (snapshot) => {\n            setDeveloperGames(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data(), isDevGame: true })));\n        });\n        return () => unsub();\n    }, []);\n\n    const handleSelectGame = (game: any) => {\n        setGameToStart(game);\n        setShowAd(true);\n    }\n    \n    const startGame = () => {\n        setShowAd(false);\n        if(gameToStart) {\n            setActiveGame(gameToStart);\n            setGameToStart(null);\n        }\n    }\n\n    if (activeGame) {\n        const GameComponent = activeGame.component;\n        return (\n             <div className=\"w-full flex flex-col items-center\">\n                <button onClick={() => setActiveGame(null)} className=\"btn-glass self-start mb-4 flex items-center gap-2\">\n                    <ArrowLeft size={16}/> Back to Games\n                </button>\n                 {activeGame.isDevGame ? <GamePlayer game={activeGame} onBack={() => setActiveGame(null)} /> : <GameComponent />}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"w-full flex flex-col items-center\">\n             {showAd && (\n                <AdModal onComplete={startGame} />\n            )}\n            <h2 className=\"text-3xl font-headline bg-gradient-to-r from-accent-pink to-accent-green bg-clip-text text-transparent mb-8\">\n                Community Games\n            </h2>\n\n            <p className=\"text-center text-gray-400 mb-12 max-w-2xl\">\n                Challenge a friend, play a quick game solo, or explore games made by other developers in the community!\n            </p>\n\n            <div className=\"w-full space-y-12\">\n                <motion.section\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ duration: 0.5, delay: 0.1 }}\n                >\n                     <h3 className=\"text-xl font-bold text-accent-cyan mb-4\">FlixTrend Classics</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                        {games.map(game => (\n                            <motion.div\n                                key={game.id}\n                                className=\"glass-card p-6 flex flex-col gap-3 hover:border-accent-cyan transition-colors duration-300 cursor-pointer\"\n                                whileHover={{ y: -5 }}\n                                onClick={() => handleSelectGame(game)}\n                            >\n                                <Gamepad2 className=\"text-accent-pink\" />\n                                <h4 className=\"font-bold text-lg text-accent-cyan\">{game.name}</h4>\n                                <p className=\"text-sm text-gray-400 flex-1\">{game.description}</p>\n                                <div className=\"text-right text-xs font-bold text-accent-pink\">Play Now &rarr;</div>\n                            </motion.div>\n                        ))}\n                    </div>\n                </motion.section>\n\n                 <motion.section\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ duration: 0.5, delay: 0.3 }}\n                >\n                     <h3 className=\"text-xl font-bold text-accent-cyan mb-4\">Developer Showcase</h3>\n                     {developerGames.length > 0 ? (\n                         <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                             {developerGames.map(game => (\n                                <motion.div\n                                    key={game.id}\n                                    className=\"glass-card p-6 flex flex-col gap-3 hover:border-accent-green transition-colors duration-300 cursor-pointer\"\n                                    whileHover={{ y: -5 }}\n                                    onClick={() => handleSelectGame(game)}\n                                >\n                                    <Gamepad2 className=\"text-accent-green\" />\n                                    <h4 className=\"font-bold text-lg text-accent-green\">{game.title}</h4>\n                                    <p className=\"text-sm text-gray-400 flex-1\">{game.description}</p>\n                                    <div className=\"text-right text-xs font-bold text-accent-green\">Play Now &rarr;</div>\n                                </motion.div>\n                            ))}\n                         </div>\n                     ) : <p className=\"text-gray-500 text-center\">No developer games have been published yet.</p>}\n                 </motion.section>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}