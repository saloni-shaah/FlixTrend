{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/signup/page.tsx"],"sourcesContent":["\n\"use client\";\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { auth, app } from \"@/utils/firebaseClient\";\nimport { createUserWithEmailAndPassword, sendEmailVerification, updateProfile } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc, collection, query, where, getDocs, serverTimestamp, getDoc } from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { useRouter } from \"next/navigation\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ArrowRight, ArrowLeft, Camera, UploadCloud, Gift, Tv, Mic, Gamepad2, Video, Code, Feather, Atom, LandPlot, Handshake, PenTool, Smile, Palette, Sparkles, Shirt, Utensils, Plane, Film, BrainCircuit, Landmark, Drama, CookingPot, UtensilsCrossed, Scroll, Music4, HelpingHand, Sprout, Rocket, Briefcase, Heart, Book, Trophy, Bot } from 'lucide-react';\n\nconst db = getFirestore(app);\nconst storage = getStorage(app);\n\n// Helper to check for username uniqueness\nasync function isUsernameUnique(username: string): Promise<boolean> {\n    const usernameDocRef = doc(db, \"usernames\", username.toLowerCase());\n    const docSnap = await getDoc(usernameDocRef);\n    return !docSnap.exists();\n}\n\nconst creatorCategories = [\n    { id: 'news', name: 'News', icon: <Tv size={14}/> },\n    { id: 'gaming', name: 'Gamer', icon: <Gamepad2 size={14}/> },\n    { id: 'music', name: 'Musician', icon: <Mic size={14}/> },\n    { id: 'vlogs', name: 'Vlogger', icon: <Video size={14}/> },\n    { id: 'comedy', name: 'Comedian', icon: <Smile size={14}/> },\n    { id: 'tech', name: 'Tech', icon: <Code size={14}/> },\n    { id: 'lifestyle', name: 'Lifestyle', icon: <Feather size={14}/> },\n    { id: 'science', name: 'Science', icon: <Atom size={14}/> },\n    { id: 'politics', name: 'Politics', icon: <Handshake size={14}/> },\n    { id: 'education', name: 'Education', icon: <PenTool size={14}/> },\n    { id: 'art-design', name: 'Art & Design', icon: <Palette size={14}/> },\n    { id: 'diy-crafts', name: 'DIY & Crafts', icon: <Sparkles size={14}/> },\n    { id: 'fashion-style', name: 'Fashion', icon: <Shirt size={14}/> },\n    { id: 'food-cooking', name: 'Food', icon: <Utensils size={14}/> },\n    { id: 'travel', name: 'Travel', icon: <Plane size={14}/> },\n    { id: 'photography-videography', name: 'Photography', icon: <Camera size={14}/> },\n    { id: 'books-literature', name: 'Books', icon: <Book size={14}/> },\n    { id: 'movies-tv', name: 'Movies & TV', icon: <Film size={14}/> },\n    { id: 'ai-future', name: 'AI & Future', icon: <Bot size={14}/> },\n    { id: 'spirituality-wellness', name: 'Wellness', icon: <BrainCircuit size={14}/> },\n    { id: 'business', name: 'Business', icon: <Briefcase size={14}/> },\n    { id: 'health-fitness', name: 'Fitness', icon: <Heart size={14}/> },\n    { id: 'sports', name: 'Sports', icon: <Trophy size={14}/> },\n    // India-Specific\n    { id: 'bollywood', name: 'Bollywood', icon: <Film size={14}/> },\n    { id: 'bhakti', name: 'Bhakti', icon: <HelpingHand size={14}/> },\n    { id: 'regional-cinema', name: 'Regional Cinema', icon: <Drama size={14}/> },\n    { id: 'street-food', name: 'Street Food', icon: <CookingPot size={14}/> },\n    { id: 'indian-mythology', name: 'Mythology', icon: <Scroll size={14}/> },\n    { id: 'classical-music-dance', name: 'Classical Arts', icon: <Music4 size={14}/> },\n    { id: 'festivals-of-india', name: 'Festivals', icon: <Landmark size={14}/> },\n    { id: 'startups-india', name: 'Startups India', icon: <Rocket size={14}/> },\n    { id: 'vedic-science', name: 'Vedic Science', icon: <Sprout size={14}/> },\n];\n\nexport default function SignupPage() {\n    const [step, setStep] = useState(1);\n    const [form, setForm] = useState({\n        email: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n        username: \"\",\n        name: \"\",\n        bio: \"\",\n        dob: \"\",\n        gender: \"\",\n        location: \"\",\n        phoneNumber: \"\",\n        accountType: \"user\",\n        creatorType: \"\", // New field for creator category\n        referredBy: \"\",\n    });\n    const [profilePictureFile, setProfilePictureFile] = useState<File | null>(null);\n    const [profilePicturePreview, setProfilePicturePreview] = useState<string | null>(null);\n    const [bannerFile, setBannerFile] = useState<File | null>(null);\n    const [bannerPreview, setBannerPreview] = useState<string | null>(null);\n    \n    const [error, setError] = useState(\"\");\n    const [success, setSuccess] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const router = useRouter();\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n        setForm({ ...form, [e.target.name]: e.target.value });\n    };\n\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>, type: 'avatar' | 'banner') => {\n        if (e.target.files && e.target.files[0]) {\n            const file = e.target.files[0];\n            const previewUrl = URL.createObjectURL(file);\n            if (type === 'avatar') {\n                setProfilePictureFile(file);\n                setProfilePicturePreview(previewUrl);\n            } else {\n                setBannerFile(file);\n                setBannerPreview(previewUrl);\n            }\n        }\n    };\n    \n    const nextStep = async () => {\n        setError(\"\");\n        if (step === 1) {\n            if (form.password !== form.confirmPassword) {\n                setError(\"Passwords do not match\");\n                return;\n            }\n            if (form.password.length < 6) {\n                setError(\"Password must be at least 6 characters long.\");\n                return;\n            }\n            if (form.username.length < 3) {\n                setError(\"Username must be at least 3 characters long.\");\n                return;\n            }\n            setLoading(true);\n            const unique = await isUsernameUnique(form.username);\n            setLoading(false);\n            if (!unique) {\n                setError(\"This username is already taken. Please choose another.\");\n                return;\n            }\n        }\n        setStep(s => s + 1);\n    };\n    \n    const prevStep = () => setStep(s => s - 1);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError(\"\");\n        \n        if(step !== 3) {\n            nextStep();\n            return;\n        }\n\n        setLoading(true);\n        try {\n            // Step 1: Create user in Firebase Auth. This will trigger our onNewUserCreate Cloud Function.\n            const userCredential = await createUserWithEmailAndPassword(auth, form.email, form.password);\n            \n            // Step 2: Upload files to Firebase Storage\n            let avatarUrl = `https://api.dicebear.com/8.x/bottts-neutral/svg?seed=${form.username}`;\n            let bannerUrl = \"\";\n\n            const uploadFile = async (file: File, path: string) => {\n                const fileName = `${userCredential.user.uid}-${Date.now()}-${file.name}`;\n                const storageRef = ref(storage, `${path}/${fileName}`);\n                const snapshot = await uploadBytes(storageRef, file);\n                return await getDownloadURL(snapshot.ref);\n            };\n\n            if (profilePictureFile) {\n                avatarUrl = await uploadFile(profilePictureFile, `user_uploads/${userCredential.user.uid}`);\n            }\n            if (bannerFile) {\n                bannerUrl = await uploadFile(bannerFile, `user_uploads/${userCredential.user.uid}`);\n            }\n\n            // Step 3: Update Auth Profile\n            await updateProfile(userCredential.user, {\n                displayName: form.name,\n                photoURL: avatarUrl,\n            });\n            \n            const randomSuffix = Math.floor(100 + Math.random() * 900);\n            const referralCode = `${form.username.toLowerCase().replace(/\\s/g, '')}${randomSuffix}`;\n\n            await setDoc(doc(db, \"users\", userCredential.user.uid), {\n                uid: userCredential.user.uid,\n                email: form.email,\n                name: form.name,\n                username: form.username.toLowerCase(),\n                bio: form.bio,\n                dob: form.dob,\n                gender: form.gender,\n                location: form.location,\n                phoneNumber: form.phoneNumber,\n                accountType: form.accountType,\n                creatorType: form.accountType === 'creator' ? form.creatorType : null,\n                avatar_url: avatarUrl,\n                banner_url: bannerUrl,\n                profileComplete: !!(form.dob && form.gender && form.location),\n                referredBy: form.referredBy || null,\n                referralCode: referralCode,\n            });\n\n            // Reserve the username in the public collection\n            await setDoc(doc(db, \"usernames\", form.username.toLowerCase()), {\n                uid: userCredential.user.uid\n            });\n\n            await sendEmailVerification(userCredential.user);\n\n            setSuccess(\"Welcome to the Vibe! Your account is created & premium access is activated. Redirecting...\");\n            setTimeout(() => router.push(\"/home?new=true\"), 3000);\n        } catch (err: any) {\n            if(err.code === 'auth/email-already-in-use') {\n                setError(\"This email is already in use. Please use another email or log in.\");\n            } else {\n                setError(err.message);\n            }\n        }\n        setLoading(false);\n    };\n\n    const renderStep = () => {\n        switch(step) {\n            case 1:\n                return (\n                    <motion.div key=\"step1\" initial={{ opacity: 0, x: 50 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -50 }} className=\"flex flex-col gap-4\">\n                        <h3 className=\"text-xl font-bold text-accent-cyan text-center\">Step 1: Account Credentials</h3>\n                        <input type=\"email\" name=\"email\" placeholder=\"Email\" className=\"input-glass w-full\" value={form.email} onChange={handleChange} required />\n                        <input type=\"text\" name=\"username\" placeholder=\"Username\" className=\"input-glass w-full\" value={form.username} onChange={handleChange} required />\n                        <input type=\"password\" name=\"password\" placeholder=\"Password (min. 6 characters)\" className=\"input-glass w-full\" value={form.password} onChange={handleChange} required />\n                        <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" className=\"input-glass w-full\" value={form.confirmPassword} onChange={handleChange} required />\n                         <input type=\"text\" name=\"referredBy\" placeholder=\"Referral Code (Optional)\" className=\"input-glass w-full\" value={form.referredBy} onChange={handleChange} />\n                          <p className=\"text-xs text-gray-400 text-center mt-2\">\n                            By proceeding to create your account, you acknowledge that you have read, understood, and agree to be bound by our{' '}\n                            <Link href=\"/terms\" className=\"underline hover:text-accent-cyan\">Terms of Service</Link> and{' '}\n                            <Link href=\"/privacy\" className=\"underline hover:text-accent-cyan\">Privacy Policy</Link>.\n                        </p>\n                    </motion.div>\n                );\n            case 2:\n                return (\n                     <motion.div key=\"step2\" initial={{ opacity: 0, x: 50 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -50 }} className=\"flex flex-col gap-4\">\n                        <h3 className=\"text-xl font-bold text-accent-cyan text-center\">Step 2: Tell Us About Yourself</h3>\n                         <input type=\"text\" name=\"name\" placeholder=\"Full Name\" className=\"input-glass w-full\" value={form.name} onChange={handleChange} required />\n                         <textarea name=\"bio\" placeholder=\"Your Bio\" className=\"input-glass w-full rounded-2xl min-h-[80px]\" value={form.bio} onChange={handleChange} />\n                         <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <input type=\"date\" name=\"dob\" placeholder=\"Date of Birth\" className=\"input-glass w-full\" value={form.dob} onChange={handleChange} />\n                            <select name=\"gender\" className=\"input-glass w-full\" value={form.gender} onChange={handleChange}>\n                                <option value=\"\" disabled>Select Gender...</option>\n                                <option value=\"male\">Male</option>\n                                <option value=\"female\">Female</option>\n                                <option value=\"non-binary\">Non-binary</option>\n                                <option value=\"other\">Other</option>\n                                <option value=\"prefer-not-to-say\">Prefer not to say</option>\n                            </select>\n                            <input type=\"text\" name=\"location\" placeholder=\"Location (e.g., City, Country)\" className=\"input-glass w-full\" value={form.location} onChange={handleChange} />\n                            <input type=\"tel\" name=\"phoneNumber\" placeholder=\"Phone Number (Optional)\" className=\"input-glass w-full\" value={form.phoneNumber} onChange={handleChange} />\n                         </div>\n                         <select name=\"accountType\" className=\"input-glass w-full\" value={form.accountType} onChange={handleChange}>\n                            <option value=\"user\">I'm a User</option>\n                            <option value=\"creator\">I'm a Creator</option>\n                            <option value=\"business\">I'm a Business</option>\n                        </select>\n                        {form.accountType === 'creator' && (\n                            <div className=\"flex flex-col gap-2\">\n                                <h4 className=\"text-sm font-bold text-accent-cyan\">What kind of creator are you?</h4>\n                                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                                    {creatorCategories.map(cat => (\n                                        <button key={cat.id} type=\"button\" onClick={() => setForm(f => ({...f, creatorType: cat.id}))} className={`btn-glass text-xs flex items-center justify-center gap-2 ${form.creatorType === cat.id ? 'bg-accent-cyan text-black' : ''}`}>\n                                            {cat.icon} {cat.name}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n                        )}\n                     </motion.div>\n                );\n            case 3:\n                return (\n                    <motion.div key=\"step3\" initial={{ opacity: 0, x: 50 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -50 }} className=\"flex flex-col gap-4 items-center\">\n                        <h3 className=\"text-xl font-bold text-accent-cyan text-center\">Step 3: Customize Your Look</h3>\n                        \n                        <div className=\"relative w-32 h-32 rounded-full border-4 border-accent-pink bg-black/20 flex items-center justify-center cursor-pointer overflow-hidden\">\n                             <input type=\"file\" className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={(e) => handleFileChange(e, 'avatar')} accept=\"image/*\"/>\n                             {profilePicturePreview ? <img src={profilePicturePreview} alt=\"avatar\" className=\"w-full h-full object-cover\" /> : <Camera className=\"text-gray-400\" />}\n                        </div>\n                        <p className=\"text-sm text-gray-300\">Upload a Profile Picture</p>\n\n                        <div className=\"w-full h-32 rounded-lg bg-black/20 flex items-center justify-center cursor-pointer overflow-hidden relative\">\n                             <input type=\"file\" className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={(e) => handleFileChange(e, 'banner')} accept=\"image/*\"/>\n                             {bannerPreview ? <img src={bannerPreview} alt=\"banner\" className=\"w-full h-full object-cover\" /> : <div className=\"text-gray-400 flex items-center gap-2\"><UploadCloud/> <span>Upload Banner</span></div>}\n                        </div>\n                         <p className=\"text-sm text-gray-300\">Upload a Banner Image</p>\n                    </motion.div>\n                );\n            default: return null;\n        }\n    }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 animate-fade-in\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"glass-card p-8 w-full max-w-lg flex flex-col gap-4\"\n      >\n        <AnimatePresence mode=\"wait\">\n            {success ? (\n                <motion.div key=\"success\" initial={{ opacity: 0}} animate={{ opacity: 1}} className=\"text-center flex flex-col items-center gap-4\">\n                     <Gift className=\"text-brand-gold animate-bounce\" size={48} />\n                     <h2 className=\"text-2xl font-headline font-bold text-brand-gold\">Welcome to Premium!</h2>\n                     <p className=\"text-accent-cyan mt-2\">{success}</p>\n                </motion.div>\n            ) : (\n                <motion.div key=\"form\">\n                    <h2 className=\"text-3xl font-headline font-bold text-accent-pink mb-2 text-center\">Join FlixTrend</h2>\n                    <p className=\"text-center text-brand-gold font-bold mb-4 text-sm\">Every new user gets free premium access!</p>\n                    \n                    <div className=\"w-full bg-black/20 rounded-full h-2.5 mb-4\">\n                        <motion.div \n                            className=\"bg-gradient-to-r from-accent-pink to-accent-cyan h-2.5 rounded-full\"\n                            animate={{ width: `${(step / 3) * 100}%` }}\n                            transition={{ duration: 0.5, ease: 'easeInOut' }}\n                        />\n                    </div>\n                    \n                    <AnimatePresence mode=\"wait\">\n                        {renderStep()}\n                    </AnimatePresence>\n\n                    {error && <div className=\"text-red-400 text-center animate-bounce mt-2\">{error}</div>}\n                    \n                    <div className=\"flex justify-between items-center mt-6\">\n                        {step > 1 ? (\n                            <button type=\"button\" className=\"btn-glass flex items-center gap-2\" onClick={prevStep} disabled={loading}>\n                                <ArrowLeft size={16} /> Back\n                            </button>\n                        ) : <div />}\n\n                        <button type=\"submit\" className=\"btn-glass bg-accent-pink flex items-center gap-2\" disabled={loading}>\n                            {loading ? 'Processing...' : step === 3 ? 'Finish & Sign Up' : 'Next'}\n                            {step < 3 && <ArrowRight size={16} />}\n                        </button>\n                    </div>\n                </motion.div>\n            )}\n        </AnimatePresence>\n\n        <div className=\"text-center mt-4\">\n          <span className=\"text-gray-400\">Already have an account? </span>\n          <Link href=\"/login\" className=\"text-accent-cyan hover:underline\">Log In</Link>\n        </div>\n         <div className=\"text-center mt-2 text-xs text-gray-400\">\n            <Link href=\"/terms\" className=\"hover:text-accent-cyan hover:underline\">Terms of Service</Link>\n            <span className=\"mx-2\">|</span>\n            <Link href=\"/privacy\" className=\"hover:text-accent-cyan hover:underline\">Privacy Policy</Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}