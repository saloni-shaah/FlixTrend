{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/drop/Unposted.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '@/utils/firebaseClient';\nimport { Button } from \"@/components/ui/button\";\n\nexport default function Unposted({ setIsCreating }: { setIsCreating: (isCreating: boolean) => void }) {\n  const [prompt, setPrompt] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchPrompt() {\n      const promptDocRef = doc(db, 'prompts', 'current');\n      const promptDoc = await getDoc(promptDocRef);\n      if (promptDoc.exists()) {\n        setPrompt(promptDoc.data().text);\n      }\n      setIsLoading(false);\n    }\n\n    fetchPrompt();\n  }, []);\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full\">\n      <h1 className=\"text-4xl font-bold\">The Drop</h1>\n      <p className=\"text-lg text-muted-foreground\">A new challenge awaits.</p>\n      \n      <div className=\"my-8 p-8 border rounded-lg\">\n        {isLoading ? (\n          <p className=\"text-center\">Loading prompt...</p>\n        ) : (\n          <p className=\"text-center\">{prompt || 'No prompt set yet.'}</p>\n        )}\n      </div>\n      \n      {/* This will be a real countdown timer */}\n      <div className=\"my-4 text-2xl font-bold\">\n        12:00:00\n      </div>\n\n      <Button onClick={() => setIsCreating(true)}>Create Drop</Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAOe,SAAS,SAAS,EAAE,aAAa,EAAoD;IAClG,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,MAAM,eAAe,IAAA,wKAAG,EAAC,oIAAE,EAAE,WAAW;YACxC,MAAM,YAAY,MAAM,IAAA,2KAAM,EAAC;YAC/B,IAAI,UAAU,MAAM,IAAI;gBACtB,UAAU,UAAU,IAAI,GAAG,IAAI;YACjC;YACA,aAAa;QACf;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;0BAE7C,8OAAC;gBAAI,WAAU;0BACZ,0BACC,8OAAC;oBAAE,WAAU;8BAAc;;;;;yCAE3B,8OAAC;oBAAE,WAAU;8BAAe,UAAU;;;;;;;;;;;0BAK1C,8OAAC;gBAAI,WAAU;0BAA0B;;;;;;0BAIzC,8OAAC,4IAAM;gBAAC,SAAS,IAAM,cAAc;0BAAO;;;;;;;;;;;;AAGlD"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/drop/VideoOrUpload.tsx"],"sourcesContent":["'use client';\n\nimport { Button } from \"@/components/ui/button\";\n\ntype Props = {\n  setCreationStep: (step: 'recordVideo' | 'uploadFile') => void;\n};\n\nexport default function VideoOrUpload({ setCreationStep }: Props) {\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full\">\n      <h1 className=\"text-4xl font-bold\">Create Drop</h1>\n\n      <div className=\"my-8 flex gap-4\">\n        <Button onClick={() => setCreationStep('recordVideo')}>Record Video</Button>\n        <Button onClick={() => setCreationStep('uploadFile')}>Upload File</Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQe,SAAS,cAAc,EAAE,eAAe,EAAS;IAC9D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4IAAM;wBAAC,SAAS,IAAM,gBAAgB;kCAAgB;;;;;;kCACvD,8OAAC,4IAAM;wBAAC,SAAS,IAAM,gBAAgB;kCAAe;;;;;;;;;;;;;;;;;;AAI9D"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/drop/RecordVideo.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { Button } from \"@/components/ui/button\";\n\nexport default function RecordVideo() {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [mediaStream, setMediaStream] = useState<MediaStream | null>(null);\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(null);\n  const [recordedChunks, setRecordedChunks] = useState<Blob[]>([]);\n  const [recordedVideo, setRecordedVideo] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function setupCamera() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n        setMediaStream(stream);\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (error) {\n        console.error(\"Error accessing camera:\", error);\n      }\n    }\n\n    if (!recordedVideo) {\n        setupCamera();\n    }\n\n    return () => {\n      if (mediaStream) {\n        mediaStream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [recordedVideo]);\n\n  const handleStartRecording = () => {\n    if (mediaStream) {\n      const recorder = new MediaRecorder(mediaStream);\n      setMediaRecorder(recorder);\n      recorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          setRecordedChunks((prev) => [...prev, event.data]);\n        }\n      };\n      recorder.start();\n      setIsRecording(true);\n    }\n  };\n\n  const handleStopRecording = () => {\n    if (mediaRecorder) {\n      mediaRecorder.stop();\n      setIsRecording(false);\n      const blob = new Blob(recordedChunks, { type: 'video/webm' });\n      const url = URL.createObjectURL(blob);\n      setRecordedVideo(url);\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n    }\n  };\n\n  const handleSave = () => {\n    // In a real app, you'd upload the video to a storage service\n    alert('Video saved! (not really)');\n  };\n\n  const handleDiscard = () => {\n    setRecordedVideo(null);\n    setRecordedChunks([]);\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full\">\n      <h1 className=\"text-4xl font-bold\">Record Drop</h1>\n      \n      <div className=\"my-8 relative\">\n        <video ref={videoRef} autoPlay={!recordedVideo} muted={!recordedVideo} controls={!!recordedVideo} src={recordedVideo || undefined} className=\"w-full h-auto border rounded-lg\" />\n        {isRecording && <div className=\"absolute top-2 right-2 w-4 h-4 bg-red-500 rounded-full animate-pulse\" />}\n      </div>\n      \n      <div className=\"flex gap-4\">\n        {!recordedVideo ? (\n          <Button onClick={isRecording ? handleStopRecording : handleStartRecording}>\n            {isRecording ? 'Stop' : 'Record'}\n          </Button>\n        ) : (\n          <>\n            <Button onClick={handleSave}>Save</Button>\n            <Button onClick={handleDiscard}>Discard</Button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,WAAW,IAAA,+MAAM,EAAmB;IAC1C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAqB;IACnE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAuB;IACzE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAElE,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,YAAY,CAAC;oBAAE,OAAO;oBAAM,OAAO;gBAAK;gBACpF,eAAe;gBACf,IAAI,SAAS,OAAO,EAAE;oBACpB,SAAS,OAAO,CAAC,SAAS,GAAG;gBAC/B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C;QACF;QAEA,IAAI,CAAC,eAAe;YAChB;QACJ;QAEA,OAAO;YACL,IAAI,aAAa;gBACf,YAAY,SAAS,GAAG,OAAO,CAAC,CAAA,QAAS,MAAM,IAAI;YACrD;QACF;IACF,GAAG;QAAC;KAAc;IAElB,MAAM,uBAAuB;QAC3B,IAAI,aAAa;YACf,MAAM,WAAW,IAAI,cAAc;YACnC,iBAAiB;YACjB,SAAS,eAAe,GAAG,CAAC;gBAC1B,IAAI,MAAM,IAAI,CAAC,IAAI,GAAG,GAAG;oBACvB,kBAAkB,CAAC,OAAS;+BAAI;4BAAM,MAAM,IAAI;yBAAC;gBACnD;YACF;YACA,SAAS,KAAK;YACd,eAAe;QACjB;IACF;IAEA,MAAM,sBAAsB;QAC1B,IAAI,eAAe;YACjB,cAAc,IAAI;YAClB,eAAe;YACf,MAAM,OAAO,IAAI,KAAK,gBAAgB;gBAAE,MAAM;YAAa;YAC3D,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,iBAAiB;YACf,IAAI,SAAS,OAAO,EAAE;gBAClB,SAAS,OAAO,CAAC,SAAS,GAAG;YACjC;QACJ;IACF;IAEA,MAAM,aAAa;QACjB,6DAA6D;QAC7D,MAAM;IACR;IAEA,MAAM,gBAAgB;QACpB,iBAAiB;QACjB,kBAAkB,EAAE;IACtB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,KAAK;wBAAU,UAAU,CAAC;wBAAe,OAAO,CAAC;wBAAe,UAAU,CAAC,CAAC;wBAAe,KAAK,iBAAiB;wBAAW,WAAU;;;;;;oBAC5I,6BAAe,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGjC,8OAAC;gBAAI,WAAU;0BACZ,CAAC,8BACA,8OAAC,4IAAM;oBAAC,SAAS,cAAc,sBAAsB;8BAClD,cAAc,SAAS;;;;;yCAG1B;;sCACE,8OAAC,4IAAM;4BAAC,SAAS;sCAAY;;;;;;sCAC7B,8OAAC,4IAAM;4BAAC,SAAS;sCAAe;;;;;;;;;;;;;;;;;;;AAM5C"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/drop/UploadFile.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport { Button } from \"@/components/ui/button\";\n\nexport default function UploadFile() {\n  const [file, setFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = event.target.files?.[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreviewUrl(reader.result as string);\n      };\n      reader.readAsDataURL(selectedFile);\n    }\n  };\n\n  const handleUpload = () => {\n    if (file) {\n      // In a real app, you'd upload the file to a storage service\n      alert(`Uploading ${file.name}... (not really)`);\n    }\n  };\n\n  const handleRemoveFile = () => {\n    setFile(null);\n    setPreviewUrl(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full\">\n      <h1 className=\"text-4xl font-bold\">Upload Drop</h1>\n\n      <div className=\"my-8 w-full max-w-md flex flex-col items-center gap-4\">\n        {previewUrl ? (\n          <div className=\"relative w-full\">\n            {file?.type.startsWith('video') ? (\n                <video src={previewUrl} controls className=\"w-full h-auto border rounded-lg\" />\n            ) : (\n                <img src={previewUrl} alt=\"File preview\" className=\"w-full h-auto border rounded-lg\" />\n            )}\n            <Button onClick={handleRemoveFile} className=\"absolute top-2 right-2\">Remove</Button>\n          </div>\n        ) : (\n          <div className=\"w-full h-48 border-2 border-dashed rounded-lg flex items-center justify-center\">\n            <input ref={fileInputRef} type=\"file\" onChange={handleFileChange} className=\"hidden\" id=\"file-upload\" />\n            <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                <p className=\"text-center text-muted-foreground\">Click to select a file</p>\n            </label>\n          </div>\n        )}\n      </div>\n\n      {file && <Button onClick={handleUpload}>Upload</Button>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAC5D,MAAM,eAAe,IAAA,+MAAM,EAAmB;IAE9C,MAAM,mBAAmB,CAAC;QACxB,MAAM,eAAe,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAC5C,IAAI,cAAc;YAChB,QAAQ;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG;gBACd,cAAc,OAAO,MAAM;YAC7B;YACA,OAAO,aAAa,CAAC;QACvB;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,MAAM;YACR,4DAA4D;YAC5D,MAAM,CAAC,UAAU,EAAE,KAAK,IAAI,CAAC,gBAAgB,CAAC;QAChD;IACF;IAEA,MAAM,mBAAmB;QACvB,QAAQ;QACR,cAAc;QACd,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC;gBAAI,WAAU;0BACZ,2BACC,8OAAC;oBAAI,WAAU;;wBACZ,MAAM,KAAK,WAAW,yBACnB,8OAAC;4BAAM,KAAK;4BAAY,QAAQ;4BAAC,WAAU;;;;;iDAE3C,8OAAC;4BAAI,KAAK;4BAAY,KAAI;4BAAe,WAAU;;;;;;sCAEvD,8OAAC,4IAAM;4BAAC,SAAS;4BAAkB,WAAU;sCAAyB;;;;;;;;;;;yCAGxE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAM,KAAK;4BAAc,MAAK;4BAAO,UAAU;4BAAkB,WAAU;4BAAS,IAAG;;;;;;sCACxF,8OAAC;4BAAM,SAAQ;4BAAc,WAAU;sCACnC,cAAA,8OAAC;gCAAE,WAAU;0CAAoC;;;;;;;;;;;;;;;;;;;;;;YAM1D,sBAAQ,8OAAC,4IAAM;gBAAC,SAAS;0BAAc;;;;;;;;;;;;AAG9C"}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/drop/Creating.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport VideoOrUpload from './VideoOrUpload';\nimport RecordVideo from './RecordVideo';\nimport UploadFile from './UploadFile';\n\nexport default function Creating() {\n  const [creationStep, setCreationStep] = useState('selectType');\n\n  if (creationStep === 'recordVideo') {\n    return <RecordVideo />;\n  }\n\n  if (creationStep === 'uploadFile') {\n    return <UploadFile />;\n  }\n\n  return <VideoOrUpload setCreationStep={setCreationStep} />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAI,iBAAiB,eAAe;QAClC,qBAAO,8OAAC,oJAAW;;;;;IACrB;IAEA,IAAI,iBAAiB,cAAc;QACjC,qBAAO,8OAAC,mJAAU;;;;;IACpB;IAEA,qBAAO,8OAAC,sJAAa;QAAC,iBAAiB;;;;;;AACzC"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/drop/Posted.tsx"],"sourcesContent":["'use client';\n\nexport default function Posted() {\n  return <div>Posted State</div>;\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS;IACtB,qBAAO,8OAAC;kBAAI;;;;;;AACd"}},
    {"offset": {"line": 594, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/drop/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Unposted from '@/components/drop/Unposted';\nimport Creating from '@/components/drop/Creating';\nimport Posted from '@/components/drop/Posted';\n\nexport default function DropPage() {\n  const [userHasPosted, setUserHasPosted] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n\n  // In a real application, this would be determined by fetching user data\n  useEffect(() => {\n    // For now, we'll just simulate the user not having posted\n    setUserHasPosted(false);\n  }, []);\n\n  if (isCreating) {\n    return <Creating />;\n  }\n\n  if (userHasPosted) {\n    return <Posted />;\n  }\n\n  return <Unposted setIsCreating={setIsCreating} />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,wEAAwE;IACxE,IAAA,kNAAS,EAAC;QACR,0DAA0D;QAC1D,iBAAiB;IACnB,GAAG,EAAE;IAEL,IAAI,YAAY;QACd,qBAAO,8OAAC,iJAAQ;;;;;IAClB;IAEA,IAAI,eAAe;QACjB,qBAAO,8OAAC,+IAAM;;;;;IAChB;IAEA,qBAAO,8OAAC,iJAAQ;QAAC,eAAe;;;;;;AAClC"}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/node_modules/%40radix-ui/react-slot/src/slot.tsx"],"sourcesContent":["import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\ndeclare module 'react' {\n  interface ReactElement {\n    $$typeof?: symbol | string;\n  }\n}\n\nconst REACT_LAZY_TYPE = Symbol.for('react.lazy');\n\ninterface LazyReactElement extends React.ReactElement {\n  $$typeof: typeof REACT_LAZY_TYPE;\n  _payload: PromiseLike<Exclude<React.ReactNode, PromiseLike<any>>>;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\nexport type Usable<T> = PromiseLike<T> | React.Context<T>;\nconst use: typeof React.use | undefined = (React as any)[' use '.trim().toString()];\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nfunction isPromiseLike(value: unknown): value is PromiseLike<unknown> {\n  return typeof value === 'object' && value !== null && 'then' in value;\n}\n\nfunction isLazyComponent(element: React.ReactNode): element is LazyReactElement {\n  return (\n    element != null &&\n    typeof element === 'object' &&\n    '$$typeof' in element &&\n    element.$$typeof === REACT_LAZY_TYPE &&\n    '_payload' in element &&\n    isPromiseLike(element._payload)\n  );\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlot(ownerName: string) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === 'function') {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n\n    if (slottable) {\n      // the new element to render is the one passed as a child of `Slottable`\n      const newElement = slottable.props.children;\n\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          // because the new element will be the one rendered, we are only interested\n          // in grabbing its children (`newElement.props.children`)\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement)\n            ? (newElement.props as { children: React.ReactNode }).children\n            : null;\n        } else {\n          return child;\n        }\n      });\n\n      return (\n        <SlotClone {...slotProps} ref={forwardedRef}>\n          {React.isValidElement(newElement)\n            ? React.cloneElement(newElement, undefined, newChildren)\n            : null}\n        </SlotClone>\n      );\n    }\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {children}\n      </SlotClone>\n    );\n  });\n\n  Slot.displayName = `${ownerName}.Slot`;\n  return Slot;\n}\n\nconst Slot = createSlot('Slot');\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ function createSlotClone(ownerName: string) {\n  const SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === 'function') {\n      children = use(children._payload);\n    }\n\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props = mergeProps(slotProps, children.props as AnyProps);\n      // do not pass ref to React.Fragment for React 19 compatibility\n      if (children.type !== React.Fragment) {\n        props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props);\n    }\n\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLOTTABLE_IDENTIFIER = Symbol('radix.slottable');\n\ninterface SlottableProps {\n  children: React.ReactNode;\n}\n\ninterface SlottableComponent extends React.FC<SlottableProps> {\n  __radixId: symbol;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlottable(ownerName: string) {\n  const Slottable: SlottableComponent = ({ children }) => {\n    return <>{children}</>;\n  };\n  Slottable.displayName = `${ownerName}.Slottable`;\n  Slottable.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable;\n}\n\nconst Slottable = createSlottable('Slottable');\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode,\n): child is React.ReactElement<SlottableProps, typeof Slottable> {\n  return (\n    React.isValidElement(child) &&\n    typeof child.type === 'function' &&\n    '__radixId' in child.type &&\n    child.type.__radixId === SLOTTABLE_IDENTIFIER\n  );\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Slot as Root,\n};\nexport type { SlotProps };\n"],"names":["Fragment", "Slot", "props", "Slottable"],"mappings":"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"}}]
}