{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/FollowButton.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { getFirestore, doc, onSnapshot, deleteDoc, setDoc, collection, addDoc, serverTimestamp } from \"firebase/firestore\";\nimport { app } from \"@/utils/firebaseClient\";\n\nconst db = getFirestore(app);\n\nexport function FollowButton({ profileUser, currentUser }: { profileUser: any; currentUser: any; }) {\n  const [isFollowing, setIsFollowing] = useState(false);\n\n  useEffect(() => {\n    if (!currentUser || !profileUser) return;\n    const unsub = onSnapshot(doc(db, \"users\", profileUser.uid, \"followers\", currentUser.uid), (doc) => {\n      setIsFollowing(doc.exists());\n    });\n    return () => unsub();\n  }, [profileUser?.uid, currentUser?.uid]);\n\n  const handleFollow = async () => {\n    if (!currentUser || !profileUser) return;\n    const followersCol = collection(db, \"users\", profileUser.uid, \"followers\");\n    const followingCol = collection(db, \"users\", currentUser.uid, \"following\");\n    const followDocRef = doc(followersCol, currentUser.uid);\n    const followingDocRef = doc(followingCol, profileUser.uid);\n    \n    if (isFollowing) {\n      await deleteDoc(followDocRef);\n      await deleteDoc(followingDocRef);\n    } else {\n      await setDoc(followDocRef, { followedAt: serverTimestamp(), userId: currentUser.uid });\n      await setDoc(followingDocRef, { followedAt: serverTimestamp(), userId: profileUser.uid });\n      \n      // Create a notification for the user being followed\n      const notifRef = collection(db, \"users\", profileUser.uid, \"notifications\");\n      await addDoc(notifRef, {\n        type: 'follow',\n        fromUserId: currentUser.uid,\n        fromUsername: currentUser.displayName,\n        fromAvatarUrl: currentUser.photoURL,\n        createdAt: serverTimestamp(),\n        read: false,\n      });\n    }\n  };\n  \n  if (!currentUser || !profileUser || currentUser.uid === profileUser.uid) {\n    return null;\n  }\n  \n  return (\n    <button className={`btn-glass text-sm px-4 py-2 ${isFollowing ? \"bg-accent-cyan/80 text-black\" : \"bg-accent-pink/80 text-white\"}`} onClick={e => { e.preventDefault(); handleFollow(); }}>\n      {isFollowing ? \"Unfollow\" : \"Follow\"}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMA,MAAM,KAAK,IAAA,iLAAY,EAAC,qIAAG;AAEpB,SAAS,aAAa,EAAE,WAAW,EAAE,WAAW,EAA2C;IAChG,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eAAe,CAAC,aAAa;QAClC,MAAM,QAAQ,IAAA,+KAAU,EAAC,IAAA,wKAAG,EAAC,IAAI,SAAS,YAAY,GAAG,EAAE,aAAa,YAAY,GAAG,GAAG,CAAC;YACzF,eAAe,IAAI,MAAM;QAC3B;QACA,OAAO,IAAM;IACf,GAAG;QAAC,aAAa;QAAK,aAAa;KAAI;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,eAAe,CAAC,aAAa;QAClC,MAAM,eAAe,IAAA,+KAAU,EAAC,IAAI,SAAS,YAAY,GAAG,EAAE;QAC9D,MAAM,eAAe,IAAA,+KAAU,EAAC,IAAI,SAAS,YAAY,GAAG,EAAE;QAC9D,MAAM,eAAe,IAAA,wKAAG,EAAC,cAAc,YAAY,GAAG;QACtD,MAAM,kBAAkB,IAAA,wKAAG,EAAC,cAAc,YAAY,GAAG;QAEzD,IAAI,aAAa;YACf,MAAM,IAAA,8KAAS,EAAC;YAChB,MAAM,IAAA,8KAAS,EAAC;QAClB,OAAO;YACL,MAAM,IAAA,2KAAM,EAAC,cAAc;gBAAE,YAAY,IAAA,oLAAe;gBAAI,QAAQ,YAAY,GAAG;YAAC;YACpF,MAAM,IAAA,2KAAM,EAAC,iBAAiB;gBAAE,YAAY,IAAA,oLAAe;gBAAI,QAAQ,YAAY,GAAG;YAAC;YAEvF,oDAAoD;YACpD,MAAM,WAAW,IAAA,+KAAU,EAAC,IAAI,SAAS,YAAY,GAAG,EAAE;YAC1D,MAAM,IAAA,2KAAM,EAAC,UAAU;gBACrB,MAAM;gBACN,YAAY,YAAY,GAAG;gBAC3B,cAAc,YAAY,WAAW;gBACrC,eAAe,YAAY,QAAQ;gBACnC,WAAW,IAAA,oLAAe;gBAC1B,MAAM;YACR;QACF;IACF;IAEA,IAAI,CAAC,eAAe,CAAC,eAAe,YAAY,GAAG,KAAK,YAAY,GAAG,EAAE;QACvE,OAAO;IACT;IAEA,qBACE,8OAAC;QAAO,WAAW,CAAC,4BAA4B,EAAE,cAAc,iCAAiC,gCAAgC;QAAE,SAAS,CAAA;YAAO,EAAE,cAAc;YAAI;QAAgB;kBACpL,cAAc,aAAa;;;;;;AAGlC"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/squad/explore/page.tsx"],"sourcesContent":["\n\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { getFirestore, collection, getDocs } from 'firebase/firestore';\nimport { auth, app } from '@/utils/firebaseClient';\nimport { FollowButton } from '@/components/FollowButton';\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport { Search } from 'lucide-react';\n\nconst db = getFirestore(app);\n\nexport default function ExploreCreatorsPage() {\n    const [allUsers, setAllUsers] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const currentUser = auth.currentUser;\n\n    useEffect(() => {\n        async function fetchAllUsers() {\n            setLoading(true);\n            try {\n                const usersSnap = await getDocs(collection(db, \"users\"));\n                const usersData = usersSnap.docs.map(doc => ({ uid: doc.id, ...doc.data() }));\n                setAllUsers(currentUser ? usersData.filter(u => u.uid !== currentUser.uid) : usersData);\n            } catch (error) {\n                console.error(\"Error fetching users:\", error);\n            }\n            setLoading(false);\n        }\n        fetchAllUsers();\n    }, [currentUser]);\n\n    const filteredUsers = searchTerm\n        ? allUsers.filter(user =>\n            user.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            user.username?.toLowerCase().includes(searchTerm.toLowerCase())\n          )\n        : allUsers;\n\n    return (\n        <div className=\"flex flex-col w-full pb-24\">\n            <div className=\"w-full max-w-4xl mx-auto\">\n                <h1 className=\"text-3xl font-headline bg-gradient-to-r from-accent-pink to-accent-cyan bg-clip-text text-transparent mb-6 text-center\">\n                    Discover Creators\n                </h1>\n                \n                <div className=\"relative mb-8 w-full max-w-lg mx-auto\">\n                    <input\n                        type=\"text\"\n                        className=\"input-glass w-full pl-12 pr-4 py-3\"\n                        placeholder=\"Search for creators...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                    />\n                    <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-xl text-brand-gold pointer-events-none\">\n                        <Search />\n                    </span>\n                </div>\n\n                {loading ? (\n                    <p className=\"text-center text-accent-cyan animate-pulse\">Loading creators...</p>\n                ) : filteredUsers.length === 0 ? (\n                    <p className=\"text-center text-gray-400 mt-8\">No users found. Try a different search!</p>\n                ) : (\n                    <motion.div \n                        className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                    >\n                        {filteredUsers.map(user => (\n                            <Link key={user.uid} href={`/squad/${user.uid}`} className=\"block\">\n                                <motion.div \n                                    className=\"glass-card p-4 flex flex-col items-center gap-4 hover:border-accent-cyan transition-all cursor-pointer h-full\"\n                                    whileHover={{ y: -5 }}\n                                >\n                                    <div className=\"w-24 h-24 rounded-full bg-gradient-to-tr from-accent-pink to-accent-cyan flex items-center justify-center text-white font-bold text-4xl overflow-hidden shrink-0\">\n                                        {user.avatar_url ? (\n                                            <img src={user.avatar_url} alt=\"avatar\" className=\"w-full h-full object-cover rounded-full\" />\n                                        ) : (\n                                            <span>{user.name ? user.name[0] : user.username?.[0] || \"U\"}</span>\n                                        )}\n                                    </div>\n                                    <div className=\"flex-1 text-center\">\n                                        <div className=\"font-headline text-accent-cyan text-lg\">{user.name}</div>\n                                        <div className=\"text-sm text-gray-400\">@{user.username}</div>\n                                        <p className=\"text-xs text-gray-500 mt-2 line-clamp-2\">{user.bio}</p>\n                                    </div>\n                                    <FollowButton profileUser={user} currentUser={currentUser} />\n                                </motion.div>\n                            </Link>\n                        ))}\n                    </motion.div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;;AASA,MAAM,KAAK,IAAA,iLAAY,EAAC,qIAAG;AAEZ,SAAS;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,cAAc,sIAAI,CAAC,WAAW;IAEpC,IAAA,kNAAS,EAAC;QACN,eAAe;YACX,WAAW;YACX,IAAI;gBACA,MAAM,YAAY,MAAM,IAAA,4KAAO,EAAC,IAAA,+KAAU,EAAC,IAAI;gBAC/C,MAAM,YAAY,UAAU,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;wBAAE,KAAK,IAAI,EAAE;wBAAE,GAAG,IAAI,IAAI,EAAE;oBAAC,CAAC;gBAC3E,YAAY,cAAc,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK,YAAY,GAAG,IAAI;YACjF,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;YAC3C;YACA,WAAW;QACf;QACA;IACJ,GAAG;QAAC;KAAY;IAEhB,MAAM,gBAAgB,aAChB,SAAS,MAAM,CAAC,CAAA,OACd,KAAK,IAAI,EAAE,cAAc,SAAS,WAAW,WAAW,OACxD,KAAK,QAAQ,EAAE,cAAc,SAAS,WAAW,WAAW,OAE9D;IAEN,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAG,WAAU;8BAAyH;;;;;;8BAIvI,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BACG,MAAK;4BACL,WAAU;4BACV,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;sCAEjD,8OAAC;4BAAK,WAAU;sCACZ,cAAA,8OAAC,gNAAM;;;;;;;;;;;;;;;;gBAId,wBACG,8OAAC;oBAAE,WAAU;8BAA6C;;;;;2BAC1D,cAAc,MAAM,KAAK,kBACzB,8OAAC;oBAAE,WAAU;8BAAiC;;;;;yCAE9C,8OAAC,oMAAM,CAAC,GAAG;oBACP,WAAU;oBACV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;8BAErB,cAAc,GAAG,CAAC,CAAA,qBACf,8OAAC,uKAAI;4BAAgB,MAAM,CAAC,OAAO,EAAE,KAAK,GAAG,EAAE;4BAAE,WAAU;sCACvD,cAAA,8OAAC,oMAAM,CAAC,GAAG;gCACP,WAAU;gCACV,YAAY;oCAAE,GAAG,CAAC;gCAAE;;kDAEpB,8OAAC;wCAAI,WAAU;kDACV,KAAK,UAAU,iBACZ,8OAAC;4CAAI,KAAK,KAAK,UAAU;4CAAE,KAAI;4CAAS,WAAU;;;;;iEAElD,8OAAC;sDAAM,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC,EAAE,GAAG,KAAK,QAAQ,EAAE,CAAC,EAAE,IAAI;;;;;;;;;;;kDAGhE,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAI,WAAU;0DAA0C,KAAK,IAAI;;;;;;0DAClE,8OAAC;gDAAI,WAAU;;oDAAwB;oDAAE,KAAK,QAAQ;;;;;;;0DACtD,8OAAC;gDAAE,WAAU;0DAA2C,KAAK,GAAG;;;;;;;;;;;;kDAEpE,8OAAC,kJAAY;wCAAC,aAAa;wCAAM,aAAa;;;;;;;;;;;;2BAjB3C,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;AA0B/C"}}]
}